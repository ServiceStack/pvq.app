@page "/"

<PageTitle>Home</PageTitle>

<div class="mt-8 mb-20 mx-auto max-w-5xl px-4">
    <div class="mb-4">
        <h1 class="text-4xl font-bold tracking-tight text-gray-900 dark:text-gray-100 sm:text-5xl">
            <span class="block xl:inline">Top Questions</span>
        </h1>
    </div>

    <QuestionPosts Posts=@Posts />
</div>

@code {

    List<Post> Posts { get; set; } = [];

    protected override void OnInitialized()
    {
        using var db = HostContext.AppHost.GetDbConnection();
        Posts = db.Select<Post>()
            .OrderByDescending(x => x.Score)
            .Take(25)
            .ToList();
    }
}
