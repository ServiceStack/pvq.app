(function(be,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@servicestack/client")):typeof define=="function"&&define.amd?define(["exports","vue","@servicestack/client"],e):(be=typeof globalThis<"u"?globalThis:be||self,e(be.ServiceStackVue={},be.Vue,be.Servicestack))})(this,function(be,e,m){"use strict";var ru=Object.defineProperty;var iu=(be,e,m)=>e in be?ru(be,e,{enumerable:!0,configurable:!0,writable:!0,value:m}):be[e]=m;var me=(be,e,m)=>(iu(be,typeof e!="symbol"?e+"":e,m),m);const Ul={class:"flex items-center"},ql={key:0,class:"flex-shrink-0 mr-3"},Ql={key:0,class:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},Gl=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)],Kl={key:1,class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},Zl=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"},null,-1)],Wl={key:2,class:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},Jl=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M19 10.5a8.5 8.5 0 11-17 0 8.5 8.5 0 0117 0zM8.25 9.75A.75.75 0 019 9h.253a1.75 1.75 0 011.709 2.13l-.46 2.066a.25.25 0 00.245.304H11a.75.75 0 010 1.5h-.253a1.75 1.75 0 01-1.709-2.13l.46-2.066a.25.25 0 00-.245-.304H9a.75.75 0 01-.75-.75zM10 7a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"},null,-1)],Xl={key:3,class:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},Yl=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"},null,-1)],en=e.defineComponent({__name:"Alert",props:{type:{default:"warn"},hideIcon:{type:Boolean}},setup(t){const o=t,l=e.computed(()=>o.type=="info"?"bg-blue-50 dark:bg-blue-200":o.type=="error"?"bg-red-50 dark:bg-red-200":o.type=="success"?"bg-green-50 dark:bg-green-200":"bg-yellow-50 dark:bg-yellow-200"),n=e.computed(()=>o.type=="info"?"border-blue-400":o.type=="error"?"border-red-400":o.type=="success"?"border-green-400":"border-yellow-400"),a=e.computed(()=>o.type=="info"?"text-blue-700":o.type=="error"?"text-red-700":o.type=="success"?"text-green-700":"text-yellow-700");return(s,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([l.value,n.value,"border-l-4 p-4"])},[e.createElementVNode("div",Ul,[s.hideIcon?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ql,[s.type=="warn"?(e.openBlock(),e.createElementBlock("svg",Ql,Gl)):s.type=="error"?(e.openBlock(),e.createElementBlock("svg",Kl,Zl)):s.type=="info"?(e.openBlock(),e.createElementBlock("svg",Wl,Jl)):s.type=="success"?(e.openBlock(),e.createElementBlock("svg",Xl,Yl)):e.createCommentVNode("",!0)])),e.createElementVNode("div",null,[e.createElementVNode("p",{class:e.normalizeClass([a.value,"text-sm"])},[e.renderSlot(s.$slots,"default")],2)])])],2))}}),tn={key:0,class:"rounded-md bg-green-50 dark:bg-green-200 p-4",role:"alert"},on={class:"flex"},ln=e.createElementVNode("div",{class:"flex-shrink-0"},[e.createElementVNode("svg",{class:"h-5 w-5 text-green-400 dark:text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1),nn={class:"ml-3"},an={class:"text-sm font-medium text-green-800"},sn={key:0},rn={class:"ml-auto pl-3"},dn={class:"-mx-1.5 -my-1.5"},cn=[e.createElementVNode("span",{class:"sr-only"},"Dismiss",-1),e.createElementVNode("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})],-1)],mn=e.defineComponent({__name:"AlertSuccess",props:{message:{}},setup(t){const o=e.ref(!1);return(l,n)=>o.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",tn,[e.createElementVNode("div",on,[ln,e.createElementVNode("div",nn,[e.createElementVNode("h3",an,[l.message?(e.openBlock(),e.createElementBlock("span",sn,e.toDisplayString(l.message),1)):e.renderSlot(l.$slots,"default",{key:1})])]),e.createElementVNode("div",rn,[e.createElementVNode("div",dn,[e.createElementVNode("button",{type:"button",class:"inline-flex rounded-md bg-green-50 dark:bg-green-200 p-1.5 text-green-500 dark:text-green-600 hover:bg-green-100 dark:hover:bg-green-700 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-green-50 dark:ring-offset-green-200",onClick:n[0]||(n[0]=a=>o.value=!0)},cn)])])])]))}}),pn={class:"flex"},un=e.createElementVNode("div",{class:"flex-shrink-0"},[e.createElementVNode("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{fill:"currentColor",d:"M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12S6.47 2 12 2m3.59 5L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41L15.59 7Z"})])],-1),fn={class:"ml-3"},hn={class:"text-sm text-red-700 dark:text-red-200"},gn=e.defineComponent({__name:"ErrorSummary",props:{status:{},except:{},class:{}},setup(t){const o=t;let l=e.inject("ApiState",void 0);const n=e.computed(()=>o.status||l!=null&&l.error.value?m.errorResponseExcept.call({responseStatus:o.status??(l==null?void 0:l.error.value)},o.except??[]):null);return(a,s)=>n.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(`bg-red-50 dark:bg-red-900 border-l-4 border-red-400 p-4 ${a.$props.class}`)},[e.createElementVNode("div",pn,[un,e.createElementVNode("div",fn,[e.createElementVNode("p",hn,e.toDisplayString(n.value),1)])])],2)):e.createCommentVNode("",!0)}}),yn=["id","aria-describedby"],kn=e.defineComponent({__name:"InputDescription",props:{id:{},description:{}},setup(t){return(o,l)=>o.description?(e.openBlock(),e.createElementBlock("div",{key:"description",class:"mt-2 text-sm text-gray-500",id:`${o.id}-description`,"aria-describedby":`${o.id}-description`},[e.createElementVNode("div",null,e.toDisplayString(o.description),1)],8,yn)):e.createCommentVNode("",!0)}});function _t(t){return m.dateFmt(t).replace(/\//g,"-")}function zo(t){return t==null?"":m.toTime(t)}function Ao(t,o){t.value=null,e.nextTick(()=>t.value=o)}function Xe(t){return Object.keys(t).forEach(o=>{const l=t[o];t[o]=e.isRef(l)?e.unref(l):l}),t}function qe(t,o,l){l?(o.value=t.entering.cls+" "+t.entering.from,setTimeout(()=>o.value=t.entering.cls+" "+t.entering.to,0)):(o.value=t.leaving.cls+" "+t.leaving.from,setTimeout(()=>o.value=t.leaving.cls+" "+t.leaving.to,0))}function Vt(t){if(typeof document>"u")return;let o=(t==null?void 0:t.after)||document.activeElement,l=o&&o.form;if(l){let n=':not([disabled]):not([tabindex="-1"])',a=l.querySelectorAll(`a:not([disabled]), button${n}, input[type=text]${n}, [tabindex]${n}`),s=Array.prototype.filter.call(a,d=>d.offsetWidth>0||d.offsetHeight>0||d===o),i=s.indexOf(o);i>-1&&(s[i+1]||s[0]).focus()}}function Ye(t){if(!t)return null;if(typeof t=="string")return t;const o=typeof t=="function"?new t:typeof t=="object"?t:null;if(!o)throw new Error(`Invalid DTO Type '${typeof t}'`);if(typeof o.getTypeName!="function")throw new Error(`${JSON.stringify(o)} is not a Request DTO`);const l=o.getTypeName();if(!l)throw new Error("DTO Required");return l}function Fe(t,o,l){l||(l={});let n=l.cls||l.className||l.class;return n&&(l=m.omit(l,["cls","class","className"]),l.class=n),o==null?`<${t}`+Qt(l)+"/>":`<${t}`+Qt(l)+`>${o||""}</${t}>`}function Qt(t){return Object.keys(t).reduce((o,l)=>`${o} ${l}="${m.enc(t[l])}"`,"")}function $t(t){return Object.assign({target:"_blank",rel:"noopener",class:"text-blue-600"},t)}function et(t){return wo(t)}let bn=["string","number","boolean","null","undefined"];function Qe(t){return bn.indexOf(typeof t)>=0||t instanceof Date}function dt(t){return!Qe(t)}class Fo{get length(){return typeof localStorage>"u"?0:localStorage.length}getItem(o){return typeof localStorage>"u"?null:localStorage.getItem(o)}setItem(o,l){typeof localStorage>"u"||localStorage.setItem(o,l)}removeItem(o){typeof localStorage>"u"||localStorage.removeItem(o)}clear(){typeof localStorage>"u"||localStorage.clear()}key(o){return typeof localStorage>"u"?null:localStorage.key(o)}}function Et(t){return typeof t=="string"?JSON.parse(t):null}function Gt(t){if(typeof history<"u"){const o=m.setQueryString(location.href,t);history.pushState({},"",o)}}function Kt(t,o){if(["function","Function","eval","=>",";"].some(a=>t.includes(a)))throw new Error(`Unsafe script: '${t}'`);const n=Object.assign(Object.keys(globalThis).reduce((a,s)=>(a[s]=void 0,a),{}),o);return new Function("with(this) { return ("+t+") }").call(n)}function Zt(t){typeof navigator<"u"&&navigator.clipboard.writeText(t)}function Wt(t){const o=Q.config.storage.getItem(t);return o?JSON.parse(o):null}function Bt(t,o){return m.appendQueryString(`swr.${m.nameOf(t)}`,o?Object.assign({},t,o):t)}function wn(t){if(t.request){const o=Bt(t.request,t.args);Q.config.storage.removeItem(o)}}async function Io(t,o,l,n,a){const s=Bt(o,n);l(new m.ApiResult({response:Wt(s)}));const i=await t.api(o,n,a);if(i.succeeded&&i.response){i.response._date=new Date().valueOf();const d=JSON.stringify(i.response);Q.config.storage.setItem(s,d),l(i)}return i}function Po(t,o){let l=null;return(...n)=>{l&&clearTimeout(l),l=setTimeout(()=>{t(...n)},o||100)}}function Ge(t){return typeof t=="string"?t.split(","):t||[]}function Ke(t,o){const l=Ge(o);return t.reduce((n,a)=>(n[a]=!l.includes(a),n),{})}function Jt(){return{LocalStore:Fo,dateInputFormat:_t,timeInputFormat:zo,setRef:Ao,unRefs:Xe,transition:qe,focusNextElement:Vt,getTypeName:Ye,htmlTag:Fe,htmlAttrs:Qt,linkAttrs:$t,toAppUrl:et,isPrimitive:Qe,isComplexType:dt,pushState:Gt,scopedExpr:Kt,copyText:Zt,fromCache:Wt,swrCacheKey:Bt,swrClear:wn,swrApi:Io,asStrings:Ge,asOptions:Ke,createDebounce:Po}}const jo="png,jpg,jpeg,jfif,gif,svg,webp".split(","),Ro={img:"png,jpg,jpeg,gif,svg,webp,png,jpg,jpeg,gif,bmp,tif,tiff,webp,ai,psd,ps".split(","),vid:"avi,m4v,mov,mp4,mpg,mpeg,wmv,webm".split(","),aud:"mp3,mpa,ogg,wav,wma,mid,webm".split(","),ppt:"key,odp,pps,ppt,pptx".split(","),xls:"xls,xlsm,xlsx,ods,csv,tsv".split(","),doc:"doc,docx,pdf,rtf,tex,txt,md,rst,xls,xlsm,xlsx,ods,key,odp,pps,ppt,pptx".split(","),zip:"zip,tar,gz,7z,rar,gzip,deflate,br,iso,dmg,z,lz,lz4,lzh,s7z,apl,arg,jar,war".split(","),exe:"exe,bat,sh,cmd,com,app,msi,run,vb,vbs,js,ws,wsh".split(","),att:"bin,oct,dat".split(",")},Oo=Object.keys(Ro),Re=(t,o)=>`<svg xmlns='http://www.w3.org/2000/svg' aria-hidden='true' role='img' preserveAspectRatio='xMidYMid meet' viewBox='${t}'>${o}</svg>`,xt={img:Re("4 4 16 16","<path fill='currentColor' d='M20 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2zm-2 0H6v6.38l2.19-2.19l5.23 5.23l1-1a1.59 1.59 0 0 1 2.11.11L18 16V6zm-5 3.5a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0z'/>"),vid:Re("0 0 24 24","<path fill='currentColor' d='m14 2l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8m4 18V9h-5V4H6v16h12m-2-2l-2.5-1.7V18H8v-5h5.5v1.7L16 13v5Z'/>"),aud:Re("0 0 24 24","<path fill='currentColor' d='M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6zm10-9h-4v3.88a2.247 2.247 0 0 0-3.5 1.87c0 1.24 1.01 2.25 2.25 2.25S13 17.99 13 16.75V13h3v-2z'/>"),ppt:Re("0 0 48 48","<g fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='4'><path d='M4 8h40'/><path d='M8 8h32v26H8V8Z' clip-rule='evenodd'/><path d='m22 16l5 5l-5 5m-6 16l8-8l8 8'/></g>"),xls:Re("0 0 256 256","<path fill='currentColor' d='M200 26H72a14 14 0 0 0-14 14v26H40a14 14 0 0 0-14 14v96a14 14 0 0 0 14 14h18v26a14 14 0 0 0 14 14h128a14 14 0 0 0 14-14V40a14 14 0 0 0-14-14Zm-42 76h44v52h-44Zm44-62v50h-44V80a14 14 0 0 0-14-14h-2V38h58a2 2 0 0 1 2 2ZM70 40a2 2 0 0 1 2-2h58v28H70ZM38 176V80a2 2 0 0 1 2-2h104a2 2 0 0 1 2 2v96a2 2 0 0 1-2 2H40a2 2 0 0 1-2-2Zm32 40v-26h60v28H72a2 2 0 0 1-2-2Zm130 2h-58v-28h2a14 14 0 0 0 14-14v-10h44v50a2 2 0 0 1-2 2ZM69.2 148.4L84.5 128l-15.3-20.4a6 6 0 1 1 9.6-7.2L92 118l13.2-17.6a6 6 0 0 1 9.6 7.2L99.5 128l15.3 20.4a6 6 0 0 1-9.6 7.2L92 138l-13.2 17.6a6 6 0 1 1-9.6-7.2Z'/>"),doc:Re("0 0 32 32","<path fill='currentColor' d='M26 30H11a2.002 2.002 0 0 1-2-2v-6h2v6h15V6h-9V4h9a2.002 2.002 0 0 1 2 2v22a2.002 2.002 0 0 1-2 2Z'/><path fill='currentColor' d='M17 10h7v2h-7zm-1 5h8v2h-8zm-1 5h9v2h-9zm-6-1a5.005 5.005 0 0 1-5-5V3h2v11a3 3 0 0 0 6 0V5a1 1 0 0 0-2 0v10H8V5a3 3 0 0 1 6 0v9a5.005 5.005 0 0 1-5 5z'/>"),zip:Re("0 0 16 16","<g fill='currentColor'><path d='M6.5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.109 0l-.93-.62a1 1 0 0 1-.415-1.074l.4-1.599V7.5zm2 0h-1v.938a1 1 0 0 1-.03.243l-.4 1.598l.93.62l.93-.62l-.4-1.598a1 1 0 0 1-.03-.243V7.5z'/><path d='M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm5.5-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9v1H8v1h1v1H8v1h1v1H7.5V5h-1V4h1V3h-1V2h1V1z'/></g>"),exe:Re("0 0 16 16","<path fill='currentColor' fill-rule='evenodd' d='M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM2.575 15.202H.785v-1.073H2.47v-.606H.785v-1.025h1.79v-.648H0v3.999h2.575v-.647ZM6.31 11.85h-.893l-.823 1.439h-.036l-.832-1.439h-.931l1.227 1.983l-1.239 2.016h.861l.853-1.415h.035l.85 1.415h.908l-1.254-1.992L6.31 11.85Zm1.025 3.352h1.79v.647H6.548V11.85h2.576v.648h-1.79v1.025h1.684v.606H7.334v1.073Z'/>"),att:Re("0 0 24 24","<path fill='currentColor' d='M14 0a5 5 0 0 1 5 5v12a7 7 0 1 1-14 0V9h2v8a5 5 0 0 0 10 0V5a3 3 0 1 0-6 0v12a1 1 0 1 0 2 0V6h2v11a3 3 0 1 1-6 0V5a5 5 0 0 1 5-5Z'/>")},Cn=/[\r\n%#()<>?[\\\]^`{|}]/g,Ho=1024,_n=["Bytes","KB","MB","GB","TB"],Vn=(()=>{const t="application/",o=t+"vnd.openxmlformats-officedocument.",l="image/",n="text/",a="audio/",s="video/",i={jpg:l+"jpeg",tif:l+"tiff",svg:l+"svg+xml",ico:l+"x-icon",ts:n+"typescript",py:n+"x-python",sh:n+"x-sh",mp3:a+"mpeg3",mpg:s+"mpeg",ogv:s+"ogg",xlsx:o+"spreadsheetml.sheet",xltx:o+"spreadsheetml.template",docx:o+"wordprocessingml.document",dotx:o+"wordprocessingml.template",pptx:o+"presentationml.presentation",potx:o+"presentationml.template",ppsx:o+"presentationml.slideshow",mdb:t+"vnd.ms-access"};function d(c,p){c.split(",").forEach(w=>i[w]=p)}function r(c,p){c.split(",").forEach(w=>i[w]=p(w))}return r("jpeg,gif,png,tiff,bmp,webp",c=>l+c),r("jsx,csv,css",c=>n+c),r("aac,ac3,aiff,m4a,m4b,m4p,mid,midi,wav",c=>a+c),r("3gpp,avi,dv,divx,ogg,mp4,webm",c=>s+c),r("rtf,pdf",c=>t+c),d("htm,html,shtm",n+"html"),d("js,mjs,cjs",n+"javascript"),d("yml,yaml",t+"yaml"),d("bat,cmd",t+"bat"),d("xml,csproj,fsproj,vbproj",n+"xml"),d("txt,ps1",n+"plain"),d("qt,mov",s+"quicktime"),d("doc,dot",t+"msword"),d("xls,xlt,xla",t+"excel"),d("ppt,oit,pps,ppa",t+"vnd.ms-powerpoint"),d("cer,crt,der",t+"x-x509-ca-cert"),d("gz,tgz,zip,rar,lzh,z",t+"x-compressed"),d("aaf,aca,asd,bin,cab,chm,class,cur,db,dat,deploy,dll,dsp,exe,fla,ics,inf,mix,msi,mso,obj,ocx,prm,prx,psd,psp,qxd,sea,snp,so,sqlite,toc,ttf,u32,xmp,xsn,xtp",t+"octet-stream"),i})();let Xt=[];function Uo(t){return t=t.replace(/"/g,"'"),t=t.replace(/>\s+</g,"><"),t=t.replace(/\s{2,}/g," "),t.replace(Cn,encodeURIComponent)}function Yt(t){return"data:image/svg+xml;utf8,"+Uo(t)}function qo(t){let o=URL.createObjectURL(t);return Xt.push(o),o}function Qo(){Xt.forEach(t=>{try{URL.revokeObjectURL(t)}catch(o){console.error("URL.revokeObjectURL",o)}}),Xt=[]}function eo(t){if(!t)return null;let o=m.leftPart(t,"?");return m.lastRightPart(o,"/")}function ct(t){let o=eo(t);return o==null||o.indexOf(".")===-1?null:m.lastRightPart(o,".").toLowerCase()}function to(t){let o=ct(t.name);return o&&jo.indexOf(o)>=0?qo(t):Ze(t.name)}function oo(t){if(!t)return!1;if(t.startsWith("blob:")||t.startsWith("data:"))return!0;let o=ct(t);return o&&jo.indexOf(o)>=0||!1}function hu(t){return t}function Ze(t){if(!t)return null;let o=ct(t);return o==null||oo(t)?t:mt(o)||Yt(xt.doc)}function mt(t){let o=Go(t);return o&&Yt(o)||null}function Go(t){if(xt[t])return xt[t];for(let o=0;o<Oo.length;o++){let l=Oo[o];if(Ro[l].indexOf(t)>=0)return xt[l]}return null}function lo(t,o=2){if(t===0)return"0 Bytes";const l=o<0?0:o,n=Math.floor(Math.log(t)/Math.log(Ho));return parseFloat((t/Math.pow(Ho,n)).toFixed(l))+" "+_n[n]}function $n(t){return t.files&&Array.from(t.files).map(o=>({fileName:o.name,contentLength:o.size,filePath:to(o)}))}function Nt(t,o){t.onerror=null,t.src=no(t.src,o)||""}function no(t,o){return mt(m.lastRightPart(t,".").toLowerCase())||(o?mt(o)||o:null)||mt("doc")}function ao(t){if(!t)throw new Error("fileNameOrExt required");const o=m.lastRightPart(t,".").toLowerCase();return Vn[o]||"application/"+o}function En(){return{extSvg:Go,extSrc:mt,getExt:ct,encodeSvg:Uo,canPreview:oo,getFileName:eo,getMimeType:ao,formatBytes:lo,filePathUri:Ze,svgToDataUri:Yt,fileImageUri:to,objectUrl:qo,flush:Qo,inputFiles:$n,iconOnError:Nt,iconFallbackSrc:no}}class Bn{constructor(o){me(this,"view");me(this,"includeTypes");Object.assign(this,o)}getTypeName(){return"MetadataApp"}getMethod(){return"GET"}createResponse(){return{}}}const tt="/metadata/app.json",xn={Boolean:"checkbox",DateTime:"date",DateOnly:"date",DateTimeOffset:"date",TimeSpan:"time",TimeOnly:"time",Byte:"number",Short:"number",Int64:"number",Int32:"number",UInt16:"number",UInt32:"number",UInt64:"number",Single:"number",Double:"number",Decimal:"number",String:"text",Guid:"text",Uri:"text"},Nn={number:"Int32",checkbox:"Boolean",date:"DateTime","datetime-local":"DateTime",time:"TimeSpan"},so={Byte:"byte",Int16:"short",Int32:"int",Int64:"long",UInt16:"ushort",Unt32:"uint",UInt64:"ulong",Single:"float",Double:"double",Decimal:"decimal"};[...Object.keys(so),...Object.values(so)];const Sn={String:"string",Boolean:"bool",...so};function St(t){return Sn[t]||t}function Ko(t,o){return t?(o||(o=[]),t==="Nullable`1"?St(o[0])+"?":t.endsWith("[]")?`List<${St(t.substring(0,t.length-2))}>`:o.length===0?St(t):m.leftPart(St(t),"`")+"<"+o.join(",")+">"):""}function vn(t){return t&&Ko(t.name,t.genericArgs)}class ot{constructor(){me(this,"Query");me(this,"QueryInto");me(this,"Create");me(this,"Update");me(this,"Patch");me(this,"Delete")}get AnyQuery(){return this.Query||this.QueryInto}get AnyUpdate(){return this.Patch||this.Update}toArray(){return[this.Query,this.QueryInto,this.Create,this.Update,this.Patch,this.Delete].filter(l=>!!l).map(l=>l)}get empty(){return!this.Query&&!this.QueryInto&&!this.Create&&!this.Update&&!this.Patch&&!this.Delete}add(o){$e.isQueryInto(o)&&!this.QueryInto?this.QueryInto=o:$e.isQuery(o)&&!this.Query?this.Query=o:$e.isCreate(o)&&!this.Create?this.Create=o:$e.isUpdate(o)&&!this.Update?this.Update=o:$e.isPatch(o)&&!this.Patch?this.Patch=o:$e.isDelete(o)&&!this.Delete&&(this.Delete=o)}static from(o){const l=new ot;return o.forEach(n=>{l.add(n)}),l}static forType(o,l){var a;let n=new ot;return o&&(l??(l=(a=Q.metadata.value)==null?void 0:a.api),l==null||l.operations.forEach(s=>{var i;((i=s.dataModel)==null?void 0:i.name)==o&&n.add(s)})),n}}const $e={Create:"ICreateDb`1",Update:"IUpdateDb`1",Patch:"IPatchDb`1",Delete:"IDeleteDb`1",AnyRead:["QueryDb`1","QueryDb`2"],AnyWrite:["ICreateDb`1","IUpdateDb`1","IPatchDb`1","IDeleteDb`1"],isAnyQuery:t=>m.map(t.request.inherits,o=>$e.AnyRead.indexOf(o.name)>=0),isQuery:t=>m.map(t.request.inherits,o=>o.name==="QueryDb`1"),isQueryInto:t=>m.map(t.request.inherits,o=>o.name==="QueryDb`2"),isCrud:t=>{var o;return(o=t.request.implements)==null?void 0:o.some(l=>$e.AnyWrite.indexOf(l.name)>=0)},isCreate:t=>Dt(t,$e.Create),isUpdate:t=>Dt(t,$e.Update),isPatch:t=>Dt(t,$e.Patch),isDelete:t=>Dt(t,$e.Delete),model:t=>{var o,l,n;return t?m.map(t.inherits,a=>$e.AnyRead.indexOf(a.name)>=0)?(o=t.inherits)==null?void 0:o.genericArgs[0]:(n=(l=t.implements)==null?void 0:l.find(a=>$e.AnyWrite.indexOf(a.name)>=0))==null?void 0:n.genericArgs[0]:null}};function Ln(t){var o;return((o=t.input)==null?void 0:o.type)||vt(ro(t))}function Zo(t){return t.endsWith("?")?m.chop(t,1):t}function vt(t){return xn[Zo(t)]}function Mn(t){return t&&Nn[t]||"String"}function ro(t){return t.type==="Nullable`1"?t.genericArgs[0]:t.type}function io(t){return t&&vt(t)=="number"||!1}function Wo(t){return t&&t.toLowerCase()=="string"||!1}function Dn(t){return t=="List`1"||t.startsWith("List<")||t.endsWith("[]")}function Jo(t){if(!(t!=null&&t.type))return!1;const o=ro(t);return t.isValueType&&o.indexOf("`")==-1||t.isEnum?!1:vt(t.type)==null}function Xo(t){var l,n,a,s;if(!(t!=null&&t.type))return!1;const o=ro(t);return t.isValueType&&o.indexOf("`")==-1||t.isEnum||((l=t.input)==null?void 0:l.type)=="hidden"||((n=t.input)==null?void 0:n.type)=="file"||((a=t.input)==null?void 0:a.type)=="tag"||((s=t.input)==null?void 0:s.type)=="combobox"?!0:vt(t.type)!=null}function pt(t,o){let l=typeof t=="string"?Mt(t):t;l||(console.warn(`Metadata not found for: ${t}`),l={request:{name:t}});let n=function(){return function(s){Object.assign(this,s)}}(),a=function(){function s(i){Object.assign(this,i)}return s.prototype.createResponse=function(){return l.returnsVoid?void 0:new n},s.prototype.getTypeName=function(){return l.request.name},s.prototype.getMethod=function(){return l.method||"POST"},s}();return new a(o)}function Tn(t,o,l={}){let n=function(){return function(s){Object.assign(this,s)}}(),a=function(){function s(i){Object.assign(this,i)}return s.prototype.createResponse=function(){return typeof l.createResponse=="function"?l.createResponse():new n},s.prototype.getTypeName=function(){return t},s.prototype.getMethod=function(){return l.method||"POST"},s}();return new a(o)}function Lt(t,o){return t?(Object.keys(t).forEach(l=>{let n=t[l];typeof n=="string"?n.startsWith("/Date")&&(t[l]=_t(m.toDate(n))):n!=null&&typeof n=="object"&&(Array.isArray(n)?t[l]=Array.from(n):t[l]=Object.assign({},n))}),t):{}}function zn(t,o){let l={};return Array.from(t.elements).forEach(n=>{var p;let a=n;if(!a.id||a.value==null||a.value==="")return;const s=a.id.toLowerCase(),i=o&&o.find(w=>w.name.toLowerCase()==s);let d=i==null?void 0:i.type,r=(p=i==null?void 0:i.genericArgs)==null?void 0:p[0],c=a.type==="checkbox"?a.checked:a.value;io(d)?c=Number(c):d==="List`1"&&typeof c=="string"&&(c=c.split(",").map(w=>io(r)?Number(w):w)),l[a.id]=c}),l}function co(t){var o;return((o=t==null?void 0:t.api)==null?void 0:o.operations)&&t.api.operations.length>0}function An(t){if(!mo()&&(t!=null&&t.assert)&&!Q.metadata.value)throw new Error("useMetadata() not configured, see: https://docs.servicestack.net/vue/use-metadata");return Q.metadata.value}function ut(t){return t&&co(t)?(t.date=m.toDateTime(new Date),Q.metadata.value=t,typeof localStorage<"u"&&localStorage.setItem(tt,JSON.stringify(t)),!0):!1}function Fn(){Q.metadata.value=null,typeof localStorage<"u"&&localStorage.removeItem(tt)}function mo(){if(Q.metadata.value!=null)return!0;let t=globalThis.Server;if(co(t))ut(t);else{const o=typeof localStorage<"u"?localStorage.getItem(tt):null;if(o)try{ut(JSON.parse(o))}catch{console.error(`Could not JSON.parse ${tt} from localStorage`)}}return Q.metadata.value!=null}async function Yo(t,o){let l=o?await o():await fetch(t);if(l.ok){let n=await l.text();ut(JSON.parse(n))}else console.error(`Could not download ${o?"AppMetadata":t}: ${l.statusText}`);co(Q.metadata.value)||console.warn("AppMetadata is not available")}async function In(t){var s;const{olderThan:o,resolvePath:l,resolve:n}=t||{};let a=mo()&&o!==0;if(a&&o){let i=m.toDate((s=Q.metadata.value)==null?void 0:s.date);(!i||new Date().getTime()-i.getTime()>o)&&(a=!1)}if(!a){if((l||n)&&(await Yo(l||tt,n),Q.metadata.value!=null))return;const i=e.inject("client");if(i!=null){const d=await i.api(new Bn);d.succeeded&&ut(d.response)}if(Q.metadata.value!=null)return;await Yo(tt)}return Q.metadata.value}function Te(t,o){var i;let l=(i=Q.metadata.value)==null?void 0:i.api;if(!l||!t)return null;let n=l.types.find(d=>d.name.toLowerCase()===t.toLowerCase()&&(!o||d.namespace==o));if(n)return n;let a=Mt(t);if(a)return a.request;let s=l.operations.find(d=>d.response&&d.response.name.toLowerCase()===t.toLowerCase()&&(!o||d.response.namespace==o));return s?s.response:null}function Mt(t){var n;let o=(n=Q.metadata.value)==null?void 0:n.api;return o?o.operations.find(a=>a.request.name.toLowerCase()===t.toLowerCase()):null}function Pn({dataModel:t}){var n;const o=(n=Q.metadata.value)==null?void 0:n.api;if(!o)return[];let l=o.operations;if(t){const a=typeof t=="string"?Te(t):t;l=l.filter(s=>el(s.dataModel,a))}return l}function po(t){return t?Te(t.name,t.namespace):null}function el(t,o){return t&&o&&t.name===o.name&&(!t.namespace||!o.namespace||t.namespace===o.namespace)}function jn(t,o){let l=Te(t);return l&&l.properties&&l.properties.find(a=>a.name.toLowerCase()===o.toLowerCase())}function tl(t){return ol(Te(t))}function ol(t){if(t&&t.isEnum&&t.enumNames!=null){let o={};for(let l=0;l<t.enumNames.length;l++){const n=(t.enumDescriptions?t.enumDescriptions[l]:null)||t.enumNames[l],a=(t.enumValues!=null?t.enumValues[l]:null)||t.enumNames[l];o[a]=n}return o}return null}function ll(t){if(!t)return null;let o={},l=t.input&&t.input.allowableEntries;if(l){for(let a=0;a<l.length;a++){let s=l[a];o[s.key]=s.value}return o}let n=t.allowableValues||(t.input?t.input.allowableValues:null);if(n){for(let a=0;a<n.length;a++){let s=n[a];o[s]=s}return o}if(t.isEnum){const a=t.genericArgs&&t.genericArgs.length==1?t.genericArgs[0]:t.type,s=Te(a);if(s)return ol(s)}return null}function uo(t){if(!t)return;const o=[];return Object.keys(t).forEach(l=>o.push({key:l,value:t[l]})),o}function Rn(t,o){const n=((a,s)=>Object.assign({id:a,name:a,type:s},o))(t.name,(o==null?void 0:o.type)||Ln(t)||"text");return t.isEnum&&(n.type="select",n.allowableEntries=uo(ll(t))),n}function On(t){let o=[];if(t){const l=ve(t),n=Mt(t.name),a=po(n==null?void 0:n.dataModel);l.forEach(s=>{var d,r,c;if(!Xo(s))return;const i=Rn(s,s.input);if(i.id=m.toCamelCase(i.id),i.type=="file"&&s.uploadTo&&!i.accept){const p=(r=(d=Q.metadata.value)==null?void 0:d.plugins.filesUpload)==null?void 0:r.locations.find(w=>w.name==s.uploadTo);p&&!i.accept&&p.allowExtensions&&(i.accept=p.allowExtensions.map(w=>w.startsWith(".")?w:`.${w}`).join(","))}if(a){const p=(c=a.properties)==null?void 0:c.find(w=>w.name==s.name);s.ref||(s.ref=p==null?void 0:p.ref)}if(i.options)try{const p={input:i,$typeFields:l.map(u=>u.name),$dataModelFields:a?ve(a).map(u=>u.name):[],...Q.config.scopeWhitelist},w=Kt(i.options,p);Object.keys(w).forEach(u=>{i[u]=w[u]})}catch{console.error(`failed to evaluate '${i.options}'`)}o.push(i)})}return o}function fo(t,o){var a,s;if(!o.type)return console.error("enumDescriptions missing {type:'EnumType'} options"),[`${t}`];const l=Te(o.type);if(!(l!=null&&l.enumValues))return console.error(`Could not find metadata for ${o.type}`),[`${t}`];const n=[];for(let i=0;i<l.enumValues.length;i++){const d=parseInt(l.enumValues[i]);d>0&&(d&t)===d&&n.push(((a=l.enumDescriptions)==null?void 0:a[i])||((s=l.enumNames)==null?void 0:s[i])||`${t}`)}return n}function nl(t){return o=>typeof o=="number"?fo(o,{type:t}):o}function ve(t){if(!t)return[];let o=[],l={};function n(a){a.forEach(s=>{l[s.name]||(l[s.name]=1,o.push(s))})}for(;t;)t.properties&&n(t.properties),t=t.inherits?po(t.inherits):null;return o.map(a=>a.type.endsWith("[]")?{...a,type:"List`1",genericArgs:[a.type.substring(0,a.type.length-2)]}:a)}function Dt(t,o){var l;return((l=t.request.implements)==null?void 0:l.some(n=>n.name===o))||!1}function ft(t){return t?al(t,ve(t)):null}function al(t,o){let l=o.find(s=>s.name.toLowerCase()==="id");if(l&&l.isPrimaryKey)return l;let a=o.find(s=>s.isPrimaryKey)||l;if(!a){let s=$e.model(t);if(s)return m.map(Te(s),i=>ft(i));console.error(`Primary Key not found in ${t.name}`)}return a||null}function Hn(t,o){return m.map(ft(t),l=>m.mapGet(o,l.name))}function sl(t,o,l){return t&&t.valueType==="none"?"":l.key==="%In"||l.key==="%Between"?`(${l.value})`:Un(o,l.value)}function Un(t,o){return t?(t=Zo(t),io(t)||t==="Boolean"?o:Dn(t)?`[${o}]`:`'${o}'`):o}function Le(){const t=e.computed(()=>{var n;return((n=Q.metadata.value)==null?void 0:n.app)||null}),o=e.computed(()=>{var n;return((n=Q.metadata.value)==null?void 0:n.api)||null}),l=e.computed(()=>{var n;return((n=Q.metadata.value)==null?void 0:n.plugins.autoQuery.viewerConventions)||[]});return mo(),{loadMetadata:In,getMetadata:An,setMetadata:ut,clearMetadata:Fn,metadataApp:t,metadataApi:o,filterDefinitions:l,typeOf:Te,typeOfRef:po,typeEquals:el,apiOf:Mt,findApis:Pn,typeName:vn,typeName2:Ko,property:jn,enumOptions:tl,propertyOptions:ll,createFormLayout:On,typeProperties:ve,supportsProp:Xo,Crud:$e,Apis:ot,getPrimaryKey:ft,getPrimaryKeyByProps:al,getId:Hn,createDto:pt,makeDto:Tn,toFormValues:Lt,formValues:zn,isComplexProp:Jo,asKvps:uo,expandEnumFlags:fo,enumFlagsConverter:nl}}const Me=class Me{static async getOrFetchValue(o,l,n,a,s,i,d){const r=Me.getValue(n,d,s);return r??(await Me.fetchLookupIds(o,l,n,a,s,i,[d]),Me.getValue(n,d,s))}static getValue(o,l,n){const a=Me.Lookup[o];if(a){const s=a[l];if(s)return n=n.toLowerCase(),s[n]}}static setValue(o,l,n,a){const s=Me.Lookup[o]??(Me.Lookup[o]={}),i=s[l]??(s[l]={});n=n.toLowerCase(),i[n]=a}static setRefValue(o,l){const n=m.mapGet(l,o.refId);if(n==null||o.refLabel==null)return null;const a=m.mapGet(l,o.refLabel);return Me.setValue(o.model,n,o.refLabel,a),a}static async fetchLookupIds(o,l,n,a,s,i,d){const r=l.operations.find(c=>{var p;return $e.isAnyQuery(c)&&((p=c.dataModel)==null?void 0:p.name)==n});if(r){const c=Me.Lookup[n]??(Me.Lookup[n]={}),p=[];Object.keys(c).forEach(S=>{const P=c[S];m.mapGet(P,s)&&p.push(S)});const w=d.filter(S=>!p.includes(S));if(w.length==0)return;const u=i?null:`${a},${s}`,h={[a+"In"]:w.join(",")};u&&(h.fields=u);const f=pt(r,h),k=await o.api(f,{jsconfig:"edv,eccn"});if(k.succeeded)(m.mapGet(k.response,"results")||[]).forEach(P=>{if(!m.mapGet(P,a)){console.error(`result[${a}] == null`,P);return}const oe=`${m.mapGet(P,a)}`,v=m.mapGet(P,s);s=s.toLowerCase();const x=c[oe]??(c[oe]={});x[s]=`${v}`});else{console.error(`Failed to call ${r.request.name}`);return}}}};me(Me,"Lookup",{});let lt=Me,ho=()=>new Date().getTime(),qn=["/","T",":","-"],Ie={assumeUtc:!0,date:{method:"Intl.DateTimeFormat",options:"{dateStyle:'medium'}"},maxFieldLength:150,maxNestedFields:2,maxNestedFieldLength:30},Qn=new Intl.RelativeTimeFormat(Ie.locale,{}),rl=24*60*60*1e3*365,go={year:rl,month:rl/12,day:24*60*60*1e3,hour:60*60*1e3,minute:60*1e3,second:1e3},We={currency:dl,bytes:cl,link:ml,linkTel:pl,linkMailTo:ul,icon:fl,iconRounded:hl,attachment:gl,hidden:yl,time:kl,relativeTime:ko,relativeTimeFromMs:Tt,enumFlags:wl,formatDate:nt,formatNumber:yo};"iconOnError"in globalThis||(globalThis.iconOnError=Nt);class Ee{}me(Ee,"currency",{method:"currency"}),me(Ee,"bytes",{method:"bytes"}),me(Ee,"link",{method:"link"}),me(Ee,"linkTel",{method:"linkTel"}),me(Ee,"linkMailTo",{method:"linkMailTo"}),me(Ee,"icon",{method:"icon"}),me(Ee,"iconRounded",{method:"iconRounded"}),me(Ee,"attachment",{method:"attachment"}),me(Ee,"time",{method:"time"}),me(Ee,"relativeTime",{method:"relativeTime"}),me(Ee,"relativeTimeFromMs",{method:"relativeTimeFromMs"}),me(Ee,"date",{method:"formatDate"}),me(Ee,"number",{method:"formatNumber"}),me(Ee,"hidden",{method:"hidden"}),me(Ee,"enumFlags",{method:"enumFlags"});function Gn(t){Ie=Object.assign({},Ie,t)}function Kn(t){Object.keys(t||{}).forEach(o=>{typeof t[o]=="function"&&(We[o]=t[o])})}function il(){return We}function ht(t,o){return o?Fe("span",t,o):t}function dl(t,o){const l=m.omit(o,["currency"]);return ht(new Intl.NumberFormat(void 0,{style:"currency",currency:(o==null?void 0:o.currency)||"USD"}).format(t),l)}function cl(t,o){return ht(lo(t),o)}function ml(t,o){return Fe("a",t,$t({...o,href:t}))}function pl(t,o){return Fe("a",t,$t({...o,href:`tel:${t}`}))}function ul(t,o){o||(o={});let{subject:l,body:n}=o,a=m.omit(o,["subject","body"]),s={};return l&&(s.subject=l),n&&(s.body=n),Fe("a",t,$t({...a,href:`mailto:${m.appendQueryString(t,s)}`}))}function fl(t,o){return Fe("img",void 0,Object.assign({class:"w-6 h-6",title:t,src:et(t),onerror:"iconOnError(this)"},o))}function hl(t,o){return Fe("img",void 0,Object.assign({class:"w-8 h-8 rounded-full",title:t,src:et(t),onerror:"iconOnError(this)"},o))}function gl(t,o){let l=eo(t),a=ct(l)==null||oo(t)?et(t):no(t);const s=et(a);let i=o&&(o["icon-class"]||o.iconClass),d=Fe("img",void 0,Object.assign({class:"w-6 h-6",src:s,onerror:"iconOnError(this,'att')"},i?{class:i}:null)),r=`<span class="pl-1">${l}</span>`;return Fe("a",d+r,Object.assign({class:"flex",href:et(t),title:t},o?m.omit(o,["icon-class","iconClass"]):null))}function yl(t){return""}function kl(t,o){let l=typeof t=="string"?new Date(m.fromXsdDuration(t)*1e3):m.isDate(t)?m.toDate(t):null;return ht(l?m.timeFmt12(l):t,o)}function nt(t,o){if(t==null)return"";let l=typeof t=="number"?new Date(t):typeof t=="string"?m.toDate(t):t;if(!m.isDate(l))return console.warn(`${l} is not a Date value`),t==null?"":`${t}`;let n=Ie.date?zt(Ie.date):null;return ht(typeof n=="function"?n(l):m.dateFmt(l),o)}function yo(t,o){if(typeof t!="number")return t;let l=Ie.number?zt(Ie.number):null,n=typeof l=="function"?l(t):`${t}`;return n===""&&(console.warn(`formatNumber(${t}) => ${n}`,l),n=`${t}`),ht(n,o)}function bl(t,o,l){let n=m.apiValue(t),a=o?zt(o):null;if(typeof a=="function"){let i=l;if(o!=null&&o.options)try{i=Kt(o.options,l)}catch(d){console.error(`Could not evaluate '${o.options}'`,d,", with scope:",l)}return a(t,i)}let s=n!=null?m.isDate(n)?nt(n,l):typeof n=="number"?yo(n,l):n:null;return s??""}function gt(t,o,l){return Qe(t)?bl(t,o,l):Yn(t,o,l)}function Zn(t){if(t==null)return NaN;if(typeof t=="number")return t;if(m.isDate(t))return t.getTime()-ho();if(typeof t=="string"){let o=Number(t);if(!isNaN(o))return o;if(t[0]==="P"||t.startsWith("-P"))return m.fromXsdDuration(t)*1e3*-1;if(m.indexOfAny(t,qn)>=0)return m.toDate(t).getTime()-ho()}return NaN}function Tt(t,o){for(let l in go)if(Math.abs(t)>go[l]||l==="second")return(o||Qn).format(Math.round(t/go[l]),l)}function ko(t,o){let l=Zn(t);return isNaN(l)?"":Tt(l,o)}function Wn(t,o){return Tt(t.getTime()-(o?o.getTime():ho()))}function wl(t,o){return fo(t,o).join(", ")}function zt(t){if(!t)return null;let{method:o,options:l}=t,n=`${o}(${l})`,a=We[n]||We[o];if(typeof a=="function")return a;let s=t.locale||Ie.locale;if(o.startsWith("Intl.")){let i=s?`'${s}'`:"undefined",d=`return new ${o}(${i},${l||"undefined"})`;try{let r=Function(d)();return a=o==="Intl.DateTimeFormat"?c=>r.format(m.toDate(c)):o==="Intl.NumberFormat"?c=>r.format(Number(c)):o==="Intl.RelativeTimeFormat"?c=>ko(c,r):c=>r.format(c),We[n]=a}catch(r){console.error(`Invalid format: ${d}`,r)}}else{let i=globalThis[o];if(typeof i=="function"){let d=l!=null?Function("return "+l)():void 0;return a=r=>i(r,d,s),We[n]=a}console.error(`No '${o}' function exists`,Object.keys(We))}return null}function Cl(t,o){return t?t.length>o?t.substring(0,o)+"...":t:""}function _l(t){return t.substring(0,6)==="/Date("?nt(m.toDate(t)):t}function Jn(t){return bo(at(t)).replace(/"/g,"")}function Vl(t){if(t==null||t==="")return"";if(typeof t=="string")try{return JSON.parse(t)}catch{console.warn("couldn't parse as JSON",t)}return t}function bo(t,o=4){return t=Vl(t),typeof t!="object"?typeof t=="string"?t:`${t}`:JSON.stringify(t,void 0,o)}function Xn(t){return t=Vl(t),typeof t!="object"?typeof t=="string"?t:`${t}`:(t=Object.assign({},t),t=at(t),bo(t))}function at(t){if(t==null)return null;if(typeof t=="string")return _l(t);if(Qe(t))return t;if(t instanceof Date)return nt(t);if(Array.isArray(t))return t.map(at);if(typeof t=="object"){let o={};return Object.keys(t).forEach(l=>{l!="__type"&&(o[l]=at(t[l]))}),o}return t}function Yn(t,o,l){let n=t;if(Array.isArray(t)){if(Qe(t[0]))return n.join(",");t[0]!=null&&(n=t[0])}if(n==null)return"";if(n instanceof Date)return nt(n,l);let a=Object.keys(n),s=[];for(let i=0;i<Math.min(Ie.maxNestedFields,a.length);i++){let d=a[i],r=`${at(n[d])}`;s.push(`<b class="font-medium">${d}</b>: ${m.enc(Cl(_l(r),Ie.maxNestedFieldLength))}`)}return a.length>2&&s.push("..."),Fe("span","{ "+s.join(", ")+" }",Object.assign({title:m.enc(Jn(t))},l))}function ea(){return{Formats:Ee,setDefaultFormats:Gn,getFormatters:il,setFormatters:Kn,formatValue:gt,formatter:zt,dateInputFormat:_t,currency:dl,bytes:cl,link:ml,linkTel:pl,linkMailTo:ul,icon:fl,iconRounded:hl,attachment:gl,hidden:yl,time:kl,relativeTime:ko,relativeTimeFromDate:Wn,relativeTimeFromMs:Tt,enumFlags:wl,formatDate:nt,formatNumber:yo,indentJson:bo,prettyJson:Xn,scrub:at,truncate:Cl,apiValueFmt:bl,iconOnError:Nt}}const ta=["title"],oa=e.defineComponent({__name:"RouterLink",props:{to:{}},setup(t){const o=t,{config:l}=He(),n=()=>l.value.navigate(o.to??"/");return(a,s)=>(e.openBlock(),e.createElementBlock("a",e.mergeProps({onClick:e.withModifiers(n,["prevent"]),title:a.to,href:"javascript:void(0)"},a.$attrs),[e.renderSlot(a.$slots,"default")],16,ta))}});class la{constructor(){me(this,"callbacks",{})}register(o,l){this.callbacks[o]=l}has(o){return!!this.callbacks[o]}invoke(o,l){const n=this.callbacks[o];typeof n=="function"&&n(o,l)}}const De=class De{static component(o){const l=De.components[o];if(l)return l;const n=m.toKebabCase(o),a=Object.keys(De.components).find(s=>m.toKebabCase(s)===n);return a&&De.components[a]||null}};me(De,"config",{redirectSignIn:"/signin",redirectSignOut:"/auth/logout",navigate:o=>location.href=o,assetsPathResolver:o=>o,fallbackPathResolver:o=>o,storage:new Fo,tableIcon:{svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><g fill='none' stroke='currentColor' stroke-width='1.5'><path d='M5 12v6s0 3 7 3s7-3 7-3v-6'/><path d='M5 6v6s0 3 7 3s7-3 7-3V6'/><path d='M12 3c7 0 7 3 7 3s0 3-7 3s-7-3-7-3s0-3 7-3Z'/></g></svg>"},scopeWhitelist:{enumFlagsConverter:nl,...il()}}),me(De,"autoQueryGridDefaults",{deny:[],hide:[],toolbarButtonClass:void 0,tableStyle:"stripedRows",take:25,maxFieldLength:150}),me(De,"events",m.createBus()),me(De,"user",e.ref(null)),me(De,"metadata",e.ref(null)),me(De,"components",{RouterLink:oa}),me(De,"interceptors",new la);let Q=De;function na(t){Q.config=Object.assign(Q.config,t)}function aa(t){Q.autoQueryGridDefaults=Object.assign(Q.autoQueryGridDefaults,t)}function wo(t){return t&&Q.config.assetsPathResolver?Q.config.assetsPathResolver(t):t}function sa(t){return t&&Q.config.fallbackPathResolver?Q.config.fallbackPathResolver(t):t}function ra(t,o){Q.interceptors.register(t,o)}function He(){const t=e.computed(()=>Q.config),o=e.computed(()=>Q.autoQueryGridDefaults),l=Q.events;return{config:t,setConfig:na,events:l,autoQueryGridDefaults:o,setAutoQueryGridDefaults:aa,assetsPathResolver:wo,fallbackPathResolver:sa,registerInterceptor:ra}}const $l=e.defineComponent({inheritAttrs:!1,props:{image:Object,svg:String,src:String,alt:String,type:String},setup(t,{attrs:o}){return()=>{let l=t.image;if(t.type){const{typeOf:s}=Le(),i=s(t.type);i||console.warn(`Type ${t.type} does not exist`),i!=null&&i.icon?l=i==null?void 0:i.icon:console.warn(`Type ${t.type} does not have a [Svg] icon`)}let n=t.svg||(l==null?void 0:l.svg)||"";if(n.startsWith("<svg ")){let i=m.leftPart(n,">").indexOf("class="),d=`${(l==null?void 0:l.cls)||""} ${o.class||""}`;if(i==-1)n=`<svg class="${d}" ${n.substring(4)}`;else{const r=i+6+1;n=`${n.substring(0,r)+d} ${n.substring(r)}`}return e.h("span",{innerHTML:n})}else return e.h("img",{class:[l==null?void 0:l.cls,o.class],src:wo(t.src||(l==null?void 0:l.uri)),onError:s=>Nt(s.target)})}}}),ia={class:"text-2xl font-semibold text-gray-900 dark:text-gray-300"},da={class:"flex"},ca=[e.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),e.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)],ma=e.defineComponent({__name:"Loading",props:{imageClass:{default:"w-6 h-6"}},setup(t){return(o,l)=>(e.openBlock(),e.createElementBlock("div",ia,[e.createElementVNode("div",da,[(e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass(["self-center inline mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-gray-600 dark:fill-gray-300",o.imageClass]),role:"status",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ca,2)),e.createElementVNode("span",null,[e.renderSlot(o.$slots,"default")])])]))}}),pa=["href","onClick"],ua=["type"],El="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 disabled:text-gray-400 bg-white dark:bg-black hover:bg-gray-50 hover:dark:bg-gray-900 disabled:hover:bg-white dark:disabled:hover:bg-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:ring-offset-black",fa=e.defineComponent({__name:"OutlineButton",props:{type:{default:"submit"},href:{}},setup(t){return(o,l)=>{const n=e.resolveComponent("router-link");return o.href?(e.openBlock(),e.createBlock(n,{key:0,to:o.href},{default:e.withCtx(({navigate:a})=>[e.createElementVNode("button",{class:e.normalizeClass(El),href:o.href,onClick:a},[e.renderSlot(o.$slots,"default")],8,pa)]),_:3},8,["to"])):(e.openBlock(),e.createElementBlock("button",e.mergeProps({key:1,type:o.type,class:El},o.$attrs),[e.renderSlot(o.$slots,"default")],16,ua))}}}),ha=["href","onClick"],ga=["type"],ya=e.defineComponent({__name:"PrimaryButton",props:{type:{default:"submit"},href:{},color:{default:"indigo"}},setup(t){const o=t,l={blue:"focus:ring-indigo-500 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:hover:bg-blue-400 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",purple:"focus:ring-indigo-500 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 disabled:hover:bg-purple-400 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",red:"focus:ring-red-500 bg-red-600 hover:bg-red-700 disabled:bg-red-400 disabled:hover:bg-red-400 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-500",green:"focus:ring-green-500 bg-green-600 hover:bg-green-700 disabled:bg-green-400 disabled:hover:bg-green-400 focus:ring-green-500 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-500",sky:"focus:ring-sky-500 bg-sky-600 hover:bg-sky-700 disabled:bg-sky-400 disabled:hover:bg-sky-400 dark:bg-sky-600 dark:hover:bg-sky-700 dark:focus:ring-sky-500",cyan:"focus:ring-cyan-500 bg-cyan-600 hover:bg-cyan-700 disabled:bg-cyan-400 disabled:hover:bg-cyan-400 dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-500",indigo:"focus:ring-indigo-500 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 disabled:hover:bg-indigo-400 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},n=e.computed(()=>"inline-flex justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 dark:ring-offset-black text-white "+(l[o.color]||l.indigo));return(a,s)=>{const i=e.resolveComponent("router-link");return a.href?(e.openBlock(),e.createBlock(i,{key:0,to:a.href},{default:e.withCtx(({navigate:d})=>[e.createElementVNode("button",{class:e.normalizeClass(n.value),href:a.href,onClick:d},[e.renderSlot(a.$slots,"default")],10,ha)]),_:3},8,["to"])):(e.openBlock(),e.createElementBlock("button",e.mergeProps({key:1,type:a.type,class:n.value},a.$attrs),[e.renderSlot(a.$slots,"default")],16,ga))}}}),ka=["type","href","onClick"],ba=["type"],Bl="inline-flex justify-center rounded-md border border-gray-300 py-2 px-4 text-sm font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-400 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-black",wa=e.defineComponent({__name:"SecondaryButton",props:{type:{},href:{}},setup(t){return(o,l)=>{const n=e.resolveComponent("router-link");return o.href?(e.openBlock(),e.createBlock(n,{key:0,to:o.href},{default:e.withCtx(({navigate:a})=>[e.createElementVNode("button",{type:o.type??"button",class:e.normalizeClass(Bl),href:o.href,onClick:a},[e.renderSlot(o.$slots,"default")],8,ka)]),_:3},8,["to"])):(e.openBlock(),e.createElementBlock("button",e.mergeProps({key:1,type:o.type??"button",class:Bl},o.$attrs),[e.renderSlot(o.$slots,"default")],16,ba))}}});function Ne(t,o){return Array.isArray(t)?t.indexOf(o)>=0:t==o||t.includes(o)}const At={blue:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",purple:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200",red:"text-red-700 dark:text-red-400 hover:text-red-900 dark:hover:text-red-200",green:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",sky:"text-sky-600 dark:text-sky-400 hover:text-sky-800 dark:hover:text-sky-200",cyan:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-200",indigo:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200"},ze={base:"block w-full sm:text-sm rounded-md dark:text-white dark:bg-gray-900 disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none",invalid:"pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500",valid:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 dark:border-gray-600"},yt={panelClass:"shadow sm:rounded-md",formClass:"space-y-6 bg-white dark:bg-black py-6 px-4 sm:p-6",headingClass:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100",subHeadingClass:"mt-1 text-sm text-gray-500 dark:text-gray-400"},st={panelClass:"pointer-events-auto w-screen xl:max-w-3xl md:max-w-xl max-w-lg",formClass:"flex h-full flex-col divide-y divide-gray-200 dark:divide-gray-700 shadow-xl bg-white dark:bg-black",titlebarClass:"bg-gray-50 dark:bg-gray-900 px-4 py-6 sm:px-6",headingClass:"text-lg font-medium text-gray-900 dark:text-gray-100",subHeadingClass:"mt-1 text-sm text-gray-500 dark:text-gray-400",closeButtonClass:"rounded-md bg-gray-50 dark:bg-gray-900 text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:ring-offset-black"},Co={modalClass:"relative transform overflow-hidden rounded-lg bg-white dark:bg-black text-left shadow-xl transition-all sm:my-8",sizeClass:"sm:max-w-prose lg:max-w-screen-md xl:max-w-screen-lg 2xl:max-w-screen-xl sm:w-full"},Be={panelClass(t="slideOver"){return t=="card"?yt.panelClass:st.panelClass},formClass(t="slideOver"){return t=="card"?yt.formClass:st.formClass},headingClass(t="slideOver"){return t=="card"?yt.headingClass:st.headingClass},subHeadingClass(t="slideOver"){return t=="card"?yt.subHeadingClass:st.subHeadingClass},buttonsClass:"mt-4 px-4 py-3 bg-gray-50 dark:bg-gray-900 sm:px-6 flex flex-wrap justify-between",legendClass:"text-base font-medium text-gray-900 dark:text-gray-100 text-center mb-4"},ae={getGridClass(t="stripedRows"){return ae.gridClass},getGrid2Class(t="stripedRows"){return Ne(t,"fullWidth")?"overflow-x-auto":ae.grid2Class},getGrid3Class(t="stripedRows"){return Ne(t,"fullWidth")?"inline-block min-w-full py-2 align-middle":ae.grid3Class},getGrid4Class(t="stripedRows"){return Ne(t,"whiteBackground")?"":Ne(t,"fullWidth")?"overflow-hidden shadow-sm ring-1 ring-black ring-opacity-5":ae.grid4Class},getTableClass(t="stripedRows"){return Ne(t,"fullWidth")||Ne(t,"verticalLines")?"min-w-full divide-y divide-gray-300":ae.tableClass},getTheadClass(t="stripedRows"){return Ne(t,"whiteBackground")?"":ae.theadClass},getTheadRowClass(t="stripedRows"){return ae.theadRowClass+(Ne(t,"verticalLines")?" divide-x divide-gray-200 dark:divide-gray-700":"")},getTheadCellClass(t="stripedRows"){return ae.theadCellClass+(Ne(t,"uppercaseHeadings")?" uppercase":"")},getTbodyClass(t="stripedRows"){return(Ne(t,"whiteBackground")||Ne(t,"verticalLines")?"divide-y divide-gray-200 dark:divide-gray-800":ae.tableClass)+(Ne(t,"verticalLines")?" bg-white":"")},getTableRowClass(t="stripedRows",o,l,n){return(n?"cursor-pointer ":"")+(l?"bg-indigo-100 dark:bg-blue-800":(n?"hover:bg-yellow-50 dark:hover:bg-blue-900 ":"")+(Ne(t,"stripedRows")?o%2==0?"bg-white dark:bg-black":"bg-gray-50 dark:bg-gray-800":"bg-white dark:bg-black"))+(Ne(t,"verticalLines")?" divide-x divide-gray-200 dark:divide-gray-700":"")},gridClass:"flex flex-col",grid2Class:"",grid3Class:"inline-block min-w-full py-2 align-middle",grid4Class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",tableClass:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",theadClass:"bg-gray-50 dark:bg-gray-900",tableCellClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",theadRowClass:"select-none",theadCellClass:"px-6 py-4 text-left text-sm font-medium tracking-wider whitespace-nowrap",toolbarButtonClass:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 dark:border-gray-700 shadow-sm text-sm font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-black hover:bg-gray-50 dark:hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:ring-offset-black"},Ca=Object.freeze(Object.defineProperty({__proto__:null,a:At,card:yt,dummy:{colspans:"col-span-3 sm:col-span-3"},form:Be,grid:ae,input:ze,modal:Co,slideOver:st},Symbol.toStringTag,{value:"Module"})),_a=e.defineComponent({__name:"TextLink",props:{color:{default:"blue"}},setup(t){const o=e.useAttrs(),l=t,n=e.computed(()=>(At[l.color]||At.blue)+(o.href?"":" cursor-pointer"));return(a,s)=>(e.openBlock(),e.createElementBlock("a",{class:e.normalizeClass(n.value)},[e.renderSlot(a.$slots,"default")],2))}}),Va={class:"flex","aria-label":"Breadcrumb"},$a={role:"list",class:"flex items-center space-x-4"},Ea=["href","title"],Ba=e.createElementVNode("svg",{class:"h-6 w-6 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z","clip-rule":"evenodd"})],-1),xa={class:"sr-only"},Na=e.defineComponent({__name:"Breadcrumbs",props:{homeHref:{default:"/"},homeLabel:{default:"Home"}},setup(t){return(o,l)=>(e.openBlock(),e.createElementBlock("nav",Va,[e.createElementVNode("ol",$a,[e.createElementVNode("li",null,[e.createElementVNode("div",null,[e.createElementVNode("a",{href:o.homeHref,class:"text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400",title:o.homeLabel},[Ba,e.createElementVNode("span",xa,e.toDisplayString(o.homeLabel),1)],8,Ea)])]),e.renderSlot(o.$slots,"default")])]))}}),Sa={class:"flex items-center"},va=e.createElementVNode("svg",{class:"h-6 w-6 flex-shrink-0 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1),La=["href","title"],Ma=["title"],Da=e.defineComponent({__name:"Breadcrumb",props:{href:{},title:{}},setup(t){return(o,l)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("div",Sa,[va,o.href?(e.openBlock(),e.createElementBlock("a",{key:0,href:o.href,class:"ml-4 text-lg font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",title:o.title},[e.renderSlot(o.$slots,"default")],8,La)):(e.openBlock(),e.createElementBlock("span",{key:1,class:"ml-4 text-lg font-medium text-gray-700 dark:text-gray-300",title:o.title},[e.renderSlot(o.$slots,"default")],8,Ma))])]))}}),Ta={key:0,class:"text-base font-semibold text-gray-500 dark:text-gray-400"},za={role:"list",class:"mt-4 divide-y divide-gray-200 dark:divide-gray-800 border-t border-b border-gray-200 dark:border-gray-800"},Aa=e.defineComponent({__name:"NavList",props:{title:{}},setup(t){return(o,l)=>(e.openBlock(),e.createElementBlock("div",null,[o.title?(e.openBlock(),e.createElementBlock("h2",Ta,e.toDisplayString(o.title),1)):e.createCommentVNode("",!0),e.createElementVNode("ul",za,[e.renderSlot(o.$slots,"default")])]))}}),Fa={class:"relative flex items-start space-x-4 py-6"},Ia={class:"flex-shrink-0"},Pa={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-50 dark:bg-indigo-900"},ja={class:"min-w-0 flex-1"},Ra={class:"text-base font-medium text-gray-900 dark:text-gray-100"},Oa={class:"rounded-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2"},Ha=["href"],Ua=e.createElementVNode("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),qa={class:"text-base text-gray-500"},Qa=e.createElementVNode("div",{class:"flex-shrink-0 self-center"},[e.createElementVNode("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})])],-1),Ga=e.defineComponent({__name:"NavListItem",props:{title:{},href:{},icon:{},iconSvg:{},iconSrc:{},iconAlt:{}},setup(t){return(o,l)=>{const n=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("li",Fa,[e.createElementVNode("div",Ia,[e.createElementVNode("span",Pa,[e.createVNode(n,{class:"w-6 h-6 text-indigo-700 dark:text-indigo-300",image:o.icon,src:o.iconSrc,svg:o.iconSvg,alt:o.iconAlt},null,8,["image","src","svg","alt"])])]),e.createElementVNode("div",ja,[e.createElementVNode("h3",Ra,[e.createElementVNode("span",Oa,[e.createElementVNode("a",{href:o.href,class:"focus:outline-none"},[Ua,e.createTextVNode(" "+e.toDisplayString(o.title),1)],8,Ha)])]),e.createElementVNode("p",qa,[e.renderSlot(o.$slots,"default")])]),Qa])}}});function xl(t){return t&&t.SessionId?m.sanitize(t):t}function Ka(t){Q.user.value=xl(t),Q.events.publish("signIn",t)}function Za(){Q.user.value=null,Q.events.publish("signOut",null)}const _o=t=>(t==null?void 0:t.roles)||[],Vo=t=>(t==null?void 0:t.permissions)||[];function Nl(t){return _o(Q.user.value).indexOf(t)>=0}function Wa(t){return Vo(Q.user.value).indexOf(t)>=0}function $o(){return Nl("Admin")}function Ft(t){if(!t)return!1;if(!t.requiresAuth)return!0;const o=Q.user.value;if(!o)return!1;if($o())return!0;let[l,n]=[_o(o),Vo(o)],[a,s,i,d]=[t.requiredRoles||[],t.requiredPermissions||[],t.requiresAnyRole||[],t.requiresAnyPermission||[]];return!(!a.every(r=>l.indexOf(r)>=0)||i.length>0&&!i.some(r=>l.indexOf(r)>=0)||!s.every(r=>n.indexOf(r)>=0)||d.length>0&&!d.every(r=>n.indexOf(r)>=0))}function Ja(t){if(!t||!t.requiresAuth)return null;const o=Q.user.value;if(!o)return`<b>${t.request.name}</b> requires Authentication`;if($o())return null;let[l,n]=[_o(o),Vo(o)],[a,s,i,d]=[t.requiredRoles||[],t.requiredPermissions||[],t.requiresAnyRole||[],t.requiresAnyPermission||[]],r=a.filter(p=>l.indexOf(p)<0);if(r.length>0)return`Requires ${r.map(p=>"<b>"+p+"</b>").join(", ")} Role`+(r.length>1?"s":"");let c=s.filter(p=>n.indexOf(p)<0);return c.length>0?`Requires ${c.map(p=>"<b>"+p+"</b>").join(", ")} Permission`+(c.length>1?"s":""):i.length>0&&!i.some(p=>l.indexOf(p)>=0)?`Requires any ${i.filter(p=>l.indexOf(p)<0).map(p=>"<b>"+p+"</b>").join(", ")} Role`+(r.length>1?"s":""):d.length>0&&!d.every(p=>n.indexOf(p)>=0)?`Requires any ${d.filter(p=>n.indexOf(p)<0).map(p=>"<b>"+p+"</b>").join(", ")} Permission`+(c.length>1?"s":""):null}function It(){const t=e.computed(()=>Q.user.value||null),o=e.computed(()=>Q.user.value!=null);return{signIn:Ka,signOut:Za,user:t,toAuth:xl,isAuthenticated:o,hasRole:Nl,hasPermission:Wa,isAdmin:$o,canAccess:Ft,invalidAccessMessage:Ja}}const Xa={key:0},Ya={class:"md:p-4"},Sl=e.defineComponent({__name:"EnsureAccess",props:{invalidAccess:{},alertClass:{}},emits:["done"],setup(t){const{isAuthenticated:o}=It(),{config:l}=He(),n=()=>{let s=location.href.substring(location.origin.length)||"/";const i=m.appendQueryString(l.value.redirectSignIn,{redirect:s});l.value.navigate(i)},a=()=>{let s=location.href.substring(location.origin.length)||"/";const i=m.appendQueryString(l.value.redirectSignOut,{ReturnUrl:s});l.value.navigate(i)};return(s,i)=>{const d=e.resolveComponent("Alert"),r=e.resolveComponent("SecondaryButton");return s.invalidAccess?(e.openBlock(),e.createElementBlock("div",Xa,[e.createVNode(d,{class:e.normalizeClass(s.alertClass),innerHTML:s.invalidAccess},null,8,["class","innerHTML"]),e.createElementVNode("div",Ya,[e.unref(o)?(e.openBlock(),e.createBlock(r,{key:1,onClick:a},{default:e.withCtx(()=>[e.createTextVNode("Sign Out")]),_:1})):(e.openBlock(),e.createBlock(r,{key:0,onClick:n},{default:e.withCtx(()=>[e.createTextVNode("Sign In")]),_:1}))])])):e.createCommentVNode("",!0)}}}),es={class:"absolute top-0 right-0 bg-white dark:bg-black border dark:border-gray-800 rounded normal-case text-sm shadow w-80"},ts={class:"p-4"},os=e.createElementVNode("h3",{class:"text-base font-medium mb-3 dark:text-gray-100"},"Sort",-1),ls={class:"flex w-full justify-center"},ns=[e.createElementVNode("svg",{class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[e.createElementVNode("g",{fill:"currentColor"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M10.082 5.629L9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"}),e.createElementVNode("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zm-8.46-.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999l.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})])],-1),e.createElementVNode("span",null,"ASC",-1)],as=[e.createStaticVNode('<svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g fill="currentColor"><path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z"></path><path fill-rule="evenodd" d="M10.082 12.629L9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z"></path><path d="M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999l.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"></path></g></svg><span>DESC</span>',2)],ss=e.createElementVNode("h3",{class:"text-base font-medium mt-4 mb-2"}," Filter ",-1),rs={key:0},is=["id","value"],ds=["for"],cs={key:1},ms={class:"mb-2"},ps={class:"inline-flex rounded-full items-center py-0.5 pl-2.5 pr-1 text-sm font-medium bg-indigo-100 text-indigo-700"},us=["onClick"],fs=[e.createElementVNode("svg",{class:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-width":"1.5",d:"M1 1l6 6m0-6L1 7"})],-1)],hs={class:"flex"},gs=[e.createElementVNode("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1)],ys={class:"bg-gray-50 dark:bg-gray-900 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Eo=e.defineComponent({__name:"FilterColumn",props:{definitions:{},column:{},topLeft:{}},emits:["done","save"],setup(t,{emit:o}){const l=t,n=o,a=e.ref(),s=e.ref(""),i=e.ref(""),d=e.ref([]),r=e.computed(()=>l.column.meta.isEnum==!0),c=e.computed(()=>Te(l.column.meta.type==="Nullable`1"?l.column.meta.genericArgs[0]:l.column.meta.type)),p=e.computed(()=>l.column.meta.isEnum==!0?uo(tl(c.value.name)):[]),w=e.computed(()=>{var V;return((V=f(l.column.type))==null?void 0:V.map(z=>({key:z.value,value:z.name})))||[]}),u=e.ref({filters:[]}),h=e.computed(()=>u.value.filters);e.watchEffect(()=>u.value=Object.assign({},l.column.settings,{filters:Array.from(l.column.settings.filters)})),e.watchEffect(()=>{var z,j,G,D,R;let V=((G=(j=(z=l.column.settings.filters)==null?void 0:z[0])==null?void 0:j.value)==null?void 0:G.split(","))||[];if(V.length>0&&((D=c.value)!=null&&D.isEnumInt)){const H=parseInt(V[0]);V=((R=c.value.enumValues)==null?void 0:R.filter(F=>(H&parseInt(F))>0))||[]}d.value=V});function f(V){let z=l.definitions;return Wo(V)||(z=z.filter(j=>j.types!=="string")),z}function k(V,z){return f(V).find(j=>j.value===z)}function S(){var z;if(!s.value)return;let V=(z=k(l.column.type,s.value))==null?void 0:z.name;V&&(u.value.filters.push({key:s.value,name:V,value:i.value}),s.value=i.value="")}function P(V){u.value.filters.splice(V,1)}function oe(V){return sl(k(l.column.type,V.key),l.column.type,V)}function v(){n("done")}function x(){var V;s.value="%",(V=a.value)==null||V.focus()}function B(){var V;if(i.value&&S(),r.value){let z=Object.values(d.value).filter(j=>j);u.value.filters=z.length>0?(V=c.value)!=null&&V.isEnumInt?[{key:"%HasAny",name:"HasAny",value:z.map(j=>parseInt(j)).reduce((j,G)=>j+G,0).toString()}]:[{key:"%In",name:"In",value:z.join(",")}]:[]}n("save",u.value),n("done")}function X(V){u.value.sort=V===u.value.sort?void 0:V,e.nextTick(B)}return(V,z)=>{var H;const j=e.resolveComponent("SelectInput"),G=e.resolveComponent("TextInput"),D=e.resolveComponent("PrimaryButton"),R=e.resolveComponent("SecondaryButton");return e.openBlock(),e.createElementBlock("div",{class:"fixed z-20 inset-0 overflow-y-auto",onClick:v,onVnodeMounted:x},[e.createElementVNode("div",{class:"absolute",style:e.normalizeStyle(`top:${V.topLeft.y}px;left:${V.topLeft.x}px`),onClick:z[5]||(z[5]=e.withModifiers(()=>{},["stop"]))},[e.createElementVNode("div",es,[e.createElementVNode("div",ts,[os,e.createElementVNode("div",ls,[e.createElementVNode("button",{type:"button",title:"Sort Ascending",onClick:z[0]||(z[0]=F=>X("ASC")),class:e.normalizeClass(`${u.value.sort==="ASC"?"bg-indigo-100 border-indigo-500":"bg-white hover:bg-gray-50 border-gray-300"} mr-1 inline-flex items-center px-2.5 py-1.5 border shadow-sm text-sm font-medium rounded text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`)},ns,2),e.createElementVNode("button",{type:"button",title:"Sort Descending",onClick:z[1]||(z[1]=F=>X("DESC")),class:e.normalizeClass(`${u.value.sort==="DESC"?"bg-indigo-100 border-indigo-500":"bg-white hover:bg-gray-50 border-gray-300"} ml-1 inline-flex items-center px-2.5 py-1.5 border shadow-sm text-sm font-medium rounded text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`)},as,2)]),ss,r.value?(e.openBlock(),e.createElementBlock("div",rs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,F=>(e.openBlock(),e.createElementBlock("div",{key:F.key,class:"flex items-center"},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",id:F.key,value:F.key,"onUpdate:modelValue":z[2]||(z[2]=E=>d.value=E),class:"h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500"},null,8,is),[[e.vModelCheckbox,d.value]]),e.createElementVNode("label",{for:F.key,class:"ml-3"},e.toDisplayString(F.value),9,ds)]))),128))])):(e.openBlock(),e.createElementBlock("div",cs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(F,E)=>(e.openBlock(),e.createElementBlock("div",ms,[e.createElementVNode("span",ps,[e.createTextVNode(e.toDisplayString(V.column.name)+" "+e.toDisplayString(F.name)+" "+e.toDisplayString(oe(F))+" ",1),e.createElementVNode("button",{type:"button",onClick:q=>P(E),class:"flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-indigo-400 hover:bg-indigo-200 hover:text-indigo-500 focus:outline-none focus:bg-indigo-500 focus:text-white"},fs,8,us)])]))),256)),e.createElementVNode("div",hs,[e.createVNode(j,{id:"filterRule",class:"w-32 mr-1",modelValue:s.value,"onUpdate:modelValue":z[3]||(z[3]=F=>s.value=F),entries:w.value,label:"",placeholder:""},null,8,["modelValue","entries"]),((H=k(V.column.type,s.value))==null?void 0:H.valueType)!=="none"?(e.openBlock(),e.createBlock(G,{key:0,ref_key:"txtFilter",ref:a,id:"filterValue",class:"w-32 mr-1",type:"text",modelValue:i.value,"onUpdate:modelValue":z[4]||(z[4]=F=>i.value=F),onKeyup:e.withKeys(S,["enter"]),label:"",placeholder:""},null,8,["modelValue"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"pt-1"},[e.createElementVNode("button",{type:"button",onClick:S,class:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},gs)])])]))]),e.createElementVNode("div",ys,[e.createVNode(D,{onClick:B,color:"red",class:"ml-2"},{default:e.withCtx(()=>[e.createTextVNode(" Save ")]),_:1}),e.createVNode(R,{onClick:v},{default:e.withCtx(()=>[e.createTextVNode(" Cancel ")]),_:1})])])],4)],512)}}}),ks={class:"px-4 sm:px-6 lg:px-8 text-sm"},bs={class:"flex flex-wrap"},ws={class:"group pr-4 sm:pr-6 lg:pr-8"},Cs={class:"flex justify-between w-full font-medium"},_s={class:"w-6 flex justify-end"},Vs={class:"hidden group-hover:inline"},$s=["onClick","title"],Es=[e.createElementVNode("svg",{class:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-width":"1.5",d:"M1 1l6 6m0-6L1 7"})],-1)],Bs={key:0,class:"pt-2"},xs={class:"ml-2"},Ns={key:1},Ss={class:"pt-2"},vs={class:"inline-flex rounded-full items-center py-0.5 pl-2.5 pr-1 text-sm font-medium bg-indigo-100 text-indigo-700"},Ls=["onClick"],Ms=[e.createElementVNode("svg",{class:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-width":"1.5",d:"M1 1l6 6m0-6L1 7"})],-1)],Ds=[e.createElementVNode("span",null,"Clear All",-1)],Bo=e.defineComponent({__name:"FilterViews",props:{definitions:{},columns:{}},emits:["done","change"],setup(t,{emit:o}){const l=t,n=o,a=e.computed(()=>l.columns.filter(u=>u.settings.filters.length>0));function s(u){var h,f;return(f=(h=u==null?void 0:u[0])==null?void 0:h.value)==null?void 0:f.split(",")}function i(u){let h=l.definitions;return Wo(u)||(h=h.filter(f=>f.types!=="string")),h}function d(u,h){return i(u).find(f=>f.value===h)}function r(u,h){return sl(d(u.type,h.value),u.type,h)}function c(u){u.settings.filters=[],n("change",u)}function p(u,h){u.settings.filters.splice(h,1),n("change",u)}function w(){l.columns.forEach(u=>{u.settings.filters=[],n("change",u)}),n("done")}return(u,h)=>(e.openBlock(),e.createElementBlock("div",ks,[e.createElementVNode("div",bs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,f=>(e.openBlock(),e.createElementBlock("fieldset",ws,[e.createElementVNode("legend",Cs,[e.createElementVNode("span",null,e.toDisplayString(e.unref(m.humanize)(f.name)),1),e.createElementVNode("span",_s,[e.createElementVNode("span",Vs,[e.createElementVNode("button",{onClick:k=>c(f),title:`Clear all ${e.unref(m.humanize)(f.name)} filters`,class:"flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-red-600 hover:bg-red-200 hover:text-red-500 focus:outline-none focus:bg-red-500 focus:text-white"},Es,8,$s)])])]),f.meta.isEnum?(e.openBlock(),e.createElementBlock("div",Bs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s(f.settings.filters),k=>(e.openBlock(),e.createElementBlock("div",{key:k,class:"flex items-center"},[e.createElementVNode("label",xs,e.toDisplayString(k),1)]))),128))])):(e.openBlock(),e.createElementBlock("div",Ns,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.settings.filters,(k,S)=>(e.openBlock(),e.createElementBlock("div",Ss,[e.createElementVNode("span",vs,[e.createTextVNode(e.toDisplayString(f.name)+" "+e.toDisplayString(k.name)+" "+e.toDisplayString(r(f,k))+" ",1),e.createElementVNode("button",{type:"button",onClick:P=>p(f,S),class:"flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-indigo-400 hover:bg-indigo-200 hover:text-indigo-500 focus:outline-none focus:bg-indigo-500 focus:text-white"},Ms,8,Ls)])]))),256))]))]))),256))]),e.createElementVNode("div",{class:"flex justify-center pt-4"},[e.createElementVNode("button",{type:"button",onClick:w,class:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},Ds)])]))}}),Ts={class:"bg-white dark:bg-black px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},zs={class:""},As={class:"mt-3 text-center sm:mt-0 sm:mx-4 sm:text-left"},Fs=e.createElementVNode("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100"},"Query Preferences",-1),Is={class:"mt-4"},Ps=["for"],js=["id"],Rs=["value","selected"],Os={class:"mt-4 flex items-center py-4 border-b border-gray-200 dark:border-gray-800"},Hs=["id","checked"],Us=["for"],qs={class:"mt-4"},Qs={class:"pb-2 px-4"},Gs={class:""},Ks=["id","value"],Zs=["for"],Ws={class:"bg-gray-50 dark:bg-gray-900 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},xo=e.defineComponent({__name:"QueryPrefs",props:{id:{default:"QueryPrefs"},columns:{},prefs:{},maxLimit:{}},emits:["done","save"],setup(t,{emit:o}){const{autoQueryGridDefaults:l}=He(),n=t,a=o,s=e.ref({});e.watchEffect(()=>s.value=Object.assign({take:l.value.take,selectedColumns:[]},n.prefs));const i=[10,25,50,100,250,500,1e3];function d(){a("done")}function r(){a("save",s.value)}return(c,p)=>{const w=e.resolveComponent("PrimaryButton"),u=e.resolveComponent("SecondaryButton"),h=e.resolveComponent("ModalDialog");return e.openBlock(),e.createBlock(h,{id:c.id,onDone:d,"size-class":"w-full sm:max-w-prose"},{default:e.withCtx(()=>[e.createElementVNode("div",Ts,[e.createElementVNode("div",zs,[e.createElementVNode("div",As,[Fs,e.createElementVNode("div",Is,[e.createElementVNode("label",{for:`${c.id}-take`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Results per page",8,Ps),e.withDirectives(e.createElementVNode("select",{id:`${c.id}-take`,"onUpdate:modelValue":p[0]||(p[0]=f=>s.value.take=f),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base bg-white dark:bg-black border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.filter(f=>n.maxLimit==null||f<=n.maxLimit),f=>(e.openBlock(),e.createElementBlock("option",{value:f,selected:f===s.value.take},e.toDisplayString(f),9,Rs))),256))],8,js),[[e.vModelSelect,s.value.take]])]),e.createElementVNode("div",Os,[e.createElementVNode("input",{type:"radio",id:`${c.id}-allColumns`,onClick:p[1]||(p[1]=f=>s.value.selectedColumns=[]),checked:s.value.selectedColumns.length===0,class:"focus:ring-indigo-500 h-4 w-4 bg-white dark:bg-black text-indigo-600 dark:text-indigo-400 border-gray-300 dark:border-gray-700"},null,8,Hs),e.createElementVNode("label",{class:"ml-3 block text-gray-700 dark:text-gray-300",for:`${c.id}-allColumns`},"View all columns",8,Us)]),e.createElementVNode("div",qs,[e.createElementVNode("div",Qs,[e.createElementVNode("div",Gs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.columns,f=>(e.openBlock(),e.createElementBlock("div",{key:f.name,class:"flex items-center"},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",id:f.name,value:f.name,"onUpdate:modelValue":p[2]||(p[2]=k=>s.value.selectedColumns=k),class:"h-4 w-4 bg-white dark:bg-black border-gray-300 dark:border-gray-700 rounded text-indigo-600 dark:text-indigo-400 focus:ring-indigo-500"},null,8,Ks),[[e.vModelCheckbox,s.value.selectedColumns]]),e.createElementVNode("label",{for:f.name,class:"ml-3"},e.toDisplayString(f.name),9,Zs)]))),128))])])])])])]),e.createElementVNode("div",Ws,[e.createVNode(w,{onClick:r,color:"red",class:"ml-2"},{default:e.withCtx(()=>[e.createTextVNode(" Save ")]),_:1}),e.createVNode(u,{onClick:d},{default:e.withCtx(()=>[e.createTextVNode(" Cancel ")]),_:1})])]),_:1},8,["id"])}}}),Js={key:0},Xs={key:1},Ys={key:2,class:"pt-1"},er={key:0},tr={key:1},or={key:3},lr={class:"pl-1 pt-1 flex flex-wrap"},nr={class:"flex mt-1"},ar=["title"],sr=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("g",{"stroke-width":"1.5",fill:"none"},[e.createElementVNode("path",{d:"M9 3H3.6a.6.6 0 0 0-.6.6v16.8a.6.6 0 0 0 .6.6H9M9 3v18M9 3h6M9 21h6m0-18h5.4a.6.6 0 0 1 .6.6v16.8a.6.6 0 0 1-.6.6H15m0-18v18",stroke:"currentColor"})])],-1)],rr=["disabled"],ir=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6l6 6zM6 6h2v12H6z",fill:"currentColor"})],-1)],dr=["disabled"],cr=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M15.41 7.41L14 6l-6 6l6 6l1.41-1.41L10.83 12z",fill:"currentColor"})],-1)],mr=["disabled"],pr=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M10 6L8.59 7.41L13.17 12l-4.58 4.59L10 18l6-6z",fill:"currentColor"})],-1)],ur=["disabled"],fr=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6l-6-6zM16 6h2v12h-2z",fill:"currentColor"})],-1)],hr={key:0,class:"flex mt-1"},gr={class:"px-4 text-lg text-black dark:text-white"},yr={key:0},kr={key:1},br=e.createElementVNode("span",{class:"hidden xl:inline"}," Showing Results ",-1),wr={key:2},Cr={class:"flex flex-wrap"},_r={key:0,class:"pl-2 mt-1"},Vr=[e.createElementVNode("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 20v-5h-5M4 4v5h5m10.938 2A8.001 8.001 0 0 0 5.07 8m-1.008 5a8.001 8.001  0 0 0 14.868 3"})],-1)],$r={key:1,class:"pl-2 mt-1"},Er=[e.createStaticVNode('<svg class="w-5 h-5 mr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M28.781 4.405h-10.13V2.018L2 4.588v22.527l16.651 2.868v-3.538h10.13A1.162 1.162 0 0 0 30 25.349V5.5a1.162 1.162 0 0 0-1.219-1.095zm.16 21.126H18.617l-.017-1.889h2.487v-2.2h-2.506l-.012-1.3h2.518v-2.2H18.55l-.012-1.3h2.549v-2.2H18.53v-1.3h2.557v-2.2H18.53v-1.3h2.557v-2.2H18.53v-2h10.411z" fill="#20744a" fill-rule="evenodd"></path><path fill="#20744a" d="M22.487 7.439h4.323v2.2h-4.323z"></path><path fill="#20744a" d="M22.487 10.94h4.323v2.2h-4.323z"></path><path fill="#20744a" d="M22.487 14.441h4.323v2.2h-4.323z"></path><path fill="#20744a" d="M22.487 17.942h4.323v2.2h-4.323z"></path><path fill="#20744a" d="M22.487 21.443h4.323v2.2h-4.323z"></path><path fill="#fff" fill-rule="evenodd" d="M6.347 10.673l2.146-.123l1.349 3.709l1.594-3.862l2.146-.123l-2.606 5.266l2.606 5.279l-2.269-.153l-1.532-4.024l-1.533 3.871l-2.085-.184l2.422-4.663l-2.238-4.993z"></path></svg><span class="text-green-900 dark:text-green-100">Excel</span>',2)],Br={key:2,class:"pl-2 mt-1"},xr={key:0,class:"w-5 h-5 mr-1 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Nr=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)],Sr={key:1,class:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},vr=[e.createElementVNode("g",{fill:"none"},[e.createElementVNode("path",{d:"M8 4v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7.242a2 2 0 0 0-.602-1.43L16.083 2.57A2 2 0 0 0 14.685 2H10a2 2 0 0 0-2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e.createElementVNode("path",{d:"M16 18v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)],Lr=e.createElementVNode("span",{class:"whitespace-nowrap"},"Copy URL",-1),Mr={key:3,class:"pl-2 mt-1"},Dr=[e.createElementVNode("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",viewBox:"0 0 24 24"},[e.createElementVNode("path",{fill:"currentColor",d:"M6.78 2.72a.75.75 0 0 1 0 1.06L4.56 6h8.69a7.75 7.75 0 1 1-7.75 7.75a.75.75 0 0 1 1.5 0a6.25 6.25 0 1 0 6.25-6.25H4.56l2.22 2.22a.75.75 0 1 1-1.06 1.06l-3.5-3.5a.75.75 0 0 1 0-1.06l3.5-3.5a.75.75 0 0 1 1.06 0Z"})],-1)],Tr={key:4,class:"pl-2 mt-1"},zr=e.createElementVNode("svg",{class:"flex-none w-5 h-5 mr-2 text-gray-400 dark:text-gray-500 group-hover:text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})],-1),Ar={class:"mr-1"},Fr={key:0,class:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},Ir=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"},null,-1)],Pr={key:1,class:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},jr=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z","clip-rule":"evenodd"},null,-1)],Rr={key:5,class:"pl-2 mt-1"},Or=["title"],Hr=e.createElementVNode("svg",{class:"w-5 h-5 mr-1 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"})],-1),Ur={class:"whitespace-nowrap"},qr={key:7},Qr={key:0,class:"cursor-pointer flex justify-between items-center hover:text-gray-900 dark:hover:text-gray-50"},Gr={class:"mr-1 select-none"},Kr={key:1,class:"flex justify-between items-center"},Zr={class:"mr-1 select-none"},Pt=25,Wr=e.defineComponent({__name:"AutoQueryGrid",props:{filterDefinitions:{},id:{default:"AutoQueryGrid"},apis:{},type:{},prefs:{},deny:{},hide:{},selectedColumns:{},toolbarButtonClass:{},tableStyle:{},gridClass:{},grid2Class:{},grid3Class:{},grid4Class:{},tableClass:{},theadClass:{},tbodyClass:{},theadRowClass:{},theadCellClass:{},headerTitle:{},headerTitles:{},visibleFrom:{},rowClass:{},rowStyle:{},apiPrefs:{},canFilter:{},disableKeyBindings:{},configureField:{},skip:{default:0},create:{type:Boolean},edit:{},filters:{}},emits:["headerSelected","rowSelected"],setup(t,{expose:o,emit:l}){const{config:n,autoQueryGridDefaults:a}=He(),s=a,i=e.inject("client"),d=n.value.storage,r=t,c=l,p="filtering,queryString,queryFilters".split(","),w="copyApiUrl,downloadCsv,filtersView,newItem,pagingInfo,pagingNav,preferences,refresh,resetPreferences,toolbar".split(","),u=e.computed(()=>r.deny?Ke(p,r.deny):Ke(p,s.value.deny)),h=e.computed(()=>r.hide?Ke(w,r.hide):Ke(w,s.value.hide));function f(b){return u.value[b]}function k(b){return h.value[b]}const S=e.computed(()=>r.tableStyle??s.value.tableStyle),P=e.computed(()=>r.gridClass??ae.getGridClass(S.value)),oe=e.computed(()=>r.grid2Class??ae.getGrid2Class(S.value)),v=e.computed(()=>r.grid3Class??ae.getGrid3Class(S.value)),x=e.computed(()=>r.grid4Class??ae.getGrid4Class(S.value)),B=e.computed(()=>r.tableClass??ae.getTableClass(S.value)),X=e.computed(()=>r.theadClass??ae.getTheadClass(S.value)),V=e.computed(()=>r.theadRowClass??ae.getTheadRowClass(S.value)),z=e.computed(()=>r.theadCellClass??ae.getTheadCellClass(S.value)),j=e.computed(()=>r.toolbarButtonClass??ae.toolbarButtonClass);function G(b,L){var he;if(r.rowClass)return r.rowClass(b,L);const te=!!de.value.AnyUpdate,ie=((he=pe.value)!=null&&he.name?m.mapGet(b,pe.value.name):null)==O.value;return ae.getTableRowClass(r.tableStyle,L,ie,te)}const D=e.useSlots(),R=e.computed(()=>{var b;return Mo(((b=de.value.AnyQuery.viewModel)==null?void 0:b.name)||de.value.AnyQuery.dataModel.name)}),H=e.computed(()=>{const b=Object.keys(D).map(L=>L.toLowerCase());return ve(R.value).filter(L=>b.includes(L.name.toLowerCase())||b.includes(L.name.toLowerCase()+"-header")).map(L=>L.name)});function F(){let b=Ge(r.selectedColumns);return b.length>0?b:H.value.length>0?H.value:[]}const E=e.computed(()=>{let L=F().map(W=>W.toLowerCase());const te=ve(R.value);return L.length>0?L.map(W=>te.find(ie=>ie.name.toLowerCase()===W)).filter(W=>W!=null):te}),q=e.computed(()=>{let b=E.value.map(te=>te.name),L=Ge(le.value.selectedColumns).map(te=>te.toLowerCase());return L.length>0?b.filter(te=>L.includes(te.toLowerCase())):b}),y=e.ref([]),A=e.ref(new m.ApiResult),T=e.ref(new m.ApiResult),g=e.ref(),C=e.ref(!1),O=e.ref(),U=e.ref(),K=e.ref(!1),N=e.ref(),_=e.ref(r.skip),ee=e.ref(!1),le=e.ref({take:Pt}),J=e.ref(!1),ne=e.computed(()=>y.value.some(b=>b.settings.filters.length>0||!!b.settings.sort)||le.value.selectedColumns),$=e.computed(()=>y.value.map(b=>b.settings.filters.length).reduce((b,L)=>b+L,0)),Y=e.computed(()=>{var b;return ve(Mo(it.value||((b=de.value.AnyQuery)==null?void 0:b.dataModel.name)))}),pe=e.computed(()=>{var b;return ft(Mo(it.value||((b=de.value.AnyQuery)==null?void 0:b.dataModel.name)))}),ue=e.computed(()=>le.value.take??Pt),se=e.computed(()=>A.value.response?m.mapGet(A.value.response,"results"):[]),M=e.computed(()=>{var b;return((b=A.value.response)==null?void 0:b.total)??se.value.length??0}),I=e.computed(()=>_.value>0),Z=e.computed(()=>_.value>0),re=e.computed(()=>se.value.length>=ue.value),ce=e.computed(()=>se.value.length>=ue.value),ge=e.ref(),_e=e.ref(),fe={NoQuery:"No Query API was found"};o({update:Ae,search:Ml,createRequestArgs:vo,reset:Ol,createDone:wt,createSave:To,editDone:bt,editSave:Ut,forceUpdate:Ll,setEdit:So,edit:U}),Q.interceptors.has("AutoQueryGrid.new")&&Q.interceptors.invoke("AutoQueryGrid.new",{props:r});function ke(b){if(b){if(r.canFilter)return r.canFilter(b);const L=Y.value.find(te=>te.name.toLowerCase()==b.toLowerCase());if(L)return!Jo(L)}return!1}function ye(b){f("queryString")&&Gt(b)}async function xe(b){_.value+=b,_.value<0&&(_.value=0);const L=Math.floor(M.value/ue.value)*ue.value;_.value>L&&(_.value=L),ye({skip:_.value||void 0}),await Ae()}async function Ce(b,L){var ie,he;if(U.value=null,O.value=L,!b||!L)return;let te=pt(de.value.AnyQuery,{[b]:L});const W=await i.api(te);if(W.succeeded){let Ve=(ie=m.mapGet(W.response,"results"))==null?void 0:ie[0];Ve||console.warn(`API ${(he=de.value.AnyQuery)==null?void 0:he.request.name}(${b}:${L}) returned no results`),U.value=Ve}}async function Pe(b,L){var ie;c("rowSelected",b,L);const te=(ie=pe.value)==null?void 0:ie.name,W=te?m.mapGet(b,te):null;!te||!W||(ye({edit:W}),Ce(te,W))}function rt(b,L){var W;if(!f("filtering"))return;let te=L.target;if(ke(b)&&(te==null?void 0:te.tagName)!=="TD"){let ie=(W=te==null?void 0:te.closest("TABLE"))==null?void 0:W.getBoundingClientRect(),he=y.value.find(Ve=>Ve.name.toLowerCase()==b.toLowerCase());if(he&&ie){let Ve=318,je=ie.x+Ve+10;N.value={column:he,topLeft:{x:Math.max(Math.floor(L.clientX+Ve/2),je),y:ie.y+45}}}}c("headerSelected",b,L)}function Ue(){N.value=null}async function jt(b){var te;let L=(te=N.value)==null?void 0:te.column;L&&(L.settings=b,d.setItem(Ot(L.name),JSON.stringify(L.settings)),await Ae()),N.value=null}async function Rt(b){d.setItem(Ot(b.name),JSON.stringify(b.settings)),await Ae()}async function Xp(b){K.value=!1,le.value=b,d.setItem(Lo(),JSON.stringify(b)),await Ae()}function So(b){Object.assign(U.value,b),Ll()}function Ll(){var L,te,W;(L=ge.value)==null||L.forceUpdate(),(te=_e.value)==null||te.forceUpdate();const b=e.getCurrentInstance();(W=b==null?void 0:b.proxy)==null||W.$forceUpdate()}async function Ae(){await Ml(vo())}async function Yp(){await Ae()}async function Ml(b){const L=de.value.AnyQuery;if(!L){console.error(fe.NoQuery);return}let te=pt(L,b),W=m.delaySet(Ve=>{A.value.response=A.value.error=void 0,J.value=Ve}),ie=await i.api(te);W(),e.nextTick(()=>A.value=ie);let he=m.mapGet(ie.response,"results")||[];!ie.succeeded||he.label==0}function vo(){let b={include:"total",take:ue.value},L=Ge(le.value.selectedColumns||r.selectedColumns);if(L.length>0){let W=pe.value;W&&!L.includes(W.name)&&(L=[W.name,...L]);const ie=Y.value,he=[];L.forEach(Ve=>{var qt;const je=ie.find(we=>we.name.toLowerCase()==Ve.toLowerCase());(qt=je==null?void 0:je.ref)!=null&&qt.selfId&&he.push(je.ref.selfId),m.mapGet(D,Ve)&&he.push(...ie.filter(we=>{var Je,Ct;return((Ct=(Je=we.ref)==null?void 0:Je.selfId)==null?void 0:Ct.toLowerCase())==Ve.toLowerCase()}).map(we=>we.name))}),he.forEach(Ve=>{L.includes(Ve)||L.push(Ve)}),b.fields=L.join(",")}let te=[];if(y.value.forEach(W=>{W.settings.sort&&te.push((W.settings.sort==="DESC"?"-":"")+W.name),W.settings.filters.forEach(ie=>{let he=ie.key.replace("%",W.name);b[he]=ie.value})}),r.filters&&Object.keys(r.filters).forEach(W=>{b[W]=r.filters[W]}),f("queryString")&&f("queryFilters")){const W=location.search?location.search:location.hash.includes("?")?"?"+m.rightPart(location.hash,"?"):"";let ie=m.queryString(W);if(Object.keys(ie).forEach(he=>{E.value.find(je=>je.name.toLowerCase()===he.toLowerCase())&&(b[he]=ie[he])}),typeof ie.skip<"u"){const he=parseInt(ie.skip);isNaN(he)||(_.value=b.skip=he)}}return typeof b.skip>"u"&&_.value>0&&(b.skip=_.value),te.length>0&&(b.orderBy=te.join(",")),b}function eu(){const b=Dl("csv");Zt(b),typeof window<"u"&&window.open(b)}function tu(){const b=Dl("json");Zt(b),ee.value=!0,setTimeout(()=>ee.value=!1,3e3)}function Dl(b="json"){var he;const L=vo(),te=`/api/${(he=de.value.AnyQuery)==null?void 0:he.request.name}`,W=m.combinePaths(i.baseUrl,m.appendQueryString(te,{...L,jsconfig:"edv"}));return W.indexOf("?")>=0?m.leftPart(W,"?")+"."+b+"?"+m.rightPart(W,"?"):W+".json"}async function ou(){y.value.forEach(b=>{b.settings={filters:[]},d.removeItem(Ot(b.name))}),le.value={take:Pt},d.removeItem(Lo()),await Ae()}function lu(){C.value=!0,ye({create:null})}const it=e.computed(()=>Ye(r.type)),Oe=e.computed(()=>{var b;return it.value||((b=de.value.AnyQuery)==null?void 0:b.dataModel.name)}),Lo=()=>{var b;return`${r.id}/ApiPrefs/${it.value||((b=de.value.AnyQuery)==null?void 0:b.dataModel.name)}`},Ot=b=>{var L;return`Column/${r.id}:${it.value||((L=de.value.AnyQuery)==null?void 0:L.dataModel.name)}.${b}`},{metadataApi:Tl,typeOf:Mo,apiOf:zl,filterDefinitions:nu}=Le(),{invalidAccessMessage:Do}=It(),Al=e.computed(()=>r.filterDefinitions||nu.value),de=e.computed(()=>{let b=Ge(r.apis);return b.length>0?ot.from(b.map(L=>zl(L)).filter(L=>L!=null).map(L=>L)):ot.forType(it.value,Tl.value)}),Ht=b=>`<span class="text-yellow-700">${b}</span>`,Fl=e.computed(()=>{if(!Tl.value)return Ht(`AppMetadata not loaded, see <a class="${At.blue}" href="https://docs.servicestack.net/vue/use-metadata" target="_blank">useMetadata()</a>`);let L=Ge(r.apis).map(W=>zl(W)==null?W:null).filter(W=>W!=null);if(L.length>0)return Ht(`Unknown API${L.length>1?"s":""}: ${L.join(", ")}`);let te=de.value;return te.empty?Ht("Mising DataModel in property 'type' or AutoQuery APIs to use in property 'apis'"):te.AnyQuery?null:Ht(fe.NoQuery)}),Il=e.computed(()=>de.value.AnyQuery&&Do(de.value.AnyQuery)),Pl=e.computed(()=>de.value.Create&&Do(de.value.Create)),jl=e.computed(()=>de.value.AnyUpdate&&Do(de.value.AnyUpdate)),au=e.computed(()=>Ft(de.value.Create));e.computed(()=>Ft(de.value.AnyUpdate));const Rl=e.computed(()=>Ft(de.value.Delete));function bt(){U.value=null,O.value=null,ye({edit:void 0})}function wt(){C.value=!1,ye({create:void 0})}async function Ut(){await Ae(),bt()}async function To(){await Ae(),wt()}function Ol(){var te;A.value=new m.ApiResult,T.value=new m.ApiResult,C.value=!1,O.value=null,U.value=null,K.value=!1,N.value=null,_.value=r.skip,ee.value=!1,le.value={take:Pt},J.value=!1;const b=r.prefs||Et(d.getItem(Lo()));b&&(le.value=b),y.value=E.value.map(W=>({name:W.name,type:W.type,meta:W,settings:Object.assign({filters:[]},Et(d.getItem(Ot(W.name))))})),isNaN(r.skip)||(_.value=r.skip);let L=(te=pe.value)==null?void 0:te.name;if(f("queryString")){const W=location.search?location.search:location.hash.includes("?")?"?"+m.rightPart(location.hash,"?"):"";let ie=m.queryString(W);typeof ie.create<"u"?C.value=typeof ie.create<"u":L&&(typeof ie.edit=="string"||typeof ie.edit=="number")&&Ce(L,ie.edit)}r.create===!0&&(C.value=!0),L&&r.edit!=null&&Ce(L,r.edit)}return e.onMounted(async()=>{Ol(),await Ae()}),(b,L)=>{const te=e.resolveComponent("Alert"),W=e.resolveComponent("EnsureAccessDialog"),ie=e.resolveComponent("AutoCreateForm"),he=e.resolveComponent("AutoEditForm"),Ve=e.resolveComponent("ErrorSummary"),je=e.resolveComponent("Loading"),Hl=e.resolveComponent("SettingsIcons"),qt=e.resolveComponent("DataGrid");return Fl.value?(e.openBlock(),e.createElementBlock("div",Js,[e.createVNode(te,{innerHTML:Fl.value},null,8,["innerHTML"])])):Il.value?(e.openBlock(),e.createElementBlock("div",Xs,[e.createVNode(Sl,{"invalid-access":Il.value},null,8,["invalid-access"])])):(e.openBlock(),e.createElementBlock("div",Ys,[C.value&&de.value.Create?(e.openBlock(),e.createElementBlock("div",er,[Pl.value?(e.openBlock(),e.createBlock(W,{key:0,title:`Create ${Oe.value}`,"invalid-access":Pl.value,"alert-class":"text-yellow-700",onDone:wt},null,8,["title","invalid-access"])):e.unref(D).createform?e.renderSlot(b.$slots,"createform",{key:1,type:de.value.Create.request.name,configure:b.configureField,done:wt,save:To}):(e.openBlock(),e.createBlock(ie,{key:2,ref_key:"createForm",ref:ge,type:de.value.Create.request.name,configure:b.configureField,onDone:wt,onSave:To},{header:e.withCtx(()=>[e.renderSlot(b.$slots,"formheader",{form:"create",formInstance:ge.value,apis:de.value,type:Oe.value})]),footer:e.withCtx(()=>[e.renderSlot(b.$slots,"formfooter",{form:"create",formInstance:ge.value,apis:de.value,type:Oe.value})]),_:3},8,["type","configure"]))])):U.value&&de.value.AnyUpdate?(e.openBlock(),e.createElementBlock("div",tr,[jl.value?(e.openBlock(),e.createBlock(W,{key:0,title:`Update ${Oe.value}`,"invalid-access":jl.value,"alert-class":"text-yellow-700",onDone:bt},null,8,["title","invalid-access"])):e.unref(D).editform?e.renderSlot(b.$slots,"editform",{key:1,model:U.value,type:de.value.AnyUpdate.request.name,deleteType:Rl.value?de.value.Delete.request.name:null,configure:b.configureField,done:bt,save:Ut}):(e.openBlock(),e.createBlock(he,{key:2,ref_key:"editForm",ref:_e,modelValue:U.value,"onUpdate:modelValue":L[0]||(L[0]=we=>U.value=we),type:de.value.AnyUpdate.request.name,deleteType:Rl.value?de.value.Delete.request.name:null,configure:b.configureField,onDone:bt,onSave:Ut,onDelete:Ut},{header:e.withCtx(()=>[e.renderSlot(b.$slots,"formheader",{form:"edit",formInstance:_e.value,apis:de.value,type:Oe.value,model:U.value,id:O.value,updateModel:So})]),footer:e.withCtx(()=>[e.renderSlot(b.$slots,"formfooter",{form:"edit",formInstance:_e.value,apis:de.value,type:Oe.value,model:U.value,id:O.value,updateModel:So})]),_:3},8,["modelValue","type","deleteType","configure"]))])):e.createCommentVNode("",!0),e.unref(D).toolbar?e.renderSlot(b.$slots,"toolbar",{key:2}):k("toolbar")?(e.openBlock(),e.createElementBlock("div",or,[K.value?(e.openBlock(),e.createBlock(xo,{key:0,columns:E.value,prefs:le.value,onDone:L[1]||(L[1]=we=>K.value=!1),onSave:Xp},null,8,["columns","prefs"])):e.createCommentVNode("",!0),e.createElementVNode("div",lr,[e.createElementVNode("div",nr,[k("preferences")?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400",title:`${Oe.value} Preferences`,onClick:L[2]||(L[2]=we=>K.value=!K.value)},sr,8,ar)):e.createCommentVNode("",!0),k("pagingNav")?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:e.normalizeClass(["pl-2",I.value?"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400":"text-gray-400 dark:text-gray-500"]),title:"First page",disabled:!I.value,onClick:L[3]||(L[3]=we=>xe(-M.value))},ir,10,rr)):e.createCommentVNode("",!0),k("pagingNav")?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:e.normalizeClass(["pl-2",Z.value?"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400":"text-gray-400 dark:text-gray-500"]),title:"Previous page",disabled:!Z.value,onClick:L[4]||(L[4]=we=>xe(-ue.value))},cr,10,dr)):e.createCommentVNode("",!0),k("pagingNav")?(e.openBlock(),e.createElementBlock("button",{key:3,type:"button",class:e.normalizeClass(["pl-2",re.value?"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400":"text-gray-400 dark:text-gray-500"]),title:"Next page",disabled:!re.value,onClick:L[5]||(L[5]=we=>xe(ue.value))},pr,10,mr)):e.createCommentVNode("",!0),k("pagingNav")?(e.openBlock(),e.createElementBlock("button",{key:4,type:"button",class:e.normalizeClass(["pl-2",ce.value?"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400":"text-gray-400 dark:text-gray-500"]),title:"Last page",disabled:!ce.value,onClick:L[6]||(L[6]=we=>xe(M.value))},fr,10,ur)):e.createCommentVNode("",!0)]),k("pagingInfo")?(e.openBlock(),e.createElementBlock("div",hr,[e.createElementVNode("div",gr,[J.value?(e.openBlock(),e.createElementBlock("span",yr,"Querying...")):e.createCommentVNode("",!0),se.value.length?(e.openBlock(),e.createElementBlock("span",kr,[br,e.createTextVNode(" "+e.toDisplayString(_.value+1)+" - "+e.toDisplayString(Math.min(_.value+se.value.length,M.value))+" ",1),e.createElementVNode("span",null," of "+e.toDisplayString(M.value),1)])):A.value.completed?(e.openBlock(),e.createElementBlock("span",wr,"No Results")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),e.createElementVNode("div",Cr,[k("refresh")?(e.openBlock(),e.createElementBlock("div",_r,[e.createElementVNode("button",{type:"button",onClick:Yp,title:"Refresh",class:e.normalizeClass(j.value)},Vr,2)])):e.createCommentVNode("",!0),k("downloadCsv")?(e.openBlock(),e.createElementBlock("div",$r,[e.createElementVNode("button",{type:"button",onClick:eu,title:"Download CSV",class:e.normalizeClass(j.value)},Er,2)])):e.createCommentVNode("",!0),k("copyApiUrl")?(e.openBlock(),e.createElementBlock("div",Br,[e.createElementVNode("button",{type:"button",onClick:tu,title:"Copy API URL",class:e.normalizeClass(j.value)},[ee.value?(e.openBlock(),e.createElementBlock("svg",xr,Nr)):(e.openBlock(),e.createElementBlock("svg",Sr,vr)),Lr],2)])):e.createCommentVNode("",!0),ne.value&&k("resetPreferences")?(e.openBlock(),e.createElementBlock("div",Mr,[e.createElementVNode("button",{type:"button",onClick:ou,title:"Reset Preferences & Filters",class:e.normalizeClass(j.value)},Dr,2)])):e.createCommentVNode("",!0),k("filtersView")&&$.value>0?(e.openBlock(),e.createElementBlock("div",Tr,[e.createElementVNode("button",{type:"button",onClick:L[7]||(L[7]=we=>g.value=g.value=="filters"?null:"filters"),class:e.normalizeClass(j.value),"aria-expanded":"false"},[zr,e.createElementVNode("span",Ar,e.toDisplayString($.value)+" "+e.toDisplayString($.value==1?"Filter":"Filters"),1),g.value!="filters"?(e.openBlock(),e.createElementBlock("svg",Fr,Ir)):(e.openBlock(),e.createElementBlock("svg",Pr,jr))],2)])):e.createCommentVNode("",!0),k("newItem")&&de.value.Create&&au.value?(e.openBlock(),e.createElementBlock("div",Rr,[e.createElementVNode("button",{type:"button",onClick:lu,title:Oe.value,class:e.normalizeClass(j.value)},[Hr,e.createElementVNode("span",Ur,"New "+e.toDisplayString(Oe.value),1)],10,Or)])):e.createCommentVNode("",!0),e.unref(D).toolbarbuttons?e.renderSlot(b.$slots,"toolbarbuttons",{key:6,toolbarButtonClass:j.value}):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0),g.value=="filters"?(e.openBlock(),e.createBlock(Bo,{key:4,class:"border-y border-gray-200 dark:border-gray-800 py-8 my-2",definitions:Al.value,columns:y.value,onDone:L[8]||(L[8]=we=>g.value=null),onChange:Rt},null,8,["definitions","columns"])):e.createCommentVNode("",!0),T.value.error??A.value.error?(e.openBlock(),e.createBlock(Ve,{key:5,status:T.value.error??A.value.error},null,8,["status"])):J.value?(e.openBlock(),e.createBlock(je,{key:6,class:"p-2"})):e.createCommentVNode("",!0),N.value?(e.openBlock(),e.createElementBlock("div",qr,[e.createVNode(Eo,{definitions:Al.value,column:N.value.column,"top-left":N.value.topLeft,onDone:Ue,onSave:jt},null,8,["definitions","column","top-left"])])):e.createCommentVNode("",!0),se.value.length?(e.openBlock(),e.createBlock(qt,{key:8,id:b.id,items:se.value,type:b.type,"selected-columns":q.value,class:"mt-1",onFiltersChanged:Ae,tableStyle:S.value,gridClass:P.value,grid2Class:oe.value,grid3Class:v.value,grid4Class:x.value,tableClass:B.value,theadClass:X.value,theadRowClass:V.value,theadCellClass:z.value,tbodyClass:b.tbodyClass,rowClass:G,onRowSelected:Pe,rowStyle:b.rowStyle,headerTitle:b.headerTitle,headerTitles:b.headerTitles,visibleFrom:b.visibleFrom,onHeaderSelected:rt},e.createSlots({header:e.withCtx(({column:we,label:Je})=>{var Ct;return[f("filtering")&&ke(we)?(e.openBlock(),e.createElementBlock("div",Qr,[e.createElementVNode("span",Gr,e.toDisplayString(Je),1),e.createVNode(Hl,{column:y.value.find(su=>su.name.toLowerCase()===we.toLowerCase()),"is-open":((Ct=N.value)==null?void 0:Ct.column.name)===we},null,8,["column","is-open"])])):(e.openBlock(),e.createElementBlock("div",Kr,[e.createElementVNode("span",Zr,e.toDisplayString(Je),1)]))]}),_:2},[e.renderList(Object.keys(e.unref(D)),we=>({name:we,fn:e.withCtx(Je=>[e.renderSlot(b.$slots,we,e.normalizeProps(e.guardReactiveProps(Je)))])}))]),1032,["id","items","type","selected-columns","tableStyle","gridClass","grid2Class","grid3Class","grid4Class","tableClass","theadClass","theadRowClass","theadCellClass","tbodyClass","rowStyle","headerTitle","headerTitles","visibleFrom"])):e.createCommentVNode("",!0)]))}}}),Jr={class:"flex"},Xr={key:0,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Yr=[e.createElementVNode("g",{fill:"none"},[e.createElementVNode("path",{d:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v2.586a1 1 0 0 1-.293.707l-6.414 6.414a1 1 0 0 0-.293.707V17l-4 4v-6.586a1 1 0 0 0-.293-.707L3.293 7.293A1 1 0 0 1 3 6.586V4z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)],ei=[e.createElementVNode("path",{d:"M505.5 658.7c3.2 4.4 9.7 4.4 12.9 0l178-246c3.8-5.3 0-12.7-6.5-12.7H643c-10.2 0-19.9 4.9-25.9 13.2L512 558.6L406.8 413.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246z",fill:"currentColor"},null,-1),e.createElementVNode("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z",fill:"currentColor"},null,-1)],ti={key:2,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},oi=[e.createElementVNode("g",{fill:"none"},[e.createElementVNode("path",{d:"M8.998 4.71L6.354 7.354a.5.5 0 1 1-.708-.707L9.115 3.18A.499.499 0 0 1 9.498 3H9.5a.5.5 0 0 1 .354.147l.01.01l3.49 3.49a.5.5 0 1 1-.707.707l-2.65-2.649V16.5a.5.5 0 0 1-1 0V4.71z",fill:"currentColor"})],-1)],li={key:3,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},ni=[e.createElementVNode("g",{fill:"none"},[e.createElementVNode("path",{d:"M10.002 15.29l2.645-2.644a.5.5 0 0 1 .707.707L9.886 16.82a.5.5 0 0 1-.384.179h-.001a.5.5 0 0 1-.354-.147l-.01-.01l-3.49-3.49a.5.5 0 1 1 .707-.707l2.648 2.649V3.5a.5.5 0 0 1 1 0v11.79z",fill:"currentColor"})],-1)],ai=e.defineComponent({__name:"SettingsIcons",props:{column:{},isOpen:{type:Boolean}},setup(t){return(o,l)=>{var n,a,s,i,d,r,c;return e.openBlock(),e.createElementBlock("div",Jr,[(s=(a=(n=o.column)==null?void 0:n.settings)==null?void 0:a.filters)!=null&&s.length?(e.openBlock(),e.createElementBlock("svg",Xr,Yr)):(e.openBlock(),e.createElementBlock("svg",{key:1,class:e.normalizeClass(["w-4 h-4 transition-transform",o.isOpen?"rotate-180":""]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ei,2)),((d=(i=o.column)==null?void 0:i.settings)==null?void 0:d.sort)==="ASC"?(e.openBlock(),e.createElementBlock("svg",ti,oi)):((c=(r=o.column)==null?void 0:r.settings)==null?void 0:c.sort)==="DESC"?(e.openBlock(),e.createElementBlock("svg",li,ni)):e.createCommentVNode("",!0)])}}}),si=e.defineComponent({__name:"EnsureAccessDialog",props:{title:{},subtitle:{},invalidAccess:{},alertClass:{}},emits:["done"],setup(t){return(o,l)=>{const n=e.resolveComponent("EnsureAccess"),a=e.resolveComponent("SlideOver");return o.invalidAccess?(e.openBlock(),e.createBlock(a,{key:0,title:o.title,onDone:l[0]||(l[0]=s=>o.$emit("done")),"content-class":"relative flex-1"},e.createSlots({default:e.withCtx(()=>[e.createVNode(n,{alertClass:o.alertClass,invalidAccess:o.invalidAccess},null,8,["alertClass","invalidAccess"])]),_:2},[o.subtitle?{name:"subtitle",fn:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.subtitle),1)]),key:"0"}:void 0]),1032,["title"])):e.createCommentVNode("",!0)}}}),ri=["for"],ii={class:"mt-1 relative rounded-md shadow-sm"},di=["type","name","id","placeholder","value","aria-invalid","aria-describedby"],ci={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},mi=[e.createElementVNode("svg",{class:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)],pi=["id"],ui=["id"],fi={inheritAttrs:!1},hi=e.defineComponent({...fi,__name:"TextInput",props:{status:{},id:{},type:{},inputClass:{},label:{},labelClass:{},help:{},placeholder:{},modelValue:{}},setup(t,{expose:o}){const l=u=>u.value,n=t;o({focus:s});const a=e.ref();function s(){var u;(u=a.value)==null||u.focus()}const i=e.computed(()=>n.type||"text"),d=e.computed(()=>n.label??m.humanize(m.toPascalCase(n.id))),r=e.computed(()=>n.placeholder??d.value);let c=e.inject("ApiState",void 0);const p=e.computed(()=>m.errorResponse.call({responseStatus:n.status??(c==null?void 0:c.error.value)},n.id)),w=e.computed(()=>[ze.base,p.value?ze.invalid:ze.valid,n.inputClass]);return(u,h)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([u.$attrs.class])},[e.renderSlot(u.$slots,"header",e.mergeProps({inputElement:a.value,id:u.id,modelValue:u.modelValue,status:u.status},u.$attrs)),d.value?(e.openBlock(),e.createElementBlock("label",{key:0,for:u.id,class:e.normalizeClass(`block text-sm font-medium text-gray-700 dark:text-gray-300 ${u.labelClass??""}`)},e.toDisplayString(d.value),11,ri)):e.createCommentVNode("",!0),e.createElementVNode("div",ii,[e.createElementVNode("input",e.mergeProps({ref_key:"inputElement",ref:a,type:i.value,name:u.id,id:u.id,class:w.value,placeholder:r.value,value:u.modelValue,onInput:h[0]||(h[0]=f=>u.$emit("update:modelValue",l(f.target))),"aria-invalid":p.value!=null,"aria-describedby":`${u.id}-error`,step:"any"},e.unref(m.omit)(u.$attrs,["class"])),null,16,di),p.value?(e.openBlock(),e.createElementBlock("div",ci,mi)):e.createCommentVNode("",!0)]),p.value?(e.openBlock(),e.createElementBlock("p",{key:1,class:"mt-2 text-sm text-red-500",id:`${u.id}-error`},e.toDisplayString(p.value),9,pi)):u.help?(e.openBlock(),e.createElementBlock("p",{key:2,class:"mt-2 text-sm text-gray-500",id:`${u.id}-description`},e.toDisplayString(u.help),9,ui)):e.createCommentVNode("",!0),e.renderSlot(u.$slots,"footer",e.mergeProps({inputElement:a.value,id:u.id,modelValue:u.modelValue,status:u.status},u.$attrs))],2))}}),gi=["for"],yi={class:"mt-1 relative rounded-md shadow-sm"},ki=["name","id","placeholder","aria-invalid","aria-describedby"],bi=["id"],wi=["id"],Ci={inheritAttrs:!1},_i=e.defineComponent({...Ci,__name:"TextareaInput",props:{status:{},id:{},inputClass:{},label:{},labelClass:{},help:{},placeholder:{},modelValue:{}},setup(t){const o=r=>r.value,l=t,n=e.computed(()=>l.label??m.humanize(m.toPascalCase(l.id))),a=e.computed(()=>l.placeholder??n.value);let s=e.inject("ApiState",void 0);const i=e.computed(()=>m.errorResponse.call({responseStatus:l.status??(s==null?void 0:s.error.value)},l.id)),d=e.computed(()=>["shadow-sm "+ze.base,i.value?"text-red-900 focus:ring-red-500 focus:border-red-500 border-red-300":"text-gray-900 "+ze.valid,l.inputClass]);return(r,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([r.$attrs.class])},[n.value?(e.openBlock(),e.createElementBlock("label",{key:0,for:r.id,class:e.normalizeClass(`block text-sm font-medium text-gray-700 dark:text-gray-300 ${r.labelClass??""}`)},e.toDisplayString(n.value),11,gi)):e.createCommentVNode("",!0),e.createElementVNode("div",yi,[e.createElementVNode("textarea",e.mergeProps({name:r.id,id:r.id,class:d.value,placeholder:a.value,onInput:c[0]||(c[0]=p=>r.$emit("update:modelValue",o(p.target))),"aria-invalid":i.value!=null,"aria-describedby":`${r.id}-error`},e.unref(m.omit)(r.$attrs,["class"])),e.toDisplayString(r.modelValue),17,ki)]),i.value?(e.openBlock(),e.createElementBlock("p",{key:1,class:"mt-2 text-sm text-red-500",id:`${r.id}-error`},e.toDisplayString(i.value),9,bi)):r.help?(e.openBlock(),e.createElementBlock("p",{key:2,class:"mt-2 text-sm text-gray-500",id:`${r.id}-description`},e.toDisplayString(r.help),9,wi)):e.createCommentVNode("",!0)],2))}}),Vi=["for"],$i=["id","name","value","aria-invalid","aria-describedby"],Ei=["value"],Bi=["id"],xi={inheritAttrs:!1},Ni=e.defineComponent({...xi,__name:"SelectInput",props:{status:{},id:{},modelValue:{},inputClass:{},label:{},labelClass:{},options:{},values:{},entries:{}},setup(t){const o=d=>d.value,l=t,n=e.computed(()=>l.label??m.humanize(m.toPascalCase(l.id)));let a=e.inject("ApiState",void 0);const s=e.computed(()=>m.errorResponse.call({responseStatus:l.status??(a==null?void 0:a.error.value)},l.id)),i=e.computed(()=>l.entries||(l.values?l.values.map(d=>({key:d,value:d})):l.options?Object.keys(l.options).map(d=>({key:d,value:l.options[d]})):[]));return(d,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([d.$attrs.class])},[n.value?(e.openBlock(),e.createElementBlock("label",{key:0,for:d.id,class:e.normalizeClass(`block text-sm font-medium text-gray-700 dark:text-gray-300 ${d.labelClass??""}`)},e.toDisplayString(n.value),11,Vi)):e.createCommentVNode("",!0),e.createElementVNode("select",e.mergeProps({id:d.id,name:d.id,class:["mt-1 block w-full pl-3 pr-10 py-2 text-base focus:outline-none sm:text-sm rounded-md dark:text-white dark:bg-gray-900 dark:border-gray-600",s.value?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-gray-300 text-gray-900 focus:ring-indigo-500 focus:border-indigo-500",d.inputClass],value:d.modelValue,onInput:r[0]||(r[0]=c=>d.$emit("update:modelValue",o(c.target))),"aria-invalid":s.value!=null,"aria-describedby":`${d.id}-error`},e.unref(m.omit)(d.$attrs,["class"])),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,c=>(e.openBlock(),e.createElementBlock("option",{value:c.key},e.toDisplayString(c.value),9,Ei))),256))],16,$i),s.value?(e.openBlock(),e.createElementBlock("p",{key:1,class:"mt-2 text-sm text-red-500",id:`${d.id}-error`},e.toDisplayString(s.value),9,Bi)):e.createCommentVNode("",!0)],2))}}),Si={class:"flex items-center h-5"},vi=["id","name","checked"],Li={class:"ml-3 text-sm"},Mi=["for"],Di={key:0,class:"mt-2 text-sm text-red-500",id:"`${id}-error`"},Ti={key:1,class:"mt-2 text-sm text-gray-500",id:"`${id}-description`"},zi={inheritAttrs:!1},Ai=e.defineComponent({...zi,__name:"CheckboxInput",props:{modelValue:{type:Boolean},status:{},id:{},inputClass:{},label:{},labelClass:{},help:{}},emits:["update:modelValue"],setup(t,{emit:o}){const l=t,n=e.computed(()=>l.label??m.humanize(m.toPascalCase(l.id)));let a=e.inject("ApiState",void 0);const s=e.computed(()=>m.errorResponse.call({responseStatus:l.status??(a==null?void 0:a.error.value)},l.id));return(i,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["relative flex items-start",i.$attrs.class])},[e.createElementVNode("div",Si,[e.createElementVNode("input",e.mergeProps({id:i.id,name:i.id,type:"checkbox",checked:i.modelValue,onInput:d[0]||(d[0]=r=>i.$emit("update:modelValue",r.target.checked)),class:["focus:ring-indigo-500 h-4 w-4 text-indigo-600 rounded border-gray-300 dark:border-gray-600 dark:bg-gray-800",i.inputClass]},e.unref(m.omit)(i.$attrs,["class"])),null,16,vi)]),e.createElementVNode("div",Li,[e.createElementVNode("label",{for:i.id,class:e.normalizeClass(`font-medium text-gray-700 dark:text-gray-300 ${i.labelClass??""}`)},e.toDisplayString(n.value),11,Mi),s.value?(e.openBlock(),e.createElementBlock("p",Di,e.toDisplayString(s.value),1)):i.help?(e.openBlock(),e.createElementBlock("p",Ti,e.toDisplayString(i.help),1)):e.createCommentVNode("",!0)])],2))}}),Fi=["id"],Ii=["for"],Pi={class:"mt-1 relative rounded-md shadow-sm"},ji=["id","name","value"],Ri={class:"flex flex-wrap pb-1.5"},Oi={class:"pt-1.5 pl-1"},Hi={class:"inline-flex rounded-full items-center py-0.5 pl-2.5 pr-1 text-sm font-medium bg-indigo-100 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-300"},Ui=["onClick"],qi=[e.createElementVNode("svg",{class:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-width":"1.5",d:"M1 1l6 6m0-6L1 7"})],-1)],Qi={class:"pt-1.5 pl-1 shrink"},Gi=["type","name","id","aria-invalid","aria-describedby"],Ki=["id"],Zi=["onMouseover","onClick"],Wi={class:"block truncate"},Ji={key:1,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},Xi=[e.createElementVNode("svg",{class:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)],Yi=["id"],ed=["id"],td={inheritAttrs:!1},od=e.defineComponent({...td,__name:"TagInput",props:{status:{},id:{},type:{},inputClass:{},label:{},labelClass:{},help:{},modelValue:{default:()=>[]},delimiters:{default:()=>[","]},allowableValues:{},string:{type:Boolean},converter:{}},emits:["update:modelValue"],setup(t,{emit:o}){const l=t,n=o;function a(y){return l.converter?l.converter(y):y}const s=e.computed(()=>m.map(a(l.modelValue),y=>typeof y=="string"?y.trim().length==0?[]:y.split(","):y)||[]),i=e.ref(),d=e.ref(!1),r=e.computed(()=>{const y=w.value.toLowerCase();return!l.allowableValues||l.allowableValues.length==0?[]:l.allowableValues.length<1e3?l.allowableValues.filter(A=>!s.value.includes(A)&&A.toLowerCase().includes(y)):l.allowableValues.filter(A=>!s.value.includes(A)&&A.startsWith(y))});function c(y){i.value=y}const p=e.ref(null),w=e.ref(""),u=e.computed(()=>l.type||"text"),h=e.computed(()=>l.label??m.humanize(m.toPascalCase(l.id)));let f=e.inject("ApiState",void 0);const k=e.computed(()=>m.errorResponse.call({responseStatus:l.status??(f==null?void 0:f.error.value)},l.id)),S=e.computed(()=>["w-full cursor-text flex flex-wrap sm:text-sm rounded-md dark:text-white dark:bg-gray-900 border focus-within:border-transparent focus-within:ring-1 focus-within:outline-none",k.value?"pr-10 border-red-300 text-red-900 placeholder-red-300 focus-within:outline-none focus-within:ring-red-500 focus-within:border-red-500":"shadow-sm border-gray-300 dark:border-gray-600 focus-within:ring-indigo-500 focus-within:border-indigo-500",l.inputClass]),P=y=>V(s.value.filter(A=>A!=y));function oe(y){var A;document.activeElement===y.target&&((A=p.value)==null||A.focus())}const v=e.ref();function x(){d.value=!0,v.value=!0}function B(){x()}function X(){F(j()),v.value=!1,setTimeout(()=>{v.value||(d.value=!1)},200)}function V(y){const A=l.string?y.join(","):y;n("update:modelValue",A)}function z(y){if(y.key=="Backspace"&&w.value.length==0&&s.value.length>0&&P(s.value[s.value.length-1]),!(!l.allowableValues||l.allowableValues.length==0))if(y.code=="Escape"||y.code=="Tab")d.value=!1;else if(y.code=="Home")i.value=r.value[0],R();else if(y.code=="End")i.value=r.value[r.value.length-1],R();else if(y.code=="ArrowDown"){if(d.value=!0,!i.value)i.value=r.value[0];else{const A=r.value.indexOf(i.value);i.value=A+1<r.value.length?r.value[A+1]:r.value[0]}H()}else if(y.code=="ArrowUp"){if(!i.value)i.value=r.value[r.value.length-1];else{const A=r.value.indexOf(i.value);i.value=A-1>=0?r.value[A-1]:r.value[r.value.length-1]}H()}else y.code=="Enter"?i.value&&d.value?(F(i.value),y.preventDefault()):d.value=!1:d.value=r.value.length>0}function j(){if(w.value.length==0)return"";let y=m.trimEnd(w.value.trim(),",");return y[0]==","&&(y=y.substring(1)),y=y.trim(),y.length==0&&d.value&&r.value.length>0?i.value:y}function G(y){const A=j();if(A.length>0){const T=l.delimiters.some(C=>C==y.key);if(T&&y.preventDefault(),y.key=="Enter"||y.key=="NumpadEnter"||y.key.length==1&&T){F(A);return}}}const D={behavior:"smooth",block:"nearest",inline:"nearest",scrollMode:"if-needed"};function R(){setTimeout(()=>{let y=m.$1(`#${l.id}-tag li.active`);y&&y.scrollIntoView(D)},0)}function H(){setTimeout(()=>{let y=m.$1(`#${l.id}-tag li.active`);y&&("scrollIntoViewIfNeeded"in y?y.scrollIntoViewIfNeeded(D):y.scrollIntoView(D))},0)}function F(y){if(y.length===0)return;const A=Array.from(s.value);A.indexOf(y)==-1&&A.push(y),V(A),w.value="",d.value=!1}function E(y){var T;const A=(T=y.clipboardData)==null?void 0:T.getData("Text");q(A)}function q(y){if(!y)return;const A=new RegExp(`\\n|\\t|${l.delimiters.join("|")}`),T=Array.from(s.value);y.split(A).map(C=>C.trim()).forEach(C=>{T.indexOf(C)==-1&&T.push(C)}),V(T),w.value=""}return(y,A)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([y.$attrs.class]),id:`${y.id}-tag`,onmousemove:"cancelBlur=true"},[h.value?(e.openBlock(),e.createElementBlock("label",{key:0,for:y.id,class:e.normalizeClass(`block text-sm font-medium text-gray-700 dark:text-gray-300 ${y.labelClass??""}`)},e.toDisplayString(h.value),11,Ii)):e.createCommentVNode("",!0),e.createElementVNode("div",Pi,[e.createElementVNode("input",{type:"hidden",id:y.id,name:y.id,value:s.value.join(",")},null,8,ji),e.createElementVNode("button",{class:e.normalizeClass(S.value),onClick:e.withModifiers(oe,["prevent"]),onFocus:A[2]||(A[2]=T=>d.value=!0),tabindex:"-1"},[e.createElementVNode("div",Ri,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,T=>(e.openBlock(),e.createElementBlock("div",Oi,[e.createElementVNode("span",Hi,[e.createTextVNode(e.toDisplayString(T)+" ",1),e.createElementVNode("button",{type:"button",onClick:g=>P(T),class:"flex-shrink-0 ml-1 h-4 w-4 rounded-full inline-flex items-center justify-center text-indigo-400 dark:text-indigo-500 hover:bg-indigo-200 dark:hover:bg-indigo-800 hover:text-indigo-500 dark:hover:text-indigo-400 focus:outline-none focus:bg-indigo-500 focus:text-white dark:focus:text-black"},qi,8,Ui)])]))),256)),e.createElementVNode("div",Qi,[e.withDirectives(e.createElementVNode("input",e.mergeProps({ref_key:"txtInput",ref:p,type:u.value,role:"combobox","aria-controls":"options","aria-expanded":"false",autocomplete:"off",spellcheck:"false",name:`${y.id}-txt`,id:`${y.id}-txt`,class:"p-0 dark:bg-transparent rounded-md border-none focus:!border-none focus:!outline-none",style:`box-shadow:none !important;width:${w.value.length+1}ch`,"onUpdate:modelValue":A[0]||(A[0]=T=>w.value=T),"aria-invalid":k.value!=null,"aria-describedby":`${y.id}-error`,onKeydown:z,onKeypress:G,onPaste:e.withModifiers(E,["prevent","stop"]),onFocus:B,onBlur:X,onClick:A[1]||(A[1]=T=>d.value=!0)},e.unref(m.omit)(y.$attrs,["class","required"])),null,16,Gi),[[e.vModelDynamic,w.value]])])])],34),d.value&&r.value.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white dark:bg-black py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",onKeydown:z,id:`${y.id}-options`,role:"listbox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value.slice(0,300),T=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([T===i.value?"active bg-indigo-600 text-white":"text-gray-900 dark:text-gray-100","relative cursor-default select-none py-2 pl-3 pr-9"]),onMouseover:g=>c(T),onClick:g=>F(T),role:"option",tabindex:"-1"},[e.createElementVNode("span",Wi,e.toDisplayString(T),1)],42,Zi))),256))],40,Ki)):e.createCommentVNode("",!0),k.value?(e.openBlock(),e.createElementBlock("div",Ji,Xi)):e.createCommentVNode("",!0)]),k.value?(e.openBlock(),e.createElementBlock("p",{key:1,class:"mt-2 text-sm text-red-500",id:`${y.id}-error`},e.toDisplayString(k.value),9,Yi)):y.help?(e.openBlock(),e.createElementBlock("p",{key:2,class:"mt-2 text-sm text-gray-500",id:`${y.id}-description`},e.toDisplayString(y.help),9,ed)):e.createCommentVNode("",!0)],10,Fi))}}),ld={class:"relative flex-grow mr-2 sm:mr-4"},nd=["for"],ad={class:"block mt-2"},sd={class:"sr-only"},rd=["multiple","name","id","placeholder","aria-invalid","aria-describedby"],id={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},dd=[e.createElementVNode("svg",{class:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)],cd=["id"],md=["id"],pd={key:0},ud=["title"],fd=["alt","src"],hd={key:1,class:"mt-3"},gd={class:"w-full"},yd={class:"pr-6 align-bottom pb-2"},kd=["title"],bd=["src","onError"],wd=["href"],Cd={key:1,class:"overflow-hidden"},_d={class:"align-top pb-2 whitespace-nowrap"},Vd={key:0,class:"text-gray-500 dark:text-gray-400 text-sm bg-white dark:bg-black"},$d=e.defineComponent({__name:"FileInput",props:{multiple:{type:Boolean},status:{},id:{},inputClass:{},label:{},labelClass:{},help:{},placeholder:{},modelValue:{},values:{},files:{}},setup(t){var x;const o=t,l=e.ref(null),{assetsPathResolver:n,fallbackPathResolver:a}=He(),s={},i=e.ref(),d=e.ref(((x=o.files)==null?void 0:x.map(r))||[]);function r(B){return B.filePath=n(B.filePath),B}o.values&&o.values.length>0&&(d.value=o.values.map(B=>{let X=B.replace(/\\/g,"/");return{fileName:m.lastLeftPart(m.lastRightPart(X,"/"),"."),filePath:X,contentType:ao(X)}}).map(r));const c=e.computed(()=>o.label??m.humanize(m.toPascalCase(o.id))),p=e.computed(()=>o.placeholder??c.value);let w=e.inject("ApiState",void 0);const u=e.computed(()=>m.errorResponse.call({responseStatus:o.status??(w==null?void 0:w.error.value)},o.id)),h=e.computed(()=>["block w-full sm:text-sm rounded-md dark:text-white dark:bg-gray-900 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 dark:file:bg-violet-900 file:text-violet-700 dark:file:text-violet-200 hover:file:bg-violet-100 dark:hover:file:bg-violet-800",u.value?"pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"text-slate-500 dark:text-slate-400",o.inputClass]),f=B=>{let X=B.target;i.value="",d.value=Array.from(X.files||[]).map(V=>({fileName:V.name,filePath:to(V),contentLength:V.size,contentType:V.type||ao(V.name)}))},k=()=>{var B;return(B=l.value)==null?void 0:B.click()},S=B=>B==null?!1:B.startsWith("data:")||B.startsWith("blob:"),P=e.computed(()=>{if(d.value.length>0)return d.value[0].filePath;let B=typeof o.modelValue=="string"?o.modelValue:o.values&&o.values[0];return B&&Ze(n(B))||null}),oe=B=>!B||B.startsWith("data:")||B.endsWith(".svg")?"":"rounded-full object-cover";function v(B){i.value=a(P.value)}return e.onUnmounted(Qo),(B,X)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["flex",B.multiple?"flex-col":"justify-between"])},[e.createElementVNode("div",ld,[c.value?(e.openBlock(),e.createElementBlock("label",{key:0,for:B.id,class:e.normalizeClass(`block text-sm font-medium text-gray-700 dark:text-gray-300 ${B.labelClass??""}`)},e.toDisplayString(c.value),11,nd)):e.createCommentVNode("",!0),e.createElementVNode("div",ad,[e.createElementVNode("span",sd,e.toDisplayString(B.help??c.value),1),e.createElementVNode("input",e.mergeProps({ref_key:"input",ref:l,type:"file",multiple:B.multiple,name:B.id,id:B.id,class:h.value,placeholder:p.value,"aria-invalid":u.value!=null,"aria-describedby":`${B.id}-error`},B.$attrs,{onChange:f}),null,16,rd),u.value?(e.openBlock(),e.createElementBlock("div",id,dd)):e.createCommentVNode("",!0)]),u.value?(e.openBlock(),e.createElementBlock("p",{key:1,class:"mt-2 text-sm text-red-500",id:`${B.id}-error`},e.toDisplayString(u.value),9,cd)):B.help?(e.openBlock(),e.createElementBlock("p",{key:2,class:"mt-2 text-sm text-gray-500",id:`${B.id}-description`},e.toDisplayString(B.help),9,md)):e.createCommentVNode("",!0)]),B.multiple?(e.openBlock(),e.createElementBlock("div",hd,[e.createElementVNode("table",gd,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,V=>(e.openBlock(),e.createElementBlock("tr",null,[e.createElementVNode("td",yd,[e.createElementVNode("div",{class:"flex w-full",title:S(V.filePath)?"":V.filePath},[e.createElementVNode("img",{src:s[e.unref(Ze)(V.filePath)]||e.unref(n)(e.unref(Ze)(V.filePath)),class:e.normalizeClass(["mr-2 h-8 w-8",oe(V.filePath)]),onError:z=>s[e.unref(Ze)(V.filePath)]=e.unref(a)(e.unref(Ze)(V.filePath))},null,42,bd),S(V.filePath)?(e.openBlock(),e.createElementBlock("span",Cd,e.toDisplayString(V.fileName),1)):(e.openBlock(),e.createElementBlock("a",{key:0,href:e.unref(n)(V.filePath||""),target:"_blank",class:"overflow-hidden"},e.toDisplayString(V.fileName),9,wd))],8,kd)]),e.createElementVNode("td",_d,[V.contentLength&&V.contentLength>0?(e.openBlock(),e.createElementBlock("span",Vd,e.toDisplayString(e.unref(lo)(V.contentLength)),1)):e.createCommentVNode("",!0)])]))),256))])])):(e.openBlock(),e.createElementBlock("div",pd,[P.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"shrink-0 cursor-pointer",title:S(P.value)?"":P.value},[e.createElementVNode("img",{onClick:k,class:e.normalizeClass(["h-16 w-16",oe(P.value)]),alt:`Current ${c.value??""}`,src:i.value||e.unref(n)(P.value),onError:v},null,42,fd)],8,ud)):e.createCommentVNode("",!0)]))],2))}}),Ed=["id"],Bd=["for"],xd={class:"relative mt-1"},Nd=["id","placeholder"],Sd=[e.createElementVNode("svg",{class:"h-5 w-5 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z","clip-rule":"evenodd"})],-1)],vd=["id"],Ld=["onMouseover","onClick"],Md=[e.createElementVNode("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})],-1)],Dd={key:2,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",tabindex:"-1"},Td=[e.createElementVNode("svg",{class:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)],zd=["id"],Ad=["id"],Fd=e.defineComponent({__name:"Autocomplete",props:{status:{},id:{},type:{},label:{},help:{},placeholder:{},multiple:{type:Boolean,default:!1},required:{type:Boolean},options:{default:()=>[]},modelValue:{},match:{},viewCount:{default:100},pageSize:{default:8}},emits:["update:modelValue"],setup(t,{expose:o,emit:l}){const n=e.ref(!1),a=t,s=l;o({toggle:D});function i(E){return Array.isArray(a.modelValue)&&a.modelValue.indexOf(E)>=0}const d=e.computed(()=>a.label??m.humanize(m.toPascalCase(a.id)));let r=e.inject("ApiState",void 0);const c=e.computed(()=>m.errorResponse.call({responseStatus:a.status??(r==null?void 0:r.error.value)},a.id)),p=e.computed(()=>[ze.base,c.value?ze.invalid:ze.valid]),w=e.ref(null),u=e.ref(""),h=e.ref(null),f=e.ref(a.viewCount),k=e.ref([]),S=e.computed(()=>u.value?a.options.filter(q=>a.match(q,u.value)).slice(0,f.value):a.options),P=["Tab","Escape","ArrowDown","ArrowUp","Enter","PageUp","PageDown","Home","End"];function oe(E){h.value=E,k.value.indexOf(E)>Math.floor(f.value*.9)&&(f.value+=a.viewCount,F())}const v=[",",`
`,"	"];function x(E){var y;const q=(y=E.clipboardData)==null?void 0:y.getData("Text");B(q)}function B(E){if(!E)return;const q=v.some(y=>E.includes(y));if(!a.multiple||!q){const y=a.options.filter(A=>a.match(A,E));y.length==1&&(H(y[0]),n.value=!1,Vt())}else if(q){const y=new RegExp("\\r|\\n|\\t|,"),T=E.split(y).filter(g=>g.trim()).map(g=>a.options.find(C=>a.match(C,g))).filter(g=>!!g);if(T.length>0){u.value="",n.value=!1,h.value=null;let g=Array.from(a.modelValue||[]);T.forEach(C=>{i(C)?g=g.filter(O=>O!=C):g.push(C)}),s("update:modelValue",g),Vt()}}}function X(E){P.indexOf(E.code)||R()}function V(E){if(!(E.shiftKey||E.ctrlKey||E.altKey)){if(!n.value){E.code=="ArrowDown"&&(n.value=!0,h.value=k.value[0]);return}if(E.code=="Escape")n.value&&(E.stopPropagation(),n.value=!1);else if(E.code=="Tab")n.value=!1;else if(E.code=="Home")h.value=k.value[0],j();else if(E.code=="End")h.value=k.value[k.value.length-1],j();else if(E.code=="ArrowDown"){if(!h.value)h.value=k.value[0];else{const q=k.value.indexOf(h.value);h.value=q+1<k.value.length?k.value[q+1]:k.value[0]}G()}else if(E.code=="ArrowUp"){if(!h.value)h.value=k.value[k.value.length-1];else{const q=k.value.indexOf(h.value);h.value=q-1>=0?k.value[q-1]:k.value[k.value.length-1]}G()}else E.code=="Enter"&&(h.value?(H(h.value),a.multiple||(E.preventDefault(),Vt())):n.value=!1)}}const z={behavior:"smooth",block:"nearest",inline:"nearest",scrollMode:"if-needed"};function j(){setTimeout(()=>{let E=m.$1(`#${a.id}-autocomplete li.active`);E&&E.scrollIntoView(z)},0)}function G(){setTimeout(()=>{let E=m.$1(`#${a.id}-autocomplete li.active`);E&&("scrollIntoViewIfNeeded"in E?E.scrollIntoViewIfNeeded(z):E.scrollIntoView(z))},0)}function D(E){var q;n.value=E,E&&(R(),(q=w.value)==null||q.focus())}function R(){n.value=!0,F()}function H(E){if(u.value="",n.value=!1,a.multiple){let q=Array.from(a.modelValue||[]);i(E)?q=q.filter(y=>y!=E):q.push(E),h.value=null,s("update:modelValue",q)}else{let q=E;a.modelValue==E&&(q=null),s("update:modelValue",q)}}function F(){k.value=S.value}return e.watch(u,F),(E,q)=>(e.openBlock(),e.createElementBlock("div",{id:`${E.id}-autocomplete`},[d.value?(e.openBlock(),e.createElementBlock("label",{key:0,for:`${E.id}-text`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},e.toDisplayString(d.value),9,Bd)):e.createCommentVNode("",!0),e.createElementVNode("div",xd,[e.withDirectives(e.createElementVNode("input",e.mergeProps({ref_key:"txtInput",ref:w,id:`${E.id}-text`,type:"text",role:"combobox","aria-controls":"options","aria-expanded":"false",autocomplete:"off",spellcheck:"false","onUpdate:modelValue":q[0]||(q[0]=y=>u.value=y),class:p.value,placeholder:E.multiple||!E.modelValue?E.placeholder:"",onFocus:R,onKeydown:V,onKeyup:X,onClick:R,onPaste:x,required:!1},E.$attrs),null,16,Nd),[[e.vModelText,u.value]]),e.createElementVNode("button",{type:"button",onClick:q[1]||(q[1]=y=>D(!n.value)),class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",tabindex:"-1"},Sd),n.value?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white dark:bg-black py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",onKeydown:V,id:`${E.id}-options`,role:"listbox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.value,y=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([y===h.value?"active bg-indigo-600 text-white":"text-gray-900 dark:text-gray-100","relative cursor-default select-none py-2 pl-3 pr-9"]),onMouseover:A=>oe(y),onClick:A=>H(y),role:"option",tabindex:"-1"},[e.renderSlot(E.$slots,"item",e.normalizeProps(e.guardReactiveProps(y))),i(y)?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["absolute inset-y-0 right-0 flex items-center pr-4",y===h.value?"text-white":"text-indigo-600"])},Md,2)):e.createCommentVNode("",!0)],42,Ld))),256))],40,vd)):!E.multiple&&E.modelValue?(e.openBlock(),e.createElementBlock("div",{key:1,onKeydown:V,onClick:q[2]||(q[2]=y=>D(!n.value)),class:"h-8 -mt-8 ml-3 pt-0.5"},[e.renderSlot(E.$slots,"item",e.normalizeProps(e.guardReactiveProps(E.modelValue)))],32)):e.createCommentVNode("",!0),c.value?(e.openBlock(),e.createElementBlock("div",Dd,Td)):e.createCommentVNode("",!0)]),c.value?(e.openBlock(),e.createElementBlock("p",{key:1,class:"mt-2 text-sm text-red-500",id:`${E.id}-error`},e.toDisplayString(c.value),9,zd)):E.help?(e.openBlock(),e.createElementBlock("p",{key:2,class:"mt-2 text-sm text-gray-500",id:`${E.id}-description`},e.toDisplayString(E.help),9,Ad)):e.createCommentVNode("",!0)],8,Ed))}}),Id=["id","name","value"],Pd={class:"block truncate"},jd=e.defineComponent({__name:"Combobox",props:{id:{},modelValue:{},multiple:{type:Boolean},options:{},values:{},entries:{}},emits:["update:modelValue"],setup(t,{expose:o,emit:l}){const n=t;o({toggle(h){var f;(f=d.value)==null||f.toggle(h)}});const a=l;function s(h){a("update:modelValue",h)}const i=e.computed(()=>n.multiple!=null?n.multiple:Array.isArray(n.modelValue)),d=e.ref();function r(h,f){return!f||h.value.toLowerCase().includes(f.toLowerCase())}const c=e.computed(()=>n.entries||(n.values?n.values.map(h=>({key:h,value:h})):n.options?Object.keys(n.options).map(h=>({key:h,value:n.options[h]})):[])),p=e.ref(i.value?[]:null);function w(){let h=n.modelValue&&typeof n.modelValue=="object"?n.modelValue.key:n.modelValue;h==null||h===""?p.value=i.value?[]:null:typeof h=="string"?p.value=c.value.find(f=>f.key===h)||null:Array.isArray(h)&&(p.value=c.value.filter(f=>h.includes(f.key)))}e.onMounted(w);const u=e.computed(()=>p.value==null?"":Array.isArray(p.value)?p.value.map(h=>encodeURIComponent(h.key)).join(","):p.value.key);return(h,f)=>{const k=e.resolveComponent("Autocomplete");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("input",{type:"hidden",id:h.id,name:h.id,value:u.value},null,8,Id),e.createVNode(k,e.mergeProps({ref_key:"input",ref:d,id:h.id,options:c.value,match:r,multiple:i.value},h.$attrs,{modelValue:p.value,"onUpdate:modelValue":[f[0]||(f[0]=S=>p.value=S),s]}),{item:e.withCtx(({key:S,value:P})=>[e.createElementVNode("span",Pd,e.toDisplayString(P),1)]),_:1},16,["id","options","multiple","modelValue"])],64)}}}),Rd=e.defineComponent({__name:"DynamicInput",props:{input:{},modelValue:{},api:{}},emits:["update:modelValue"],setup(t,{emit:o}){const l=t,n=o,a=e.computed(()=>l.input.type||"text"),s="ignore,css,options,meta,allowableValues,allowableEntries,op,prop,type,id,name".split(","),i=e.computed(()=>m.omit(l.input,s)),d=e.ref(m.map(l.modelValue[l.input.id],c=>l.input.type==="file"?null:l.input.type==="date"&&c instanceof Date?_t(c):l.input.type==="time"?zo(c):c));e.watch(d,()=>{l.modelValue[l.input.id]=d.value,n("update:modelValue",l.modelValue)});const r=e.computed(()=>{const c=l.modelValue[l.input.id];if(l.input.type!=="file"||!c)return[];if(typeof c=="string")return[{filePath:c,fileName:m.lastRightPart(c,"/")}];if(!Array.isArray(c)&&typeof c=="object")return c;if(Array.isArray(c)){const p=[];return c.forEach(w=>{typeof w=="string"?p.push({filePath:w,fileName:m.lastRightPart(w,"/")}):typeof w=="object"&&p.push(w)}),p}});return(c,p)=>{var v,x,B,X,V,z,j,G,D,R,H,F,E,q,y,A,T,g,C,O,U,K,N,_,ee,le,J,ne;const w=e.resolveComponent("SelectInput"),u=e.resolveComponent("CheckboxInput"),h=e.resolveComponent("TagInput"),f=e.resolveComponent("Combobox"),k=e.resolveComponent("FileInput"),S=e.resolveComponent("TextareaInput"),P=e.resolveComponent("MarkdownInput"),oe=e.resolveComponent("TextInput");return e.unref(Q).component(a.value)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(Q).component(a.value)),e.mergeProps({key:0,id:c.input.id,modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=$=>d.value=$),status:(v=c.api)==null?void 0:v.error,"input-class":(x=c.input.css)==null?void 0:x.input,"label-class":(B=c.input.css)==null?void 0:B.label},i.value),null,16,["id","modelValue","status","input-class","label-class"])):a.value=="select"?(e.openBlock(),e.createBlock(w,e.mergeProps({key:1,id:c.input.id,modelValue:d.value,"onUpdate:modelValue":p[1]||(p[1]=$=>d.value=$),status:(X=c.api)==null?void 0:X.error,"input-class":(V=c.input.css)==null?void 0:V.input,"label-class":(z=c.input.css)==null?void 0:z.label,entries:c.input.allowableEntries,values:c.input.allowableValues},i.value),null,16,["id","modelValue","status","input-class","label-class","entries","values"])):a.value=="checkbox"?(e.openBlock(),e.createBlock(u,e.mergeProps({key:2,id:c.input.id,modelValue:d.value,"onUpdate:modelValue":p[2]||(p[2]=$=>d.value=$),status:(j=c.api)==null?void 0:j.error,"input-class":(G=c.input.css)==null?void 0:G.input,"label-class":(D=c.input.css)==null?void 0:D.label},i.value),null,16,["id","modelValue","status","input-class","label-class"])):a.value=="tag"?(e.openBlock(),e.createBlock(h,e.mergeProps({key:3,id:c.input.id,modelValue:d.value,"onUpdate:modelValue":p[3]||(p[3]=$=>d.value=$),status:(R=c.api)==null?void 0:R.error,"input-class":(H=c.input.css)==null?void 0:H.input,"label-class":(F=c.input.css)==null?void 0:F.label,allowableValues:c.input.allowableValues,string:((E=c.input.prop)==null?void 0:E.type)=="String"},i.value),null,16,["id","modelValue","status","input-class","label-class","allowableValues","string"])):a.value=="combobox"?(e.openBlock(),e.createBlock(f,e.mergeProps({key:4,id:c.input.id,modelValue:d.value,"onUpdate:modelValue":p[4]||(p[4]=$=>d.value=$),status:(q=c.api)==null?void 0:q.error,"input-class":(y=c.input.css)==null?void 0:y.input,"label-class":(A=c.input.css)==null?void 0:A.label,entries:c.input.allowableEntries,values:c.input.allowableValues},i.value),null,16,["id","modelValue","status","input-class","label-class","entries","values"])):a.value=="file"?(e.openBlock(),e.createBlock(k,e.mergeProps({key:5,id:c.input.id,status:(T=c.api)==null?void 0:T.error,modelValue:d.value,"onUpdate:modelValue":p[5]||(p[5]=$=>d.value=$),"input-class":(g=c.input.css)==null?void 0:g.input,"label-class":(C=c.input.css)==null?void 0:C.label,files:r.value},i.value),null,16,["id","status","modelValue","input-class","label-class","files"])):a.value=="textarea"?(e.openBlock(),e.createBlock(S,e.mergeProps({key:6,id:c.input.id,modelValue:d.value,"onUpdate:modelValue":p[6]||(p[6]=$=>d.value=$),status:(O=c.api)==null?void 0:O.error,"input-class":(U=c.input.css)==null?void 0:U.input,"label-class":(K=c.input.css)==null?void 0:K.label},i.value),null,16,["id","modelValue","status","input-class","label-class"])):a.value=="MarkdownInput"?(e.openBlock(),e.createBlock(P,e.mergeProps({key:7,id:c.input.id,modelValue:d.value,"onUpdate:modelValue":p[7]||(p[7]=$=>d.value=$),status:(N=c.api)==null?void 0:N.error,"input-class":(_=c.input.css)==null?void 0:_.input,"label-class":(ee=c.input.css)==null?void 0:ee.label},i.value),null,16,["id","modelValue","status","input-class","label-class"])):(e.openBlock(),e.createBlock(oe,e.mergeProps({key:8,type:a.value,id:c.input.id,modelValue:d.value,"onUpdate:modelValue":p[8]||(p[8]=$=>d.value=$),status:(le=c.api)==null?void 0:le.error,"input-class":(J=c.input.css)==null?void 0:J.input,"label-class":(ne=c.input.css)==null?void 0:ne.label},i.value),null,16,["type","id","modelValue","status","input-class","label-class"]))}}}),Od={class:"lookup-field"},Hd=["name","value"],Ud={key:0,class:"flex justify-between"},qd=["for"],Qd={key:0,class:"flex items-center"},Gd={class:"text-sm text-gray-500 dark:text-gray-400 pr-1"},Kd=[e.createElementVNode("span",{class:"sr-only"},"Clear",-1),e.createElementVNode("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)],Zd={key:1,class:"mt-1 relative"},Wd={class:"w-full inline-flex truncate"},Jd={class:"text-blue-700 dark:text-blue-300 flex cursor-pointer"},Xd=e.createElementVNode("span",{class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},[e.createElementVNode("svg",{class:"h-5 w-5 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1),Yd=["id"],ec=["id"],tc=e.defineComponent({__name:"LookupInput",props:{id:{},status:{},input:{},metadataType:{},modelValue:{},label:{},labelClass:{},help:{}},emits:["update:modelValue"],setup(t,{emit:o}){const{config:l}=He(),{metadataApi:n}=Le(),a=t,s=o,i=e.computed(()=>a.id||a.input.id),d=e.computed(()=>a.label??m.humanize(m.toPascalCase(i.value)));let r=e.inject("ApiState",void 0);const c=e.inject("client"),p=e.computed(()=>m.errorResponse.call({responseStatus:a.status??(r==null?void 0:r.error.value)},i.value)),w=e.ref(""),u=e.ref(""),h=e.computed(()=>m.mapGet(a.modelValue,i.value)),f=e.computed(()=>ve(a.metadataType).find(v=>v.name.toLowerCase()==i.value.toLowerCase())),k=e.computed(()=>{var v,x,B;return((B=Te((x=(v=f.value)==null?void 0:v.ref)==null?void 0:x.model))==null?void 0:B.icon)||l.value.tableIcon});let S;function P(v){if(v){if(S==null){console.warn("No ModalProvider required by LookupInput");return}S.openModal({name:"ModalLookup",ref:v},x=>{if(console.debug("openModal",w.value," -> ",x,lt.setRefValue(v,x),v),x){const B=m.mapGet(x,v.refId);w.value=lt.setRefValue(v,x)||B;const X=e.unref(a.modelValue);X[i.value]=B,s("update:modelValue",X)}})}}function oe(){a.modelValue[i.value]=null,w.value=""}return e.onMounted(async()=>{var j,G;S=e.inject("ModalProvider",void 0);const v=a.modelValue;a.modelValue[i.value]||(a.modelValue[i.value]=null);const x=f.value,B=x==null?void 0:x.ref;if(!B){console.warn(`No RefInfo for property '${i.value}'`);return}w.value="";let X=B.selfId==null?m.mapGet(v,x.name):m.mapGet(v,B.selfId);if(dt(X)&&(X=m.mapGet(v,B.refId)),X==null)return;if(((j=n.value)==null?void 0:j.operations.find(D=>{var R;return((R=D.dataModel)==null?void 0:R.name)==B.model}))!=null){const D=m.mapGet(v,x.name);if(dt(D))return;if(w.value=`${D}`,u.value=x.name,B.refLabel!=null){const R=ve(a.metadataType).find(F=>F.type==B.model);R==null&&console.warn(`Could not find ${B.model} Property on ${a.metadataType.name}`);const H=R!=null?m.mapGet(v,R.name):null;if(H!=null){let F=m.mapGet(H,B.refLabel);F&&(w.value=`${F}`,lt.setValue(B.model,X,B.refLabel,F))}else{const F=((G=x.attributes)==null?void 0:G.some(q=>q.name=="Computed"))==!0;let E=await lt.getOrFetchValue(c,n.value,B.model,B.refId,B.refLabel,F,X);w.value=E||`${B.model}: ${w.value}`}}}}),(v,x)=>{var X;const B=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",Od,[e.createElementVNode("input",{type:"hidden",name:i.value,value:h.value},null,8,Hd),d.value?(e.openBlock(),e.createElementBlock("div",Ud,[e.createElementVNode("label",{for:i.value,class:e.normalizeClass(`block text-sm font-medium text-gray-700 dark:text-gray-300 ${v.labelClass??""}`)},e.toDisplayString(d.value),11,qd),h.value?(e.openBlock(),e.createElementBlock("div",Qd,[e.createElementVNode("span",Gd,e.toDisplayString(h.value),1),e.createElementVNode("button",{onClick:oe,type:"button",title:"clear",class:"mr-1 rounded-md text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:ring-offset-black"},Kd)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),(X=f.value)!=null&&X.ref?(e.openBlock(),e.createElementBlock("div",Zd,[e.createElementVNode("button",{type:"button",class:"lookup flex relative w-full bg-white dark:bg-black border border-gray-300 dark:border-gray-700 rounded-md shadow-sm pl-3 pr-10 py-2 text-left focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",onClick:x[0]||(x[0]=V=>P(f.value.ref)),"aria-haspopup":"listbox","aria-expanded":"true","aria-labelledby":"listbox-label"},[e.createElementVNode("span",Wd,[e.createElementVNode("span",Jd,[e.createVNode(B,{class:"mr-1 w-5 h-5",image:k.value},null,8,["image"]),e.createElementVNode("span",null,e.toDisplayString(w.value),1)])]),Xd])])):e.createCommentVNode("",!0),p.value?(e.openBlock(),e.createElementBlock("p",{key:2,class:"mt-2 text-sm text-red-500",id:`${i.value}-error`},e.toDisplayString(p.value),9,Yd)):v.help?(e.openBlock(),e.createElementBlock("p",{key:3,class:"mt-2 text-sm text-gray-500",id:`${i.value}-description`},e.toDisplayString(v.help),9,ec)):e.createCommentVNode("",!0)])}}}),oc=e.defineComponent({__name:"AutoFormFields",props:{modelValue:{},type:{},api:{},formLayout:{},configureField:{},configureFormLayout:{},hideSummary:{type:Boolean},flexClass:{default:"flex flex-1 flex-col justify-between"},divideClass:{default:"divide-y divide-gray-200 px-4 sm:px-6"},spaceClass:{default:"space-y-6 pt-6 pb-5"},fieldsetClass:{default:"grid grid-cols-12 gap-6"}},emits:["update:modelValue"],setup(t,{expose:o,emit:l}){const n=t,a=l;o({forceUpdate:s,props:n,updateValue:d});function s(){var x;const v=e.getCurrentInstance();(x=v==null?void 0:v.proxy)==null||x.$forceUpdate()}function i(v,x){d(v.id,m.mapGet(x,v.id))}function d(v,x){n.modelValue[v]=x,a("update:modelValue",n.modelValue),s()}const{metadataApi:r,apiOf:c,typeOf:p,typeOfRef:w,createFormLayout:u,Crud:h}=Le(),f=e.computed(()=>n.type||Ye(n.modelValue)),k=e.computed(()=>p(f.value)),S=e.computed(()=>{var v,x;return w((x=(v=r.value)==null?void 0:v.operations.find(B=>B.request.name==f.value))==null?void 0:x.dataModel)||k.value}),P=e.computed(()=>{const v=k.value;if(!v){if(n.formLayout){const j=n.formLayout.map(G=>{const D={name:G.id,type:Mn(G.type)},R=Object.assign({prop:D},G);return n.configureField&&n.configureField(R),R});return n.configureFormLayout&&n.configureFormLayout(j),j}throw new Error(`MetadataType for ${f.value} not found`)}const x=ve(v),B=S.value,X=n.formLayout?n.formLayout:u(v),V=[],z=c(v.name);return X.forEach(j=>{var H;const G=x.find(F=>F.name==j.name);if(j.ignore)return;const D=((H=B==null?void 0:B.properties)==null?void 0:H.find(F=>{var E;return F.name.toLowerCase()==((E=j.name)==null?void 0:E.toLowerCase())}))??G,R=Object.assign({prop:D,op:z},j);n.configureField&&n.configureField(R),V.push(R)}),n.configureFormLayout&&n.configureFormLayout(V),V}),oe=e.computed(()=>P.value.filter(v=>v.type!="hidden").map(v=>v.id));return(v,x)=>{var z;const B=e.resolveComponent("ErrorSummary"),X=e.resolveComponent("LookupInput"),V=e.resolveComponent("DynamicInput");return e.openBlock(),e.createElementBlock(e.Fragment,null,[v.hideSummary?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(B,{key:0,status:(z=v.api)==null?void 0:z.error,except:oe.value},null,8,["status","except"])),e.createElementVNode("div",{class:e.normalizeClass(v.flexClass)},[e.createElementVNode("div",{class:e.normalizeClass(v.divideClass)},[e.createElementVNode("div",{class:e.normalizeClass(v.spaceClass)},[e.createElementVNode("fieldset",{class:e.normalizeClass(v.fieldsetClass)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.value,j=>{var G,D,R;return e.openBlock(),e.createElementBlock("div",{key:j.id,class:e.normalizeClass(["w-full",((G=j.css)==null?void 0:G.field)??(j.type=="textarea"?"col-span-12":"col-span-12 xl:col-span-6"+(j.type=="checkbox"?" flex items-center":"")),j.type=="hidden"?"hidden":""])},[((D=j.prop)==null?void 0:D.ref)!=null&&j.type!="file"&&!j.prop.isPrimaryKey?(e.openBlock(),e.createBlock(X,{key:0,metadataType:S.value,input:j,modelValue:v.modelValue,"onUpdate:modelValue":H=>i(j,H),status:(R=v.api)==null?void 0:R.error},null,8,["metadataType","input","modelValue","onUpdate:modelValue","status"])):(e.openBlock(),e.createBlock(V,{key:1,input:j,modelValue:v.modelValue,"onUpdate:modelValue":x[0]||(x[0]=H=>v.$emit("update:modelValue",H)),api:v.api},null,8,["input","modelValue","api"]))],2)}),128))],2)],2)],2)],2)],64)}}});function kt(){const t=e.ref(!1),o=e.ref(),l=e.ref(),n=e.inject("client");function a({message:h,errorCode:f,fieldName:k,errors:S}){return f||(f="Exception"),S||(S=[]),o.value=k?new m.ResponseStatus({errorCode:f,message:h,errors:[new m.ResponseError({fieldName:k,errorCode:f,message:h})]}):new m.ResponseStatus({errorCode:f,message:h,errors:S})}function s({fieldName:h,message:f,errorCode:k}){if(k||(k="Exception"),!o.value)a({fieldName:h,message:f,errorCode:k});else{let S=new m.ResponseStatus(o.value);S.errors=[...(S.errors||[]).filter(P=>{var oe;return((oe=P.fieldName)==null?void 0:oe.toLowerCase())!==(h==null?void 0:h.toLowerCase())}),new m.ResponseError({fieldName:h,message:f,errorCode:k})],o.value=S}}async function i(h,f,k){t.value=!0;let S=await n.api(Xe(h),f,k);return t.value=!1,l.value=S.response,o.value=S.error,S}async function d(h,f,k){t.value=!0;let S=await n.apiVoid(Xe(h),f,k);return t.value=!1,l.value=S.response,o.value=S.error,S}async function r(h,f,k,S){t.value=!0;let P=await n.apiForm(Xe(h),f,k,S);return t.value=!1,l.value=P.response,o.value=P.error,P}async function c(h,f,k,S){t.value=!0;let P=await n.apiFormVoid(Xe(h),f,k,S);return t.value=!1,l.value=P.response,o.value=P.error,P}async function p(h,f,k,S){return Io(n,h,f,k,S)}function w(h,f){const k=e.ref(new m.ApiResult),S=Po(async P=>{k.value=await n.api(P)},f==null?void 0:f.delayMs);return e.watchEffect(async()=>{const P=h(),oe=Wt(Bt(P));oe&&(k.value=new m.ApiResult({response:oe})),(f==null?void 0:f.delayMs)===0?k.value=await n.api(P):S(P)}),(async()=>k.value=await n.api(h(),f==null?void 0:f.args,f==null?void 0:f.method))(),k}let u={setError:a,addFieldError:s,loading:t,error:o,api:i,apiVoid:d,apiForm:r,apiFormVoid:c,swr:p,swrEffect:w,unRefs:Xe,setRef:Ao};return e.provide("ApiState",u),u}const lc={key:0},nc={class:"text-red-700"},ac=e.createElementVNode("b",null,"type",-1),sc={key:0},rc={key:2},ic=["innerHTML"],dc=e.createElementVNode("input",{type:"submit",class:"hidden"},null,-1),cc={class:"flex justify-end"},mc=e.createElementVNode("div",null,null,-1),pc={key:2,class:"relative z-10","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},uc=e.createElementVNode("div",{class:"fixed inset-0"},null,-1),fc={class:"fixed inset-0 overflow-hidden"},hc={class:"flex min-h-0 flex-1 flex-col overflow-auto"},gc={class:"flex-1"},yc={class:"bg-gray-50 dark:bg-gray-900 px-4 py-6 sm:px-6"},kc={class:"flex items-start justify-between space-x-3"},bc={class:"space-y-1"},wc={key:0},Cc={key:2},_c=["innerHTML"],Vc={class:"flex h-7 items-center"},$c={class:"flex justify-end"},Ec=e.defineComponent({__name:"AutoForm",props:{type:{},modelValue:{},heading:{},subHeading:{},showLoading:{type:Boolean,default:!0},jsconfig:{default:"eccn,edv"},formStyle:{default:"card"},configureField:{},configureFormLayout:{},panelClass:{},bodyClass:{},formClass:{},innerFormClass:{},headerClass:{default:"p-6"},buttonsClass:{},headingClass:{},subHeadingClass:{},submitLabel:{default:"Submit"},allowSubmit:{}},emits:["success","error","update:modelValue","done"],setup(t,{expose:o,emit:l}){const n=t,a=l,s=e.ref(),i=e.ref(1),d=e.ref();o({forceUpdate:r,props:n,setModel:c,formFields:s,submit:A,close:K});function r(){var ee;i.value++,H.value=R();const _=e.getCurrentInstance();(ee=_==null?void 0:_.proxy)==null||ee.$forceUpdate()}async function c(_){Object.assign(H.value,_),r(),await e.nextTick(()=>null)}const p={openModal:h};e.provide("ModalProvider",p);const w=e.ref(),u=e.ref();function h(_,ee){w.value=_,u.value=ee}async function f(_){u.value&&u.value(_),w.value=void 0,u.value=void 0}const k=kt(),{getTypeName:S}=Jt(),{typeOf:P,Crud:oe,createDto:v}=Le(),x=e.ref(new m.ApiResult),B=e.computed(()=>n.panelClass||Be.panelClass(n.formStyle)),X=e.computed(()=>n.formClass||n.formStyle=="card"?"shadow sm:rounded-md":st.formClass),V=e.computed(()=>n.headingClass||Be.headingClass(n.formStyle)),z=e.computed(()=>n.subHeadingClass||Be.subHeadingClass(n.formStyle)),j=e.computed(()=>typeof n.buttonsClass=="string"?n.buttonsClass:Be.buttonsClass),G=e.computed(()=>{var _;return n.type?S(n.type):(_=n.modelValue)!=null&&_.getTypeName?n.modelValue.getTypeName():null}),D=e.computed(()=>P(G.value)),R=()=>n.modelValue||q(),H=e.ref(R()),F=e.computed(()=>k.loading.value),E=e.computed(()=>{var _;return n.heading!=null?n.heading:((_=P(G.value))==null?void 0:_.description)||m.humanize(G.value)});function q(){return typeof n.type=="string"?v(n.type):n.type?new n.type:n.modelValue}async function y(_){if(!_||_.tagName!="FORM"){console.error("Not a valid form",_);return}const ee=q();let le=m.map(ee==null?void 0:ee.getMethod,$=>typeof $=="function"?$():null)||"POST",J=m.map(ee==null?void 0:ee.createResponse,$=>typeof $=="function"?$():null)==null;const ne=n.jsconfig;if(m.HttpMethods.hasRequestBody(le)){let $=new ee.constructor,Y=new FormData(_);J?x.value=await k.apiFormVoid($,Y,{jsconfig:ne}):x.value=await k.apiForm($,Y,{jsconfig:ne})}else{let $=new ee.constructor(m.omitEmpty(H.value));console.debug("AutoForm.submit",$),J?x.value=await k.apiVoid($,{jsconfig:ne}):x.value=await k.api($,{jsconfig:ne})}x.value.succeeded?(a("success",x.value.response),K()):a("error",x.value.error)}async function A(){y(d.value)}function T(_){a("update:modelValue",_)}function g(){a("done")}const C=e.ref(!1),O=e.ref(""),U={entering:{cls:"transform transition ease-in-out duration-500 sm:duration-700",from:"translate-x-full",to:"translate-x-0"},leaving:{cls:"transform transition ease-in-out duration-500 sm:duration-700",from:"translate-x-0",to:"translate-x-full"}};e.watch(C,()=>{qe(U,O,C.value),C.value||setTimeout(g,700)}),C.value=!0;function K(){n.formStyle=="slideOver"?C.value=!1:g()}const N=_=>{_.key==="Escape"&&K()};return e.onMounted(()=>window.addEventListener("keydown",N)),e.onUnmounted(()=>window.removeEventListener("keydown",N)),(_,ee)=>{var ue,se,M,I,Z,re,ce,ge,_e,fe,ke;const le=e.resolveComponent("AutoFormFields"),J=e.resolveComponent("FormLoading"),ne=e.resolveComponent("PrimaryButton"),$=e.resolveComponent("CloseButton"),Y=e.resolveComponent("SecondaryButton"),pe=e.resolveComponent("ModalLookup");return e.openBlock(),e.createElementBlock("div",null,[D.value?_.formStyle=="card"?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(B.value)},[e.createElementVNode("form",{ref_key:"elForm",ref:d,onSubmit:ee[0]||(ee[0]=e.withModifiers(ye=>y(ye.target),["prevent"])),autocomplete:"off",class:e.normalizeClass(_.innerFormClass)},[e.createElementVNode("div",{class:e.normalizeClass(_.bodyClass)},[e.createElementVNode("div",{class:e.normalizeClass(_.headerClass)},[_.$slots.heading?(e.openBlock(),e.createElementBlock("div",sc,[e.renderSlot(_.$slots,"heading")])):(e.openBlock(),e.createElementBlock("h3",{key:1,class:e.normalizeClass(V.value)},e.toDisplayString(E.value),3)),_.$slots.subheading?(e.openBlock(),e.createElementBlock("div",rc,[e.renderSlot(_.$slots,"subheading")])):_.subHeading?(e.openBlock(),e.createElementBlock("p",{key:3,class:e.normalizeClass(z.value)},e.toDisplayString(_.subHeading),3)):(ue=D.value)!=null&&ue.notes?(e.openBlock(),e.createElementBlock("p",{key:4,class:e.normalizeClass(["notes",z.value]),innerHTML:(se=D.value)==null?void 0:se.notes},null,10,ic)):e.createCommentVNode("",!0)],2),e.renderSlot(_.$slots,"header",{instance:(M=e.getCurrentInstance())==null?void 0:M.exposed,model:H.value}),dc,(e.openBlock(),e.createBlock(le,{ref_key:"formFields",ref:s,key:i.value,type:_.type,modelValue:H.value,"onUpdate:modelValue":T,api:x.value,configureField:_.configureField,configureFormLayout:_.configureFormLayout},null,8,["type","modelValue","api","configureField","configureFormLayout"])),e.renderSlot(_.$slots,"footer",{instance:(I=e.getCurrentInstance())==null?void 0:I.exposed,model:H.value})],2),e.renderSlot(_.$slots,"buttons",{},()=>{var ye,xe;return[e.createElementVNode("div",{class:e.normalizeClass(j.value)},[e.createElementVNode("div",null,[e.renderSlot(_.$slots,"leftbuttons",{instance:(ye=e.getCurrentInstance())==null?void 0:ye.exposed,model:H.value})]),e.createElementVNode("div",null,[_.showLoading&&F.value?(e.openBlock(),e.createBlock(J,{key:0})):e.createCommentVNode("",!0)]),e.createElementVNode("div",cc,[mc,e.createVNode(ne,{disabled:_.allowSubmit?!_.allowSubmit(H.value):!1},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(_.submitLabel),1)]),_:1},8,["disabled"]),e.renderSlot(_.$slots,"rightbuttons",{instance:(xe=e.getCurrentInstance())==null?void 0:xe.exposed,model:H.value})])],2)]})],34)],2)):(e.openBlock(),e.createElementBlock("div",pc,[uc,e.createElementVNode("div",fc,[e.createElementVNode("div",{onMousedown:K,class:"absolute inset-0 overflow-hidden"},[e.createElementVNode("div",{onMousedown:ee[2]||(ee[2]=e.withModifiers(()=>{},["stop"])),class:"pointer-events-none fixed inset-y-0 right-0 flex pl-10"},[e.createElementVNode("div",{class:e.normalizeClass(["pointer-events-auto w-screen xl:max-w-3xl md:max-w-xl max-w-lg",O.value])},[e.createElementVNode("form",{ref_key:"elForm",ref:d,class:e.normalizeClass(X.value),onSubmit:ee[1]||(ee[1]=e.withModifiers(ye=>y(ye.target),["prevent"]))},[e.createElementVNode("div",hc,[e.createElementVNode("div",gc,[e.createElementVNode("div",yc,[e.createElementVNode("div",kc,[e.createElementVNode("div",bc,[_.$slots.heading?(e.openBlock(),e.createElementBlock("div",wc,[e.renderSlot(_.$slots,"heading")])):(e.openBlock(),e.createElementBlock("h3",{key:1,class:e.normalizeClass(V.value)},e.toDisplayString(E.value),3)),_.$slots.subheading?(e.openBlock(),e.createElementBlock("div",Cc,[e.renderSlot(_.$slots,"subheading")])):_.subHeading?(e.openBlock(),e.createElementBlock("p",{key:3,class:e.normalizeClass(z.value)},e.toDisplayString(_.subHeading),3)):(Z=D.value)!=null&&Z.notes?(e.openBlock(),e.createElementBlock("p",{key:4,class:e.normalizeClass(["notes",z.value]),innerHTML:(re=D.value)==null?void 0:re.notes},null,10,_c)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Vc,[e.createVNode($,{"button-class":"bg-gray-50 dark:bg-gray-900",onClose:K})])])]),e.renderSlot(_.$slots,"header",{instance:(ce=e.getCurrentInstance())==null?void 0:ce.exposed,model:H.value}),(e.openBlock(),e.createBlock(le,{ref_key:"formFields",ref:s,key:i.value,type:_.type,modelValue:H.value,"onUpdate:modelValue":T,api:x.value,configureField:_.configureField,configureFormLayout:_.configureFormLayout},null,8,["type","modelValue","api","configureField","configureFormLayout"])),e.renderSlot(_.$slots,"footer",{instance:(ge=e.getCurrentInstance())==null?void 0:ge.exposed,model:H.value})])]),e.createElementVNode("div",{class:e.normalizeClass(j.value)},[e.createElementVNode("div",null,[e.renderSlot(_.$slots,"leftbuttons",{instance:(_e=e.getCurrentInstance())==null?void 0:_e.exposed,model:H.value})]),e.createElementVNode("div",null,[_.showLoading&&F.value?(e.openBlock(),e.createBlock(J,{key:0})):e.createCommentVNode("",!0)]),e.createElementVNode("div",$c,[e.createVNode(Y,{onClick:K,disabled:F.value},{default:e.withCtx(()=>[e.createTextVNode("Cancel")]),_:1},8,["disabled"]),e.createVNode(ne,{class:"ml-4",disabled:_.allowSubmit?!_.allowSubmit(H.value):!1},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(_.submitLabel),1)]),_:1},8,["disabled"]),e.renderSlot(_.$slots,"rightbuttons",{instance:(fe=e.getCurrentInstance())==null?void 0:fe.exposed,model:H.value})])],2)],34)],2)],32)],32)])])):(e.openBlock(),e.createElementBlock("div",lc,[e.createElementVNode("p",nc,[e.createTextVNode("Could not create form for unknown "),ac,e.createTextVNode(" "+e.toDisplayString(G.value),1)])])),((ke=w.value)==null?void 0:ke.name)=="ModalLookup"&&w.value.ref?(e.openBlock(),e.createBlock(pe,{key:3,"ref-info":w.value.ref,onDone:f},null,8,["ref-info"])):e.createCommentVNode("",!0)])}}}),Bc={key:0},xc={class:"text-red-700"},Nc=e.createElementVNode("b",null,"type",-1),Sc={key:0},vc={key:2},Lc=["innerHTML"],Mc={class:"flex justify-end"},Dc={key:2,class:"relative z-10","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},Tc=e.createElementVNode("div",{class:"fixed inset-0"},null,-1),zc={class:"fixed inset-0 overflow-hidden"},Ac={class:"flex min-h-0 flex-1 flex-col overflow-auto"},Fc={class:"flex-1"},Ic={class:"bg-gray-50 dark:bg-gray-900 px-4 py-6 sm:px-6"},Pc={class:"flex items-start justify-between space-x-3"},jc={class:"space-y-1"},Rc={key:0},Oc={key:2},Hc=["innerHTML"],Uc={class:"flex h-7 items-center"},qc={class:"flex justify-end"},Qc=e.defineComponent({__name:"AutoCreateForm",props:{type:{},formStyle:{default:"slideOver"},panelClass:{},formClass:{},headingClass:{},subHeadingClass:{},buttonsClass:{},heading:{},subHeading:{},autosave:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},configureField:{},configureFormLayout:{}},emits:["done","save","error"],setup(t,{expose:o,emit:l}){const n=t,a=l,s=e.ref(),i=e.ref(1);o({forceUpdate:d,props:n,setModel:r,formFields:s});function d(){var _,ee;i.value++,(_=s.value)==null||_.forceUpdate();const N=e.getCurrentInstance();(ee=N==null?void 0:N.proxy)==null||ee.$forceUpdate()}function r(N){Object.assign(V.value,N),d()}function c(N){}const p={openModal:h};e.provide("ModalProvider",p);const w=e.ref(),u=e.ref();function h(N,_){w.value=N,u.value=_}async function f(N){u.value&&u.value(N),w.value=void 0,u.value=void 0}const{typeOf:k,typeProperties:S,Crud:P,createDto:oe,formValues:v}=Le(),x=e.computed(()=>Ye(n.type)),B=e.computed(()=>k(x.value)),X=()=>typeof n.type=="string"?oe(n.type):n.type?new n.type:null,V=e.ref(X()),z=e.computed(()=>n.panelClass||Be.panelClass(n.formStyle)),j=e.computed(()=>n.formClass||Be.formClass(n.formStyle)),G=e.computed(()=>n.headingClass||Be.headingClass(n.formStyle)),D=e.computed(()=>n.subHeadingClass||Be.subHeadingClass(n.formStyle)),R=e.computed(()=>n.buttonsClass||Be.buttonsClass),H=e.computed(()=>P.model(B.value)),F=e.computed(()=>{var N;return n.heading||((N=k(x.value))==null?void 0:N.description)||(H.value?`New ${m.humanize(H.value)}`:m.humanize(x.value))}),E=e.ref(new m.ApiResult);let q=kt(),y=e.computed(()=>q.loading.value);Q.interceptors.has("AutoCreateForm.new")&&Q.interceptors.invoke("AutoCreateForm.new",{props:n,model:V});async function A(N){var J,ne;let _=N.target;if(!n.autosave){a("save",new V.value.constructor(v(_,S(B.value))));return}let ee=m.map((J=V.value)==null?void 0:J.getMethod,$=>typeof $=="function"?$():null)||"POST",le=m.map((ne=V.value)==null?void 0:ne.createResponse,$=>typeof $=="function"?$():null)==null;if(m.HttpMethods.hasRequestBody(ee)){let $=new V.value.constructor,Y=new FormData(_);le?E.value=await q.apiFormVoid($,Y,{jsconfig:"eccn"}):E.value=await q.apiForm($,Y,{jsconfig:"eccn"})}else{let $=v(_,S(B.value)),Y=new V.value.constructor($);le?E.value=await q.apiVoid(Y,{jsconfig:"eccn"}):E.value=await q.api(Y,{jsconfig:"eccn"})}E.value.succeeded?(_.reset(),a("save",E.value.response)):a("error",E.value.error)}function T(){a("done")}const g=e.ref(!1),C=e.ref(""),O={entering:{cls:"transform transition ease-in-out duration-500 sm:duration-700",from:"translate-x-full",to:"translate-x-0"},leaving:{cls:"transform transition ease-in-out duration-500 sm:duration-700",from:"translate-x-0",to:"translate-x-full"}};e.watch(g,()=>{qe(O,C,g.value),g.value||setTimeout(T,700)}),g.value=!0;function U(){n.formStyle=="slideOver"?g.value=!1:T()}const K=N=>{N.key==="Escape"&&U()};return e.onMounted(()=>window.addEventListener("keydown",K)),e.onUnmounted(()=>window.removeEventListener("keydown",K)),(N,_)=>{var pe,ue,se,M,I,Z,re,ce,ge;const ee=e.resolveComponent("AutoFormFields"),le=e.resolveComponent("FormLoading"),J=e.resolveComponent("SecondaryButton"),ne=e.resolveComponent("PrimaryButton"),$=e.resolveComponent("CloseButton"),Y=e.resolveComponent("ModalLookup");return e.openBlock(),e.createElementBlock("div",null,[B.value?N.formStyle=="card"?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(z.value)},[e.createElementVNode("form",{onSubmit:e.withModifiers(A,["prevent"])},[e.createElementVNode("div",{class:e.normalizeClass(j.value)},[e.createElementVNode("div",null,[N.$slots.heading?(e.openBlock(),e.createElementBlock("div",Sc,[e.renderSlot(N.$slots,"heading")])):(e.openBlock(),e.createElementBlock("h3",{key:1,class:e.normalizeClass(G.value)},e.toDisplayString(F.value),3)),N.$slots.subheading?(e.openBlock(),e.createElementBlock("div",vc,[e.renderSlot(N.$slots,"subheading")])):N.subHeading?(e.openBlock(),e.createElementBlock("p",{key:3,class:e.normalizeClass(D.value)},e.toDisplayString(N.subHeading),3)):(pe=B.value)!=null&&pe.notes?(e.openBlock(),e.createElementBlock("p",{key:4,class:e.normalizeClass(["notes",D.value]),innerHTML:(ue=B.value)==null?void 0:ue.notes},null,10,Lc)):e.createCommentVNode("",!0)]),e.renderSlot(N.$slots,"header",{formInstance:(se=e.getCurrentInstance())==null?void 0:se.exposed,model:V.value}),(e.openBlock(),e.createBlock(ee,{ref_key:"formFields",ref:s,key:i.value,modelValue:V.value,"onUpdate:modelValue":c,api:E.value,configureField:N.configureField,configureFormLayout:N.configureFormLayout},null,8,["modelValue","api","configureField","configureFormLayout"])),e.renderSlot(N.$slots,"footer",{formInstance:(M=e.getCurrentInstance())==null?void 0:M.exposed,model:V.value})],2),e.createElementVNode("div",{class:e.normalizeClass(R.value)},[e.createElementVNode("div",null,[N.showLoading&&e.unref(y)?(e.openBlock(),e.createBlock(le,{key:0})):e.createCommentVNode("",!0)]),e.createElementVNode("div",Mc,[N.showCancel?(e.openBlock(),e.createBlock(J,{key:0,onClick:U,disabled:e.unref(y)},{default:e.withCtx(()=>[e.createTextVNode("Cancel")]),_:1},8,["disabled"])):e.createCommentVNode("",!0),e.createVNode(ne,{type:"submit",class:"ml-4",disabled:e.unref(y)},{default:e.withCtx(()=>[e.createTextVNode("Save")]),_:1},8,["disabled"])])],2)],32)],2)):(e.openBlock(),e.createElementBlock("div",Dc,[Tc,e.createElementVNode("div",zc,[e.createElementVNode("div",{onMousedown:U,class:"absolute inset-0 overflow-hidden"},[e.createElementVNode("div",{onMousedown:_[0]||(_[0]=e.withModifiers(()=>{},["stop"])),class:"pointer-events-none fixed inset-y-0 right-0 flex pl-10"},[e.createElementVNode("div",{class:e.normalizeClass(["pointer-events-auto w-screen xl:max-w-3xl md:max-w-xl max-w-lg",C.value])},[e.createElementVNode("form",{class:e.normalizeClass(j.value),onSubmit:e.withModifiers(A,["prevent"])},[e.createElementVNode("div",Ac,[e.createElementVNode("div",Fc,[e.createElementVNode("div",Ic,[e.createElementVNode("div",Pc,[e.createElementVNode("div",jc,[N.$slots.heading?(e.openBlock(),e.createElementBlock("div",Rc,[e.renderSlot(N.$slots,"heading")])):(e.openBlock(),e.createElementBlock("h3",{key:1,class:e.normalizeClass(G.value)},e.toDisplayString(F.value),3)),N.$slots.subheading?(e.openBlock(),e.createElementBlock("div",Oc,[e.renderSlot(N.$slots,"subheading")])):N.subHeading?(e.openBlock(),e.createElementBlock("p",{key:3,class:e.normalizeClass(D.value)},e.toDisplayString(N.subHeading),3)):(I=B.value)!=null&&I.notes?(e.openBlock(),e.createElementBlock("p",{key:4,class:e.normalizeClass(["notes",D.value]),innerHTML:(Z=B.value)==null?void 0:Z.notes},null,10,Hc)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Uc,[e.createVNode($,{"button-class":"bg-gray-50 dark:bg-gray-900",onClose:U})])])]),e.renderSlot(N.$slots,"header",{formInstance:(re=e.getCurrentInstance())==null?void 0:re.exposed,model:V.value}),(e.openBlock(),e.createBlock(ee,{ref_key:"formFields",ref:s,key:i.value,modelValue:V.value,"onUpdate:modelValue":c,api:E.value,configureField:N.configureField,configureFormLayout:N.configureFormLayout},null,8,["modelValue","api","configureField","configureFormLayout"])),e.renderSlot(N.$slots,"footer",{formInstance:(ce=e.getCurrentInstance())==null?void 0:ce.exposed,model:V.value})])]),e.createElementVNode("div",{class:e.normalizeClass(R.value)},[e.createElementVNode("div",null,[N.showLoading&&e.unref(y)?(e.openBlock(),e.createBlock(le,{key:0})):e.createCommentVNode("",!0)]),e.createElementVNode("div",qc,[N.showCancel?(e.openBlock(),e.createBlock(J,{key:0,onClick:U,disabled:e.unref(y)},{default:e.withCtx(()=>[e.createTextVNode("Cancel")]),_:1},8,["disabled"])):e.createCommentVNode("",!0),e.createVNode(ne,{type:"submit",class:"ml-4",disabled:e.unref(y)},{default:e.withCtx(()=>[e.createTextVNode("Save")]),_:1},8,["disabled"])])],2)],34)],2)],32)],32)])])):(e.openBlock(),e.createElementBlock("div",Bc,[e.createElementVNode("p",xc,[e.createTextVNode("Could not create form for unknown "),Nc,e.createTextVNode(" "+e.toDisplayString(x.value),1)])])),((ge=w.value)==null?void 0:ge.name)=="ModalLookup"&&w.value.ref?(e.openBlock(),e.createBlock(Y,{key:3,"ref-info":w.value.ref,onDone:f},null,8,["ref-info"])):e.createCommentVNode("",!0)])}}}),Gc={key:0},Kc={class:"text-red-700"},Zc=e.createElementVNode("b",null,"type",-1),Wc={key:0},Jc={key:2},Xc=["innerHTML"],Yc={class:"flex justify-end"},em={key:2,class:"relative z-10","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},tm=e.createElementVNode("div",{class:"fixed inset-0"},null,-1),om={class:"fixed inset-0 overflow-hidden"},lm={class:"flex min-h-0 flex-1 flex-col overflow-auto"},nm={class:"flex-1"},am={class:"bg-gray-50 dark:bg-gray-900 px-4 py-6 sm:px-6"},sm={class:"flex items-start justify-between space-x-3"},rm={class:"space-y-1"},im={key:0},dm={key:2},cm=["innerHTML"],mm={class:"flex h-7 items-center"},pm={class:"flex justify-end"},um=e.defineComponent({__name:"AutoEditForm",props:{modelValue:{},type:{},deleteType:{},formStyle:{default:"slideOver"},panelClass:{},formClass:{},headingClass:{},subHeadingClass:{},heading:{},subHeading:{},autosave:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},configureField:{},configureFormLayout:{}},emits:["done","save","delete","error"],setup(t,{expose:o,emit:l}){const n=t,a=l,s=e.ref(),i=e.ref(1);o({forceUpdate:d,props:n,setModel:r,formFields:s});function d(){var Y;i.value++,G.value=j();const $=e.getCurrentInstance();(Y=$==null?void 0:$.proxy)==null||Y.$forceUpdate()}function r($){Object.assign(G.value,$)}function c($){}const p={openModal:h};e.provide("ModalProvider",p);const w=e.ref(),u=e.ref();function h($,Y){w.value=$,u.value=Y}async function f($){u.value&&u.value($),w.value=void 0,u.value=void 0}const{typeOf:k,apiOf:S,typeProperties:P,createFormLayout:oe,getPrimaryKey:v,Crud:x,createDto:B,formValues:X}=Le(),V=e.computed(()=>Ye(n.type)),z=e.computed(()=>k(V.value)),j=()=>typeof n.type=="string"?B(n.type,Lt(n.modelValue)):n.type?new n.type(Lt(n.modelValue)):null,G=e.ref(j()),D=e.computed(()=>n.panelClass||Be.panelClass(n.formStyle)),R=e.computed(()=>n.formClass||Be.formClass(n.formStyle)),H=e.computed(()=>n.headingClass||Be.headingClass(n.formStyle)),F=e.computed(()=>n.subHeadingClass||Be.subHeadingClass(n.formStyle)),E=e.computed(()=>x.model(z.value)),q=e.computed(()=>{var $;return n.heading||(($=k(V.value))==null?void 0:$.description)||(E.value?`Update ${m.humanize(E.value)}`:m.humanize(V.value))}),y=e.ref(new m.ApiResult);let A=Object.assign({},Lt(n.modelValue));Q.interceptors.has("AutoEditForm.new")&&Q.interceptors.invoke("AutoEditForm.new",{props:n,model:G,origModel:A});let T=kt(),g=e.computed(()=>T.loading.value);const C=()=>m.map(k(x.model(z.value)),$=>v($));function O($){const{op:Y,prop:pe}=$;Y&&(x.isPatch(Y)||x.isUpdate(Y))&&($.disabled=pe==null?void 0:pe.isPrimaryKey),n.configureField&&n.configureField($)}async function U($){var M,I;let Y=$.target;if(!n.autosave){a("save",new G.value.constructor(X(Y,P(z.value))));return}let pe=m.map((M=G.value)==null?void 0:M.getMethod,Z=>typeof Z=="function"?Z():null)||"POST",ue=m.map((I=G.value)==null?void 0:I.createResponse,Z=>typeof Z=="function"?Z():null)==null,se=C();if(m.HttpMethods.hasRequestBody(pe)){let Z=new G.value.constructor,re=m.mapGet(n.modelValue,se.name),ce=new FormData(Y);se&&!Array.from(ce.keys()).some(ke=>ke.toLowerCase()==se.name.toLowerCase())&&ce.append(se.name,re);let ge=[];const _e=V.value&&S(V.value);if(_e&&x.isPatch(_e)){let ke=oe(z.value),ye={};if(se&&(ye[se.name]=re),ke.forEach(Ce=>{let Pe=Ce.id,rt=m.mapGet(A,Pe);if(se&&se.name.toLowerCase()===Pe.toLowerCase())return;let Ue=ce.get(Pe);Q.interceptors.has("AutoEditForm.save.formLayout")&&Q.interceptors.invoke("AutoEditForm.save.formLayout",{origValue:rt,formLayout:ke,input:Ce,newValue:Ue});let jt=Ue!=null,Rt=Ce.type==="checkbox"?jt!==!!rt:Ce.type==="file"?jt:Ue!=rt;!Ue&&!rt&&(Rt=!1),Rt&&(Ue?ye[Pe]=Ue:Ce.type!=="file"&&ge.push(Pe))}),Q.interceptors.has("AutoEditForm.save")&&Q.interceptors.invoke("AutoEditForm.save",{origModel:A,formLayout:ke,dirtyValues:ye}),Array.from(ce.keys()).filter(Ce=>!ye[Ce]).forEach(Ce=>ce.delete(Ce)),Array.from(ce.keys()).filter(Ce=>Ce.toLowerCase()!=se.name.toLowerCase()).length==0&&ge.length==0){J();return}}const fe=ge.length>0?{jsconfig:"eccn",reset:ge}:{jsconfig:"eccn"};ue?y.value=await T.apiFormVoid(Z,ce,fe):y.value=await T.apiForm(Z,ce,fe)}else{let Z=X(Y,P(z.value));se&&!m.mapGet(Z,se.name)&&(Z[se.name]=m.mapGet(n.modelValue,se.name));let re=new G.value.constructor(Z);ue?y.value=await T.apiVoid(re,{jsconfig:"eccn"}):y.value=await T.api(re,{jsconfig:"eccn"})}y.value.succeeded?(Y.reset(),a("save",y.value.response)):a("error",y.value.error)}async function K($){let Y=C();const pe=Y?m.mapGet(n.modelValue,Y.name):null;if(!pe){console.error(`Could not find Primary Key for Type ${V.value} (${E.value})`);return}const ue={[Y.name]:pe},se=typeof n.deleteType=="string"?B(n.deleteType,ue):n.deleteType?new n.deleteType(ue):null;m.map(se.createResponse,I=>typeof I=="function"?I():null)==null?y.value=await T.apiVoid(se):y.value=await T.api(se),y.value.succeeded?a("delete",y.value.response):a("error",y.value.error)}function N(){a("done")}const _=e.ref(!1),ee=e.ref(""),le={entering:{cls:"transform transition ease-in-out duration-500 sm:duration-700",from:"translate-x-full",to:"translate-x-0"},leaving:{cls:"transform transition ease-in-out duration-500 sm:duration-700",from:"translate-x-0",to:"translate-x-full"}};e.watch(_,()=>{qe(le,ee,_.value),_.value||setTimeout(N,700)}),_.value=!0;function J(){n.formStyle=="slideOver"?_.value=!1:N()}const ne=$=>{$.key==="Escape"&&J()};return e.onMounted(()=>window.addEventListener("keydown",ne)),e.onUnmounted(()=>window.removeEventListener("keydown",ne)),($,Y)=>{var ce,ge,_e,fe,ke,ye,xe,Ce,Pe;const pe=e.resolveComponent("AutoFormFields"),ue=e.resolveComponent("ConfirmDelete"),se=e.resolveComponent("FormLoading"),M=e.resolveComponent("SecondaryButton"),I=e.resolveComponent("PrimaryButton"),Z=e.resolveComponent("CloseButton"),re=e.resolveComponent("ModalLookup");return e.openBlock(),e.createElementBlock("div",null,[z.value?$.formStyle=="card"?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(D.value)},[e.createElementVNode("form",{onSubmit:e.withModifiers(U,["prevent"])},[e.createElementVNode("div",{class:e.normalizeClass(R.value)},[e.createElementVNode("div",null,[$.$slots.heading?(e.openBlock(),e.createElementBlock("div",Wc,[e.renderSlot($.$slots,"heading")])):(e.openBlock(),e.createElementBlock("h3",{key:1,class:e.normalizeClass(H.value)},e.toDisplayString(q.value),3)),$.$slots.subheading?(e.openBlock(),e.createElementBlock("div",Jc,[e.renderSlot($.$slots,"subheading")])):$.subHeading?(e.openBlock(),e.createElementBlock("p",{key:3,class:e.normalizeClass(F.value)},e.toDisplayString($.subHeading),3)):(ce=z.value)!=null&&ce.notes?(e.openBlock(),e.createElementBlock("p",{key:4,class:e.normalizeClass(["notes",F.value]),innerHTML:(ge=z.value)==null?void 0:ge.notes},null,10,Xc)):e.createCommentVNode("",!0)]),e.renderSlot($.$slots,"header",{formInstance:(_e=e.getCurrentInstance())==null?void 0:_e.exposed,model:G.value}),(e.openBlock(),e.createBlock(pe,{ref_key:"formFields",ref:s,key:i.value,modelValue:G.value,"onUpdate:modelValue":c,api:y.value,configureField:$.configureField,configureFormLayout:$.configureFormLayout},null,8,["modelValue","api","configureField","configureFormLayout"])),e.renderSlot($.$slots,"footer",{formInstance:(fe=e.getCurrentInstance())==null?void 0:fe.exposed,model:G.value})],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(Be).buttonsClass)},[e.createElementVNode("div",null,[$.deleteType?(e.openBlock(),e.createBlock(ue,{key:0,onDelete:K})):e.createCommentVNode("",!0)]),e.createElementVNode("div",null,[$.showLoading&&e.unref(g)?(e.openBlock(),e.createBlock(se,{key:0})):e.createCommentVNode("",!0)]),e.createElementVNode("div",Yc,[e.createVNode(M,{onClick:J,disabled:e.unref(g)},{default:e.withCtx(()=>[e.createTextVNode("Cancel")]),_:1},8,["disabled"]),e.createVNode(I,{type:"submit",class:"ml-4",disabled:e.unref(g)},{default:e.withCtx(()=>[e.createTextVNode("Save")]),_:1},8,["disabled"])])],2)],32)],2)):(e.openBlock(),e.createElementBlock("div",em,[tm,e.createElementVNode("div",om,[e.createElementVNode("div",{onMousedown:J,class:"absolute inset-0 overflow-hidden"},[e.createElementVNode("div",{onMousedown:Y[0]||(Y[0]=e.withModifiers(()=>{},["stop"])),class:"pointer-events-none fixed inset-y-0 right-0 flex pl-10"},[e.createElementVNode("div",{class:e.normalizeClass(["pointer-events-auto w-screen xl:max-w-3xl md:max-w-xl max-w-lg",ee.value])},[e.createElementVNode("form",{class:e.normalizeClass(R.value),onSubmit:e.withModifiers(U,["prevent"])},[e.createElementVNode("div",lm,[e.createElementVNode("div",nm,[e.createElementVNode("div",am,[e.createElementVNode("div",sm,[e.createElementVNode("div",rm,[$.$slots.heading?(e.openBlock(),e.createElementBlock("div",im,[e.renderSlot($.$slots,"heading")])):(e.openBlock(),e.createElementBlock("h3",{key:1,class:e.normalizeClass(H.value)},e.toDisplayString(q.value),3)),$.$slots.subheading?(e.openBlock(),e.createElementBlock("div",dm,[e.renderSlot($.$slots,"subheading")])):$.subHeading?(e.openBlock(),e.createElementBlock("p",{key:3,class:e.normalizeClass(F.value)},e.toDisplayString($.subHeading),3)):(ke=z.value)!=null&&ke.notes?(e.openBlock(),e.createElementBlock("p",{key:4,class:e.normalizeClass(["notes",F.value]),innerHTML:(ye=z.value)==null?void 0:ye.notes},null,10,cm)):e.createCommentVNode("",!0)]),e.createElementVNode("div",mm,[e.createVNode(Z,{"button-class":"bg-gray-50 dark:bg-gray-900",onClose:J})])])]),e.renderSlot($.$slots,"header",{formInstance:(xe=e.getCurrentInstance())==null?void 0:xe.exposed,model:G.value}),(e.openBlock(),e.createBlock(pe,{ref_key:"formFields",ref:s,key:i.value,modelValue:G.value,"onUpdate:modelValue":c,api:y.value,configureField:O,configureFormLayout:$.configureFormLayout},null,8,["modelValue","api","configureFormLayout"])),e.renderSlot($.$slots,"footer",{formInstance:(Ce=e.getCurrentInstance())==null?void 0:Ce.exposed,model:G.value})])]),e.createElementVNode("div",{class:e.normalizeClass(e.unref(Be).buttonsClass)},[e.createElementVNode("div",null,[$.deleteType?(e.openBlock(),e.createBlock(ue,{key:0,onDelete:K})):e.createCommentVNode("",!0)]),e.createElementVNode("div",null,[$.showLoading&&e.unref(g)?(e.openBlock(),e.createBlock(se,{key:0})):e.createCommentVNode("",!0)]),e.createElementVNode("div",pm,[e.createVNode(M,{onClick:J,disabled:e.unref(g)},{default:e.withCtx(()=>[e.createTextVNode("Cancel")]),_:1},8,["disabled"]),e.createVNode(I,{type:"submit",class:"ml-4",disabled:e.unref(g)},{default:e.withCtx(()=>[e.createTextVNode("Save")]),_:1},8,["disabled"])])],2)],34)],2)],32)],32)])])):(e.openBlock(),e.createElementBlock("div",Gc,[e.createElementVNode("p",Kc,[e.createTextVNode("Could not create form for unknown "),Zc,e.createTextVNode(" "+e.toDisplayString(V.value),1)])])),((Pe=w.value)==null?void 0:Pe.name)=="ModalLookup"&&w.value.ref?(e.openBlock(),e.createBlock(re,{key:3,"ref-info":w.value.ref,onDone:f},null,8,["ref-info"])):e.createCommentVNode("",!0)])}}}),fm=e.createElementVNode("label",{for:"confirmDelete",class:"ml-2 mr-2 select-none"},"confirm",-1),hm=e.defineComponent({__name:"ConfirmDelete",emits:["delete"],setup(t,{emit:o}){let l=e.ref(!1);const n=o,a=()=>{l.value&&n("delete")},s=e.computed(()=>["select-none inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white",l.value?"cursor-pointer bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-red-400"]);return(i,d)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.withDirectives(e.createElementVNode("input",{id:"confirmDelete",type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 rounded border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:ring-offset-black","onUpdate:modelValue":d[0]||(d[0]=r=>e.isRef(l)?l.value=r:l=r)},null,512),[[e.vModelCheckbox,e.unref(l)]]),fm,e.createElementVNode("span",e.mergeProps({onClick:e.withModifiers(a,["prevent"]),class:s.value},i.$attrs),[e.renderSlot(i.$slots,"default",{},()=>[e.createTextVNode("Delete")])],16)],64))}}),gm={class:"flex",title:"loading..."},ym={key:0,xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24px",height:"30px",viewBox:"0 0 24 30"},km=[e.createStaticVNode('<rect x="0" y="10" width="4" height="10" fill="#333" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="8" y="10" width="4" height="10" fill="#333" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="16" y="10" width="4" height="10" fill="#333" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate></rect>',3)],bm={class:"ml-2 mt-1 text-gray-400"},wm=e.defineComponent({__name:"FormLoading",props:{icon:{type:Boolean,default:!0},text:{default:"loading..."}},setup(t){return e.inject("ApiState",void 0),(o,l)=>(e.openBlock(),e.createElementBlock("div",gm,[o.icon?(e.openBlock(),e.createElementBlock("svg",ym,km)):e.createCommentVNode("",!0),e.createElementVNode("span",bm,e.toDisplayString(o.text),1)]))}}),Cm=["onClick"],_m={key:3,class:"flex justify-between items-center"},Vm={class:"mr-1 select-none"},$m=["onClick"],Em=e.defineComponent({__name:"DataGrid",props:{items:{default:()=>[]},id:{default:"DataGrid"},type:{},tableStyle:{default:"stripedRows"},selectedColumns:{},gridClass:{},grid2Class:{},grid3Class:{},grid4Class:{},tableClass:{},theadClass:{},tbodyClass:{},theadRowClass:{},theadCellClass:{},isSelected:{},headerTitle:{},headerTitles:{},visibleFrom:{},rowClass:{},rowStyle:{}},emits:["headerSelected","rowSelected"],setup(t,{emit:o}){const l=t,n=o,a=e.ref(),s=e.ref(null),i=T=>s.value===T,d=e.useSlots(),r=T=>Object.keys(d).find(g=>g.toLowerCase()==T.toLowerCase()+"-header"),c=T=>Object.keys(d).find(g=>g.toLowerCase()==T.toLowerCase()),p=e.computed(()=>m.uniqueKeys(l.items).filter(T=>!!(d[T]||d[T+"-header"]))),{typeOf:w,typeProperties:u}=Le(),h=e.computed(()=>Ye(l.type)),f=e.computed(()=>w(h.value)),k=e.computed(()=>u(f.value));function S(T){const g=l.headerTitles&&m.mapGet(l.headerTitles,T)||T;return l.headerTitle?l.headerTitle(g):m.humanify(g)}function P(T){const g=T.toLowerCase();return k.value.find(C=>C.name.toLowerCase()==g)}function oe(T){const g=P(T);return g!=null&&g.format?g.format:(g==null?void 0:g.type)=="TimeSpan"||(g==null?void 0:g.type)=="TimeOnly"?{method:"time"}:null}const v={xs:"xs:table-cell",sm:"sm:table-cell",md:"md:table-cell",lg:"lg:table-cell",xl:"xl:table-cell","2xl":"2xl:table-cell",never:""};function x(T){const g=l.visibleFrom&&m.mapGet(l.visibleFrom,T);return g&&m.map(v[g],C=>`hidden ${C}`)}const B=e.computed(()=>l.gridClass??ae.getGridClass(l.tableStyle)),X=e.computed(()=>l.grid2Class??ae.getGrid2Class(l.tableStyle)),V=e.computed(()=>l.grid3Class??ae.getGrid3Class(l.tableStyle)),z=e.computed(()=>l.grid4Class??ae.getGrid4Class(l.tableStyle)),j=e.computed(()=>l.tableClass??ae.getTableClass(l.tableStyle)),G=e.computed(()=>l.tbodyClass??ae.getTbodyClass(l.tbodyClass)),D=e.computed(()=>l.theadClass??ae.getTheadClass(l.tableStyle)),R=e.computed(()=>l.theadRowClass??ae.getTheadRowClass(l.tableStyle)),H=e.computed(()=>l.theadCellClass??ae.getTheadCellClass(l.tableStyle));function F(T,g){return l.rowClass?l.rowClass(T,g):ae.getTableRowClass(l.tableStyle,g,!!(l.isSelected&&l.isSelected(T)),l.isSelected!=null)}function E(T,g){return l.rowStyle?l.rowStyle(T,g):void 0}const q=e.computed(()=>{const T=(typeof l.selectedColumns=="string"?l.selectedColumns.split(","):l.selectedColumns)||(p.value.length>0?p.value:m.uniqueKeys(l.items)),g=k.value.reduce((C,O)=>(C[O.name.toLowerCase()]=O.format,C),{});return T.filter(C=>{var O;return((O=g[C.toLowerCase()])==null?void 0:O.method)!="hidden"})});function y(T,g){n("headerSelected",g,T)}function A(T,g,C){n("rowSelected",C,T)}return(T,g)=>{const C=e.resolveComponent("CellFormat"),O=e.resolveComponent("PreviewFormat");return T.items.length?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"refResults",ref:a,class:e.normalizeClass(B.value)},[e.createElementVNode("div",{class:e.normalizeClass(X.value)},[e.createElementVNode("div",{class:e.normalizeClass(V.value)},[e.createElementVNode("div",{class:e.normalizeClass(z.value)},[e.createElementVNode("table",{class:e.normalizeClass(j.value)},[e.createElementVNode("thead",{class:e.normalizeClass(D.value)},[e.createElementVNode("tr",{class:e.normalizeClass(R.value)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,U=>(e.openBlock(),e.createElementBlock("td",{class:e.normalizeClass([x(U),H.value,i(U)?"text-gray-900 dark:text-gray-50":"text-gray-500 dark:text-gray-400"])},[e.createElementVNode("div",{onClick:K=>y(K,U)},[e.unref(d)[U+"-header"]?e.renderSlot(T.$slots,U+"-header",{key:0,column:U}):r(U)?e.renderSlot(T.$slots,r(U),{key:1,column:U}):e.unref(d).header?e.renderSlot(T.$slots,"header",{key:2,column:U,label:S(U)}):(e.openBlock(),e.createElementBlock("div",_m,[e.createElementVNode("span",Vm,e.toDisplayString(S(U)),1)]))],8,Cm)],2))),256))],2)],2),e.createElementVNode("tbody",{class:e.normalizeClass(G.value)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.items,(U,K)=>(e.openBlock(),e.createElementBlock("tr",{class:e.normalizeClass(F(U,K)),style:e.normalizeStyle(E(U,K)),onClick:N=>A(N,K,U)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,N=>(e.openBlock(),e.createElementBlock("td",{class:e.normalizeClass([x(N),e.unref(ae).tableCellClass])},[e.unref(d)[N]?e.renderSlot(T.$slots,N,e.normalizeProps(e.mergeProps({key:0},U))):c(N)?e.renderSlot(T.$slots,c(N),e.normalizeProps(e.mergeProps({key:1},U))):P(N)?(e.openBlock(),e.createBlock(C,{key:2,type:f.value,propType:P(N),modelValue:U},null,8,["type","propType","modelValue"])):(e.openBlock(),e.createBlock(O,{key:3,value:e.unref(m.mapGet)(U,N),format:oe(N)},null,8,["value","format"]))],2))),256))],14,$m))),256))],2)],2)],2)],2)],2)],2)):e.createCommentVNode("",!0)}}}),Bm=e.defineComponent({props:{type:Object,propType:Object,modelValue:Object},setup(t,{attrs:o}){const{typeOf:l}=Le();function n(a){return a!=null&&a.format?a.format:(a==null?void 0:a.type)=="TimeSpan"||(a==null?void 0:a.type)=="TimeOnly"?{method:"time"}:null}return()=>{var P;const a=n(t.propType),s=m.mapGet(t.modelValue,t.propType.name),i=Object.assign({},t,o),d=e.h("span",{innerHTML:gt(s,a,i)}),r=dt(s)&&Array.isArray(s)?e.h("span",{},[e.h("span",{class:"mr-2"},`${s.length}`),d]):d,c=(P=t.propType)==null?void 0:P.ref;if(!c)return r;const w=ve(t.type).find(oe=>oe.type===c.model);if(!w)return r;const u=m.mapGet(t.modelValue,w.name),h=u&&c.refLabel&&m.mapGet(u,c.refLabel);if(!h)return r;const f=l(c.model),k=f==null?void 0:f.icon,S=k?e.h($l,{image:k,class:"w-5 h-5 mr-1"}):null;return e.h("span",{class:"flex",title:`${c.model} ${s}`},[S,h])}}}),xm={key:0},Nm={key:0,class:"mr-2"},Sm=["innerHTML"],vm=["innerHTML"],Lm={inheritAttrs:!1},Mm=e.defineComponent({...Lm,__name:"PreviewFormat",props:{value:{},format:{},includeIcon:{type:Boolean,default:!0},includeCount:{type:Boolean,default:!0},maxFieldLength:{default:150},maxNestedFields:{default:2},maxNestedFieldLength:{default:30}},setup(t){const o=t,l=e.computed(()=>Array.isArray(o.value));return(n,a)=>e.unref(dt)(n.value)?(e.openBlock(),e.createElementBlock("span",xm,[n.includeCount&&l.value?(e.openBlock(),e.createElementBlock("span",Nm,e.toDisplayString(n.value.length),1)):e.createCommentVNode("",!0),e.createElementVNode("span",{innerHTML:e.unref(gt)(n.value,n.format,n.$attrs)},null,8,Sm)])):(e.openBlock(),e.createElementBlock("span",{key:1,innerHTML:e.unref(gt)(n.value,n.format,n.$attrs)},null,8,vm))}}),Dm=["innerHTML"],Tm={key:0},zm=e.createElementVNode("b",null,null,-1),Am={key:2},Fm=e.defineComponent({__name:"HtmlFormat",props:{value:{},depth:{default:0},fieldAttrs:{},classes:{type:Function,default:(t,o,l,n,a)=>n}},setup(t){const o=t,l=e.computed(()=>Qe(o.value)),n=e.computed(()=>Array.isArray(o.value)),a=r=>m.humanify(r),s=r=>o.fieldAttrs?o.fieldAttrs(r):null,i=e.computed(()=>m.uniqueKeys(o.value)),d=r=>r?Object.keys(r).map(c=>({key:a(c),val:r[c]})):[];return(r,c)=>{const p=e.resolveComponent("HtmlFormat",!0);return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(r.depth==0?"prose html-format":"")},[l.value?(e.openBlock(),e.createElementBlock("div",{key:0,innerHTML:e.unref(gt)(r.value)},null,8,Dm)):n.value?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(r.classes("array","div",r.depth,e.unref(ae).gridClass))},[e.unref(Qe)(r.value[0])?(e.openBlock(),e.createElementBlock("div",Tm,"[ "+e.toDisplayString(r.value.join(", "))+" ]",1)):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(r.classes("array","div",r.depth,e.unref(ae).grid2Class))},[e.createElementVNode("div",{class:e.normalizeClass(r.classes("array","div",r.depth,e.unref(ae).grid3Class))},[e.createElementVNode("div",{class:e.normalizeClass(r.classes("array","div",r.depth,e.unref(ae).grid4Class))},[e.createElementVNode("table",{class:e.normalizeClass(r.classes("object","table",r.depth,e.unref(ae).tableClass))},[e.createElementVNode("thead",{class:e.normalizeClass(r.classes("array","thead",r.depth,e.unref(ae).theadClass))},[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,w=>(e.openBlock(),e.createElementBlock("th",{class:e.normalizeClass(r.classes("array","th",r.depth,e.unref(ae).theadCellClass+" whitespace-nowrap"))},[zm,e.createTextVNode(e.toDisplayString(a(w)),1)],2))),256))])],2),e.createElementVNode("tbody",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(w,u)=>(e.openBlock(),e.createElementBlock("tr",{class:e.normalizeClass(r.classes("array","tr",r.depth,u%2==0?"bg-white":"bg-gray-50",u))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,h=>(e.openBlock(),e.createElementBlock("td",{class:e.normalizeClass(r.classes("array","td",r.depth,e.unref(ae).tableCellClass))},[e.createVNode(p,e.mergeProps({value:w[h],"field-attrs":r.fieldAttrs,depth:r.depth+1,classes:r.classes},s(h)),null,16,["value","field-attrs","depth","classes"])],2))),256))],2))),256))])],2)],2)],2)],2))],2)):(e.openBlock(),e.createElementBlock("div",Am,[e.createElementVNode("table",{class:e.normalizeClass(r.classes("object","table",r.depth,"table-object"))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d(r.value),w=>(e.openBlock(),e.createElementBlock("tr",{class:e.normalizeClass(r.classes("object","tr",r.depth,""))},[e.createElementVNode("th",{class:e.normalizeClass(r.classes("object","th",r.depth,"align-top py-2 px-4 text-left text-sm font-medium tracking-wider whitespace-nowrap"))},e.toDisplayString(w.key),3),e.createElementVNode("td",{class:e.normalizeClass(r.classes("object","td",r.depth,"align-top py-2 px-4 text-sm"))},[e.createVNode(p,e.mergeProps({value:w.val,"field-attrs":r.fieldAttrs,depth:r.depth+1,classes:r.classes},s(w.key)),null,16,["value","field-attrs","depth","classes"])],2)],2))),256))],2)]))],2)}}}),Im={class:"absolute top-0 right-0 pt-4 pr-4"},Pm=[e.createElementVNode("span",{class:"sr-only"},"Close",-1),e.createElementVNode("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)],jm=e.defineComponent({__name:"CloseButton",props:{buttonClass:{default:"bg-white dark:bg-black"}},emits:["close"],setup(t,{emit:o}){return(l,n)=>(e.openBlock(),e.createElementBlock("div",Im,[e.createElementVNode("button",{type:"button",onClick:n[0]||(n[0]=a=>l.$emit("close")),class:e.normalizeClass([l.buttonClass,"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:ring-offset-black"])},Pm,2)]))}}),Rm=["id","aria-labelledby"],Om=e.createElementVNode("div",{class:"fixed inset-0"},null,-1),Hm={class:"fixed inset-0 overflow-hidden"},Um={class:"flex h-full flex-col bg-white dark:bg-black shadow-xl"},qm={class:"flex min-h-0 flex-1 flex-col overflow-auto"},Qm={class:"flex-1"},Gm={class:"bg-gray-50 dark:bg-gray-900 px-4 py-6 sm:px-6"},Km={class:"flex items-start justify-between space-x-3"},Zm={class:"space-y-1"},Wm=["id"],Jm={key:1,class:"text-sm text-gray-500"},Xm={class:"flex h-7 items-center"},Ym={class:"flex-shrink-0 border-t border-gray-200 dark:border-gray-700 px-4 py-5 sm:px-6"},e0=e.defineComponent({__name:"SlideOver",props:{id:{default:"SlideOver"},title:{},contentClass:{default:"relative mt-6 flex-1 px-4 sm:px-6"}},emits:["done"],setup(t,{emit:o}){const l=o,n=e.ref(!1),a=e.ref(""),s={entering:{cls:"transform transition ease-in-out duration-500 sm:duration-700",from:"translate-x-full",to:"translate-x-0"},leaving:{cls:"transform transition ease-in-out duration-500 sm:duration-700",from:"translate-x-0",to:"translate-x-full"}};e.watch(n,()=>{qe(s,a,n.value),n.value||setTimeout(()=>l("done"),700)}),n.value=!0;const i=()=>n.value=!1,d=r=>{r.key==="Escape"&&i()};return e.onMounted(()=>window.addEventListener("keydown",d)),e.onUnmounted(()=>window.removeEventListener("keydown",d)),(r,c)=>{const p=e.resolveComponent("CloseButton");return e.openBlock(),e.createElementBlock("div",{id:r.id,class:"relative z-10","aria-labelledby":r.id+"-title",role:"dialog","aria-modal":"true"},[Om,e.createElementVNode("div",Hm,[e.createElementVNode("div",{onMousedown:i,class:"absolute inset-0 overflow-hidden"},[e.createElementVNode("div",{onMousedown:c[0]||(c[0]=e.withModifiers(()=>{},["stop"])),class:"pointer-events-none fixed inset-y-0 right-0 flex pl-10"},[e.createElementVNode("div",{class:e.normalizeClass(["pointer-events-auto w-screen xl:max-w-3xl md:max-w-xl max-w-lg",a.value])},[e.createElementVNode("div",Um,[e.createElementVNode("div",qm,[e.createElementVNode("div",Qm,[e.createElementVNode("div",Gm,[e.createElementVNode("div",Km,[e.createElementVNode("div",Zm,[r.title?(e.openBlock(),e.createElementBlock("h2",{key:0,class:"text-lg font-medium text-gray-900 dark:text-gray-50",id:r.id+"-title"},e.toDisplayString(r.title),9,Wm)):e.createCommentVNode("",!0),r.$slots.subtitle?(e.openBlock(),e.createElementBlock("p",Jm,[e.renderSlot(r.$slots,"subtitle")])):e.createCommentVNode("",!0)]),e.createElementVNode("div",Xm,[e.createVNode(p,{"button-class":"bg-gray-50 dark:bg-gray-900",onClose:i})])])]),e.createElementVNode("div",{class:e.normalizeClass(r.contentClass)},[e.renderSlot(r.$slots,"default")],2)])]),e.createElementVNode("div",Ym,[e.renderSlot(r.$slots,"footer")])])],2)],32)],32)])],8,Rm)}}}),t0=["id","data-transition-for","aria-labelledby"],o0={class:"fixed inset-0 z-10 overflow-y-auto"},l0={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},n0=[e.createElementVNode("span",{class:"sr-only"},"Close",-1),e.createElementVNode("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)],a0=e.defineComponent({__name:"ModalDialog",props:{id:{default:"ModalDialog"},modalClass:{default:Co.modalClass},sizeClass:{default:Co.sizeClass}},emits:["done"],setup(t,{emit:o}){const l=o,n=e.ref(!1),a=e.ref(""),s={entering:{cls:"ease-out duration-300",from:"opacity-0",to:"opacity-100"},leaving:{cls:"ease-in duration-200",from:"opacity-100",to:"opacity-0"}},i=e.ref(""),d={entering:{cls:"ease-out duration-300",from:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",to:"opacity-100 translate-y-0 sm:scale-100"},leaving:{cls:"ease-in duration-200",from:"opacity-100 translate-y-0 sm:scale-100",to:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};e.watch(n,()=>{qe(s,a,n.value),qe(d,i,n.value),n.value||setTimeout(()=>l("done"),200)}),n.value=!0;const r=()=>n.value=!1,c={openModal:u};e.provide("ModalProvider",c);const p=e.ref(),w=e.ref();function u(k,S){p.value=k,w.value=S}async function h(k){w.value&&w.value(k),p.value=void 0,w.value=void 0}const f=k=>{k.key==="Escape"&&r()};return e.onMounted(()=>window.addEventListener("keydown",f)),e.onUnmounted(()=>window.removeEventListener("keydown",f)),(k,S)=>{var oe;const P=e.resolveComponent("ModalLookup");return e.openBlock(),e.createElementBlock("div",{id:k.id,"data-transition-for":k.id,onMousedown:r,class:"relative z-10","aria-labelledby":`${k.id}-title`,role:"dialog","aria-modal":"true"},[e.createElementVNode("div",{class:e.normalizeClass(["fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",a.value])},null,2),e.createElementVNode("div",o0,[e.createElementVNode("div",l0,[e.createElementVNode("div",{class:e.normalizeClass([k.modalClass,k.sizeClass,i.value]),onMousedown:S[0]||(S[0]=e.withModifiers(()=>{},["stop"]))},[e.createElementVNode("div",null,[e.createElementVNode("div",{class:"hidden sm:block absolute top-0 right-0 pt-4 pr-4 z-10"},[e.createElementVNode("button",{type:"button",onClick:r,class:"bg-white dark:bg-black rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:ring-offset-black"},n0)]),e.renderSlot(k.$slots,"default")])],34)])]),((oe=p.value)==null?void 0:oe.name)=="ModalLookup"&&p.value.ref?(e.openBlock(),e.createBlock(P,{key:0,"ref-info":p.value.ref,onDone:h},null,8,["ref-info"])):e.createCommentVNode("",!0)],40,t0)}}}),s0={class:"pt-2 overflow-auto",style:{"min-height":"620px"}},r0={class:"mt-3 pl-5 flex flex-wrap items-center"},i0={class:"hidden sm:block text-xl leading-6 font-medium text-gray-900 dark:text-gray-50 mr-3"},d0={class:"hidden md:inline"},c0={class:"flex pb-1 sm:pb-0"},m0=["title"],p0=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("g",{"stroke-width":"1.5",fill:"none"},[e.createElementVNode("path",{d:"M9 3H3.6a.6.6 0 0 0-.6.6v16.8a.6.6 0 0 0 .6.6H9M9 3v18M9 3h6M9 21h6m0-18h5.4a.6.6 0 0 1 .6.6v16.8a.6.6 0 0 1-.6.6H15m0-18v18",stroke:"currentColor"})])],-1)],u0=["disabled"],f0=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6l6 6zM6 6h2v12H6z",fill:"currentColor"})],-1)],h0=["disabled"],g0=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M15.41 7.41L14 6l-6 6l6 6l1.41-1.41L10.83 12z",fill:"currentColor"})],-1)],y0=["disabled"],k0=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M10 6L8.59 7.41L13.17 12l-4.58 4.59L10 18l6-6z",fill:"currentColor"})],-1)],b0=["disabled"],w0=[e.createElementVNode("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6l-6-6zM16 6h2v12h-2z",fill:"currentColor"})],-1)],C0={key:0,class:"flex pb-1 sm:pb-0"},_0={class:"px-4 text-lg text-black dark:text-white"},V0={key:0},$0={key:1},E0=e.createElementVNode("span",{class:"hidden xl:inline"}," Showing Results ",-1),B0={key:2},x0={key:1,class:"pl-2"},N0=[e.createElementVNode("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",viewBox:"0 0 24 24"},[e.createElementVNode("path",{fill:"currentColor",d:"M6.78 2.72a.75.75 0 0 1 0 1.06L4.56 6h8.69a7.75 7.75 0 1 1-7.75 7.75a.75.75 0 0 1 1.5 0a6.25 6.25 0 1 0 6.25-6.25H4.56l2.22 2.22a.75.75 0 1 1-1.06 1.06l-3.5-3.5a.75.75 0 0 1 0-1.06l3.5-3.5a.75.75 0 0 1 1.06 0Z"})],-1)],S0={class:"flex pb-1 sm:pb-0"},v0={key:0,class:"pl-2"},L0=e.createElementVNode("svg",{class:"flex-none w-5 h-5 mr-2 text-gray-400 dark:text-gray-500 group-hover:text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})],-1),M0={class:"mr-1"},D0={key:0,class:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},T0=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"},null,-1)],z0={key:1,class:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},A0=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z","clip-rule":"evenodd"},null,-1)],F0={key:1},I0={key:4},P0={key:0},j0={key:0,class:"cursor-pointer flex justify-between items-center hover:text-gray-900 dark:hover:text-gray-50"},R0={class:"mr-1 select-none"},O0={key:1,class:"flex justify-between items-center"},H0={class:"mr-1 select-none"},vl=25,U0=e.defineComponent({__name:"ModalLookup",props:{id:{default:"ModalLookup"},refInfo:{},skip:{default:0},prefs:{},selectedColumns:{},allowFiltering:{type:[Boolean,null],default:!0},showPreferences:{type:[Boolean,null],default:!0},showPagingNav:{type:[Boolean,null],default:!0},showPagingInfo:{type:[Boolean,null],default:!0},showResetPreferences:{type:[Boolean,null],default:!0},showFiltersView:{type:[Boolean,null],default:!0},toolbarButtonClass:{},canFilter:{}},emits:["done"],setup(t,{emit:o}){const l=t,n=o,a=e.useSlots(),{config:s}=He(),{metadataApi:i,filterDefinitions:d}=Le(),r=e.inject("client"),c=s.value.storage,p=e.computed(()=>l.toolbarButtonClass??ae.toolbarButtonClass),w=e.computed(()=>d.value),u=e.ref({take:vl}),h=e.ref(new m.ApiResult),f=e.ref(l.skip),k=e.ref(!1),S=e.ref(),P=M=>typeof M=="string"?M.split(","):M||[];function oe(M,I){return ae.getTableRowClass("fullWidth",I,!1,!0)}function v(){let M=P(l.selectedColumns);return M.length>0?M:[]}const x=e.computed(()=>Te(l.refInfo.model)),B=e.computed(()=>{let I=v().map(re=>re.toLowerCase());const Z=ve(x.value);return I.length>0?I.map(re=>Z.find(ce=>ce.name.toLowerCase()===re)).filter(re=>re!=null):Z}),X=e.computed(()=>{let M=B.value.map(Z=>Z.name),I=P(u.value.selectedColumns).map(Z=>Z.toLowerCase());return I.length>0?M.filter(Z=>I.includes(Z.toLowerCase())):M}),V=e.computed(()=>u.value.take??vl),z=e.computed(()=>h.value.response?m.mapGet(h.value.response,"results"):[]),j=e.computed(()=>{var M;return((M=h.value.response)==null?void 0:M.total)??z.value.length??0}),G=e.computed(()=>f.value>0),D=e.computed(()=>f.value>0),R=e.computed(()=>z.value.length>=V.value),H=e.computed(()=>z.value.length>=V.value),F=e.ref([]),E=e.computed(()=>F.value.some(M=>M.settings.filters.length>0||!!M.settings.sort)),q=e.computed(()=>F.value.map(M=>M.settings.filters.length).reduce((M,I)=>M+I,0)),y=e.computed(()=>ft(x.value)),A=e.computed(()=>{var M;return(M=i.value)==null?void 0:M.operations.find(I=>{var Z;return((Z=I.dataModel)==null?void 0:Z.name)==l.refInfo.model&&$e.isAnyQuery(I)})}),T=e.ref(),g=e.ref(!1),C=e.ref(),O=()=>`${l.id}/ApiPrefs/${l.refInfo.model}`,U=M=>`Column/${l.id}:${l.refInfo.model}.${M}`;async function K(M){f.value+=M,f.value<0&&(f.value=0);var I=Math.floor(j.value/V.value)*V.value;f.value>I&&(f.value=I),await Y()}async function N(M,I){n("done",M)}function _(){n("done",null)}function ee(M,I){var re,ce,ge;let Z=I.target;if((Z==null?void 0:Z.tagName)!=="TD"){let _e=(re=Z==null?void 0:Z.closest("TABLE"))==null?void 0:re.getBoundingClientRect(),fe=F.value.find(ke=>ke.name.toLowerCase()==M.toLowerCase());if(fe&&_e){let ke=318,xe=(((ce=I.target)==null?void 0:ce.tagName)==="DIV"?I.target:(ge=I.target)==null?void 0:ge.closest("DIV")).getBoundingClientRect(),Ce=ke+25;C.value={column:fe,topLeft:{x:Math.max(Math.floor(xe.x+25),Ce),y:Math.floor(115)}}}}}function le(){C.value=null}async function J(M){var Z;let I=(Z=C.value)==null?void 0:Z.column;I&&(I.settings=M,c.setItem(U(I.name),JSON.stringify(I.settings)),await Y()),C.value=null}async function ne(M){c.setItem(U(M.name),JSON.stringify(M.settings)),await Y()}async function $(M){g.value=!1,u.value=M,c.setItem(O(),JSON.stringify(M)),await Y()}async function Y(){await pe(ue())}async function pe(M){const I=A.value;if(!I){console.error(`No Query API was found for ${l.refInfo.model}`);return}let Z=pt(I,M),re=m.delaySet(_e=>{h.value.response=h.value.error=void 0,k.value=_e}),ce=await r.api(Z);re(),e.nextTick(()=>h.value=ce);let ge=m.mapGet(ce.response,"results")||[];!ce.succeeded||ge.label==0}function ue(){let M={include:"total",take:V.value},I=P(u.value.selectedColumns||l.selectedColumns);if(I.length>0){let re=y.value;re&&I.includes(re.name)&&(I=[re.name,...I]),M.fields=I.join(",")}let Z=[];return F.value.forEach(re=>{re.settings.sort&&Z.push((re.settings.sort==="DESC"?"-":"")+re.name),re.settings.filters.forEach(ce=>{let ge=ce.key.replace("%",re.name);M[ge]=ce.value})}),typeof M.skip>"u"&&f.value>0&&(M.skip=f.value),Z.length>0&&(M.orderBy=Z.join(",")),M}async function se(){F.value.forEach(M=>{M.settings={filters:[]},c.removeItem(U(M.name))}),await Y()}return e.onMounted(async()=>{const M=l.prefs||Et(c.getItem(O()));M&&(u.value=M),F.value=B.value.map(I=>({name:I.name,type:I.type,meta:I,settings:Object.assign({filters:[]},Et(c.getItem(U(I.name))))})),isNaN(l.skip)||(f.value=l.skip),await Y()}),(M,I)=>{const Z=e.resolveComponent("ErrorSummary"),re=e.resolveComponent("Loading"),ce=e.resolveComponent("SettingsIcons"),ge=e.resolveComponent("DataGrid"),_e=e.resolveComponent("ModalDialog");return e.openBlock(),e.createElementBlock(e.Fragment,null,[M.refInfo?(e.openBlock(),e.createBlock(_e,{key:0,ref_key:"modalDialog",ref:T,id:M.id,onDone:_},{default:e.withCtx(()=>[e.createElementVNode("div",s0,[e.createElementVNode("div",r0,[e.createElementVNode("h3",i0,[e.createTextVNode(" Select "),e.createElementVNode("span",d0,e.toDisplayString(e.unref(m.humanize)(M.refInfo.model)),1)]),e.createElementVNode("div",c0,[M.showPreferences?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"pl-2 text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400",title:`${M.refInfo.model} Preferences`,onClick:I[0]||(I[0]=fe=>g.value=!g.value)},p0,8,m0)):e.createCommentVNode("",!0),M.showPagingNav?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:e.normalizeClass(["pl-2",G.value?"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400":"text-gray-400 dark:text-gray-500"]),title:"First page",disabled:!G.value,onClick:I[1]||(I[1]=fe=>K(-j.value))},f0,10,u0)):e.createCommentVNode("",!0),M.showPagingNav?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:e.normalizeClass(["pl-2",D.value?"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400":"text-gray-400 dark:text-gray-500"]),title:"Previous page",disabled:!D.value,onClick:I[2]||(I[2]=fe=>K(-V.value))},g0,10,h0)):e.createCommentVNode("",!0),M.showPagingNav?(e.openBlock(),e.createElementBlock("button",{key:3,type:"button",class:e.normalizeClass(["pl-2",R.value?"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400":"text-gray-400 dark:text-gray-500"]),title:"Next page",disabled:!R.value,onClick:I[3]||(I[3]=fe=>K(V.value))},k0,10,y0)):e.createCommentVNode("",!0),M.showPagingNav?(e.openBlock(),e.createElementBlock("button",{key:4,type:"button",class:e.normalizeClass(["pl-2",H.value?"text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400":"text-gray-400 dark:text-gray-500"]),title:"Last page",disabled:!H.value,onClick:I[4]||(I[4]=fe=>K(j.value))},w0,10,b0)):e.createCommentVNode("",!0)]),M.showPagingInfo?(e.openBlock(),e.createElementBlock("div",C0,[e.createElementVNode("div",_0,[k.value?(e.openBlock(),e.createElementBlock("span",V0,"Querying...")):e.createCommentVNode("",!0),z.value.length?(e.openBlock(),e.createElementBlock("span",$0,[E0,e.createTextVNode(" "+e.toDisplayString(f.value+1)+" - "+e.toDisplayString(Math.min(f.value+z.value.length,j.value))+" ",1),e.createElementVNode("span",null," of "+e.toDisplayString(j.value),1)])):h.value.completed?(e.openBlock(),e.createElementBlock("span",B0,"No Results")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),E.value&&M.showResetPreferences?(e.openBlock(),e.createElementBlock("div",x0,[e.createElementVNode("button",{type:"button",onClick:se,title:"Reset Preferences & Filters",class:e.normalizeClass(p.value)},N0,2)])):e.createCommentVNode("",!0),e.createElementVNode("div",S0,[M.showFiltersView&&q.value>0?(e.openBlock(),e.createElementBlock("div",v0,[e.createElementVNode("button",{type:"button",onClick:I[5]||(I[5]=fe=>S.value=S.value=="filters"?null:"filters"),class:e.normalizeClass(p.value),"aria-expanded":"false"},[L0,e.createElementVNode("span",M0,e.toDisplayString(q.value)+" "+e.toDisplayString(q.value==1?"Filter":"Filters"),1),S.value!="filters"?(e.openBlock(),e.createElementBlock("svg",D0,T0)):(e.openBlock(),e.createElementBlock("svg",z0,A0))],2)])):e.createCommentVNode("",!0)])]),S.value=="filters"?(e.openBlock(),e.createBlock(Bo,{key:0,class:"border-y border-gray-200 dark:border-gray-800 py-8 my-2",definitions:w.value,columns:F.value,onDone:I[6]||(I[6]=fe=>S.value=null),onChange:ne},null,8,["definitions","columns"])):e.createCommentVNode("",!0),C.value?(e.openBlock(),e.createElementBlock("div",F0,[e.createVNode(Eo,{definitions:w.value,column:C.value.column,"top-left":C.value.topLeft,onDone:le,onSave:J},null,8,["definitions","column","top-left"])])):e.createCommentVNode("",!0),h.value.error?(e.openBlock(),e.createBlock(Z,{key:2,status:h.value.error},null,8,["status"])):k.value?(e.openBlock(),e.createBlock(re,{key:3})):(e.openBlock(),e.createElementBlock("div",I0,[z.value.length?(e.openBlock(),e.createElementBlock("div",P0,[e.createVNode(ge,{id:M.id,items:z.value,type:M.refInfo.model,"selected-columns":X.value,onFiltersChanged:Y,tableStyle:"fullWidth",rowClass:oe,onRowSelected:N,onHeaderSelected:ee},e.createSlots({header:e.withCtx(({column:fe,label:ke})=>{var ye;return[M.allowFiltering&&(!l.canFilter||l.canFilter(fe))?(e.openBlock(),e.createElementBlock("div",j0,[e.createElementVNode("span",R0,e.toDisplayString(ke),1),e.createVNode(ce,{column:F.value.find(xe=>xe.name.toLowerCase()===fe.toLowerCase()),"is-open":((ye=C.value)==null?void 0:ye.column.name)===fe},null,8,["column","is-open"])])):(e.openBlock(),e.createElementBlock("div",O0,[e.createElementVNode("span",H0,e.toDisplayString(ke),1)]))]}),_:2},[e.renderList(Object.keys(e.unref(a)),fe=>({name:fe,fn:e.withCtx(ke=>[e.renderSlot(M.$slots,fe,e.normalizeProps(e.guardReactiveProps(ke)))])}))]),1032,["id","items","type","selected-columns"])])):e.createCommentVNode("",!0)]))])]),_:3},8,["id"])):e.createCommentVNode("",!0),g.value?(e.openBlock(),e.createBlock(xo,{key:1,columns:B.value,prefs:u.value,onDone:I[7]||(I[7]=fe=>g.value=!1),onSave:$},null,8,["columns","prefs"])):e.createCommentVNode("",!0)],64)}}}),q0={class:"sm:hidden"},Q0=["for"],G0=["id","name"],K0=["value"],Z0={class:"hidden sm:block"},W0={class:"border-b border-gray-200"},J0={class:"-mb-px flex","aria-label":"Tabs"},X0=["onClick"],Y0=e.defineComponent({__name:"Tabs",props:{tabs:{},id:{default:"tabs"},param:{default:"tab"},label:{type:Function,default:t=>m.humanize(t)},selected:{},tabClass:{},bodyClass:{default:"p-4"},url:{type:Boolean,default:!0}},setup(t){const o=t,l=e.computed(()=>Object.keys(o.tabs)),n=p=>o.label?o.label(p):m.humanize(p),a=e.computed(()=>o.id||"tabs"),s=e.computed(()=>o.param||"tab"),i=e.ref();function d(p){if(i.value=p,o.url){const w=l.value[0];Gt({tab:p===w?void 0:p})}}function r(p){return i.value===p}const c=e.computed(()=>`${100/Object.keys(o.tabs).length}%`);return e.onMounted(()=>{if(i.value=o.selected||Object.keys(o.tabs)[0],o.url){const p=location.search?location.search:location.hash.includes("?")?"?"+m.rightPart(location.hash,"?"):"",u=m.queryString(p)[s.value];u&&(i.value=u)}}),(p,w)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",q0,[e.createElementVNode("label",{for:a.value,class:"sr-only"},"Select a tab",8,Q0),e.createElementVNode("select",{id:a.value,name:a.value,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",onChange:w[0]||(w[0]=u=>{var h;return d((h=u.target)==null?void 0:h.value)})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,u=>(e.openBlock(),e.createElementBlock("option",{key:u,value:u},e.toDisplayString(n(u)),9,K0))),128))],40,G0)]),e.createElementVNode("div",Z0,[e.createElementVNode("div",W0,[e.createElementVNode("nav",J0,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,u=>(e.openBlock(),e.createElementBlock("a",{href:"#",onClick:e.withModifiers(h=>d(u),["prevent"]),style:e.normalizeStyle({width:c.value}),class:e.normalizeClass([r(u)?"border-indigo-500 text-indigo-600 py-4 px-1 text-center border-b-2 font-medium text-sm":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-1 text-center border-b-2 font-medium text-sm",p.tabClass])},e.toDisplayString(n(u)),15,X0))),256))])])]),e.createElementVNode("div",{class:e.normalizeClass(p.bodyClass)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p.tabs[i.value])))],2)]))}}),ep=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},[e.createElementVNode("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"})],-1)],tp=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-indigo-600",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},[e.createElementVNode("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"})],-1)],op=e.defineComponent({__name:"DarkModeToggle",setup(t){const o=typeof document<"u"?document.documentElement:null,l=()=>!!(o!=null&&o.classList.contains("dark")),n=e.ref(localStorage.getItem("color-scheme")=="dark");function a(){l()?o==null||o.classList.remove("dark"):o==null||o.classList.add("dark"),n.value=l(),localStorage.setItem("color-scheme",n.value?"dark":"light")}return(s,i)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"bg-gray-200 dark:bg-gray-700 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:ring-offset-black",role:"switch","aria-checked":"false",onClick:i[0]||(i[0]=d=>a())},[e.createElementVNode("span",{class:e.normalizeClass(`${n.value?"translate-x-0":"translate-x-5"} pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white dark:bg-black shadow transform ring-0 transition ease-in-out duration-200`)},[e.createElementVNode("span",{class:e.normalizeClass(`${n.value?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100"} absolute inset-0 h-full w-full flex items-center justify-center transition-opacity`),"aria-hidden":"true"},ep,2),e.createElementVNode("span",{class:e.normalizeClass(`${n.value?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200"} absolute inset-0 h-full w-full flex items-center justify-center transition-opacity`),"aria-hidden":"true"},tp,2)],2)]))}}),lp={key:0},np={key:1,class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8"},ap={class:"sm:mx-auto sm:w-full sm:max-w-md"},sp={class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},rp={key:0,class:"mt-4 text-center text-sm text-gray-600"},ip={class:"relative z-0 inline-flex shadow-sm rounded-md"},dp=["onClick"],cp={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},mp={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},pp={class:"mt-8"},up={key:1,class:"mt-6"},fp=e.createStaticVNode('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500"> Or continue with </span></div></div>',1),hp={class:"mt-6 grid grid-cols-3 gap-3"},gp=["href","title"],yp={key:1,class:"h-5 w-5 text-gray-700",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},kp=[e.createElementVNode("path",{d:"M16 8a5 5 0 1 0 5 5a5 5 0 0 0-5-5z",fill:"currentColor"},null,-1),e.createElementVNode("path",{d:"M16 2a14 14 0 1 0 14 14A14.016 14.016 0 0 0 16 2zm7.992 22.926A5.002 5.002 0 0 0 19 20h-6a5.002 5.002 0 0 0-4.992 4.926a12 12 0 1 1 15.985 0z",fill:"currentColor"},null,-1)],bp=e.defineComponent({__name:"SignIn",props:{provider:{},title:{default:"Sign In"},tabs:{type:[Boolean,String],default:!0},oauth:{type:[Boolean,String],default:!0}},emits:["login"],setup(t,{emit:o}){const l=t,n=o,{getMetadata:a,createDto:s}=Le(),i=kt(),d=e.inject("client"),{signIn:r}=It(),c=a({assert:!0}),p=c.plugins.auth,w=document.baseURI,u=c.app.baseUrl,h=e.ref(s("Authenticate")),f=e.ref(new m.ApiResult),k=e.ref(l.provider);e.onMounted(()=>{p==null||p.authProviders.map(D=>D.formLayout).filter(D=>D).forEach(D=>D.forEach(R=>h.value[R.id]=R.type==="checkbox"?!1:""))});const S=e.computed(()=>(p==null?void 0:p.authProviders.filter(D=>D.formLayout))||[]),P=e.computed(()=>S.value[0]||{}),oe=e.computed(()=>S.value[Math.max(S.value.length-1,0)]||{}),v=e.computed(()=>(k.value?p==null?void 0:p.authProviders.find(D=>D.name===k.value):null)??P.value),x=D=>D===!1||D==="false";function B(D){return D.label||D.navItem&&D.navItem.label}const X=e.computed(()=>{var D;return(((D=v.value)==null?void 0:D.formLayout)||[]).map(R=>{var H,F;return Object.assign({},R,{type:(H=R.type)==null?void 0:H.toLowerCase(),autocomplete:R.autocomplete||(((F=R.type)==null?void 0:F.toLowerCase())==="password"?"current-password":void 0)||(R.id.toLowerCase()==="username"?"username":void 0),css:Object.assign({field:"col-span-12"},R.css)})})}),V=e.computed(()=>x(l.oauth)?[]:(p==null?void 0:p.authProviders.filter(D=>D.type==="oauth"))||[]),z=e.computed(()=>{let D=m.each(p==null?void 0:p.authProviders.filter(H=>H.formLayout&&H.formLayout.length>0),(H,F)=>{let E=B(F)||m.toPascalCase(F.name);H[E]=F.name===P.value.name?"":F.name});const R=v.value;return R&&x(l.tabs)&&(D={[B(R)||m.toPascalCase(R.name)]:R}),D}),j=e.computed(()=>{let D=X.value.map(R=>R.id).filter(R=>R);return f.value.summaryMessage(D)});async function G(){if(h.value.provider=v.value.name,v.value.name==="authsecret"?(d.headers.set("authsecret",h.value.authsecret),h.value=s("Authenticate")):v.value.name==="basic"?(d.setCredentials(h.value.UserName,h.value.Password),h.value=s("Authenticate"),h.value.UserName=null,h.value.Password=null):v.value.name==="jwt"&&(d.bearerToken=h.value.BearerToken,h.value=s("Authenticate")),f.value=await i.api(h.value),f.value.succeeded){const D=f.value.response;r(D),n("login",D),f.value=new m.ApiResult,h.value=s("Authenticate")}}return(D,R)=>{const H=e.resolveComponent("ErrorSummary"),F=e.resolveComponent("AutoFormFields"),E=e.resolveComponent("PrimaryButton"),q=e.resolveComponent("Icon"),y=e.resolveDirective("href");return e.unref(p)?(e.openBlock(),e.createElementBlock("div",np,[e.createElementVNode("div",ap,[e.createElementVNode("h2",sp,e.toDisplayString(D.title),1),Object.keys(z.value).length>1?(e.openBlock(),e.createElementBlock("p",rp,[e.createElementVNode("span",ip,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z.value,(A,T)=>e.withDirectives((e.openBlock(),e.createElementBlock("a",{onClick:g=>k.value=A,class:e.normalizeClass([A===""||A===P.value.name?"rounded-l-md":A===oe.value.name?"rounded-r-md -ml-px":"-ml-px",k.value===A?"z-10 outline-none ring-1 ring-indigo-500 border-indigo-500":"","cursor-pointer relative inline-flex items-center px-4 py-1 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"])},[e.createTextVNode(e.toDisplayString(T),1)],10,dp)),[[y,{provider:A}]])),256))])])):e.createCommentVNode("",!0)]),e.createElementVNode("div",cp,[j.value?(e.openBlock(),e.createBlock(H,{key:0,class:"mb-3",errorSummary:j.value},null,8,["errorSummary"])):e.createCommentVNode("",!0),e.createElementVNode("div",mp,[X.value.length?(e.openBlock(),e.createElementBlock("form",{key:0,onSubmit:e.withModifiers(G,["prevent"])},[e.createVNode(F,{modelValue:h.value,formLayout:X.value,api:f.value,hideSummary:!0,"divide-class":"","space-class":"space-y-6"},null,8,["modelValue","formLayout","api"]),e.createElementVNode("div",pp,[e.createVNode(E,{class:"w-full"},{default:e.withCtx(()=>[e.createTextVNode("Sign In")]),_:1})])],32)):e.createCommentVNode("",!0),V.value.length?(e.openBlock(),e.createElementBlock("div",up,[fp,e.createElementVNode("div",hp,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.value,A=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("a",{href:e.unref(u)+A.navItem.href+"?continue="+e.unref(w),title:B(A),class:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},[A.icon?(e.openBlock(),e.createBlock(q,{key:0,image:A.icon,class:"h-5 w-5 text-gray-700"},null,8,["image"])):(e.openBlock(),e.createElementBlock("svg",yp,kp))],8,gp)]))),256))])])):e.createCommentVNode("",!0)])])])):(e.openBlock(),e.createElementBlock("div",lp,"No Auth Plugin"))}}}),wp=["for"],Cp={key:1,class:"border border-gray-200 flex justify-between"},_p={class:"p-2 flex flex-wrap gap-x-4"},Vp=[e.createElementVNode("title",null,"Bold text (CTRL+B)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79c0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79c0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"},null,-1)],$p=[e.createElementVNode("title",null,"Italics (CTRL+I)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"},null,-1)],Ep=[e.createElementVNode("title",null,"Insert Link (CTRL+K)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5a5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1c0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5a5 5 0 0 0-5-5Z"},null,-1)],Bp=[e.createElementVNode("title",null,"Blockquote (CTRL+Q)",-1),e.createElementVNode("path",{fill:"currentColor",d:"m15 17l2-4h-4V6h7v7l-2 4h-3Zm-9 0l2-4H4V6h7v7l-2 4H6Z"},null,-1)],xp=[e.createElementVNode("title",null,"Insert Image (CTRL+SHIFT+L)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M2.992 21A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992ZM20 15V5H4v14L14 9l6 6Zm0 2.828l-6-6L6.828 19H20v-1.172ZM8 11a2 2 0 1 1 0-4a2 2 0 0 1 0 4Z"},null,-1)],Np=[e.createElementVNode("title",null,"Insert Code (CTRL+<)",-1),e.createElementVNode("path",{fill:"currentColor",d:"m8 18l-6-6l6-6l1.425 1.425l-4.6 4.6L9.4 16.6L8 18Zm8 0l-1.425-1.425l4.6-4.6L14.6 7.4L16 6l6 6l-6 6Z"},null,-1)],Sp=[e.createElementVNode("title",null,"H2 Heading (CTRL+H)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M7 20V7H2V4h13v3h-5v13H7Zm9 0v-8h-3V9h9v3h-3v8h-3Z"},null,-1)],vp=[e.createElementVNode("title",null,"Numbered List (ALT+1)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M3 22v-1.5h2.5v-.75H4v-1.5h1.5v-.75H3V16h3q.425 0 .713.288T7 17v1q0 .425-.288.713T6 19q.425 0 .713.288T7 20v1q0 .425-.288.713T6 22H3Zm0-7v-2.75q0-.425.288-.713T4 11.25h1.5v-.75H3V9h3q.425 0 .713.288T7 10v1.75q0 .425-.288.713T6 12.75H4.5v.75H7V15H3Zm1.5-7V3.5H3V2h3v6H4.5ZM9 19v-2h12v2H9Zm0-6v-2h12v2H9Zm0-6V5h12v2H9Z"},null,-1)],Lp=[e.createElementVNode("title",null,"Bulleted List (ALT+-)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M9 19v-2h12v2H9Zm0-6v-2h12v2H9Zm0-6V5h12v2H9ZM5 20q-.825 0-1.413-.588T3 18q0-.825.588-1.413T5 16q.825 0 1.413.588T7 18q0 .825-.588 1.413T5 20Zm0-6q-.825 0-1.413-.588T3 12q0-.825.588-1.413T5 10q.825 0 1.413.588T7 12q0 .825-.588 1.413T5 14Zm0-6q-.825 0-1.413-.588T3 6q0-.825.588-1.413T5 4q.825 0 1.413.588T7 6q0 .825-.588 1.413T5 8Z"},null,-1)],Mp=[e.createElementVNode("title",null,"Strike Through (ALT+S)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"},null,-1)],Dp=[e.createElementVNode("title",null,"Undo (CTRL+Z)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88c3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},null,-1)],Tp=[e.createElementVNode("title",null,"Redo (CTRL+SHIFT+Z)",-1),e.createElementVNode("path",{fill:"currentColor",d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 0 1 7.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"},null,-1)],zp={key:0,class:"p-2 flex flex-wrap gap-x-4"},Ap=["href"],Fp=[e.createElementVNode("path",{fill:"currentColor",d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5c0-2.21-1.79-4-4-4z"},null,-1)],Ip={class:""},Pp=["name","id","label","value","rows","disabled"],jp=["id"],Rp=["id"],Se="w-5 h-5 cursor-pointer select-none text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400",Op=e.defineComponent({__name:"MarkdownInput",props:{status:{},id:{},inputClass:{},label:{},labelClass:{},help:{},placeholder:{},modelValue:{},counter:{type:Boolean},rows:{},errorMessages:{},lang:{},autoFocus:{type:Boolean},disabled:{type:Boolean},helpUrl:{default:"https://guides.github.com/features/mastering-markdown/"},hide:{}},emits:["update:modelValue","close"],setup(t,{expose:o,emit:l}){const n=t,a=l;let s=[],i=[],d=e.inject("ApiState",void 0);const r=e.computed(()=>m.errorResponse.call({responseStatus:n.status??(d==null?void 0:d.error.value)},n.id)),c=e.computed(()=>n.label??m.humanize(m.toPascalCase(n.id))),p="bold,italics,link,image,blockquote,code,heading,orderedList,unorderedList,strikethrough,undo,redo,help".split(","),w=e.computed(()=>n.hide?Ke(p,n.hide):Ke(p,[]));function u(g){return w.value[g]}const h=e.computed(()=>["shadow-sm font-mono"+ze.base.replace("rounded-md",""),r.value?"text-red-900 focus:ring-red-500 focus:border-red-500 border-red-300":"text-gray-900 "+ze.valid,n.inputClass]),f=e.ref();o({props:n,textarea:f,updateModelValue:k,selection:P,hasSelection:S,selectionInfo:oe,insert:x,replace:v});function k(g){a("update:modelValue",g)}function S(){return f.value.selectionStart!==f.value.selectionEnd}function P(){const g=f.value;return g.value.substring(g.selectionStart,g.selectionEnd)||""}function oe(){const g=f.value,C=g.value,O=g.selectionStart,U=C.substring(O,g.selectionEnd)||"",K=C.substring(0,O),N=K.lastIndexOf(`
`);return{value:C,sel:U,selPos:O,beforeSel:K,afterSel:C.substring(O),prevCRPos:N,beforeCR:N>=0?K.substring(0,N+1):"",afterCR:N>=0?K.substring(N+1):""}}function v({value:g,selectionStart:C,selectionEnd:O}){O==null&&(O=C),k(g),e.nextTick(()=>{f.value.focus(),f.value.setSelectionRange(C,O)})}function x(g,C,O="",{selectionAtEnd:U,offsetStart:K,offsetEnd:N,filterValue:_,filterSelection:ee}={}){const le=f.value;let J=le.value,ne=le.selectionEnd;s.push({value:J,selectionStart:le.selectionStart,selectionEnd:le.selectionEnd}),i=[];const $=le.selectionStart,Y=le.selectionEnd;let pe=J.substring(0,$),ue=J.substring(Y);const se=g&&pe.endsWith(g)&&ue.startsWith(C);if($==Y){if(se?(J=pe.substring(0,pe.length-g.length)+ue.substring(C.length),ne+=-C.length):(J=pe+g+O+C+ue,ne+=g.length,K=0,N=(O==null?void 0:O.length)||0,U&&(ne+=N,N=0)),_){var I={pos:ne};J=_(J,I),ne=I.pos}}else{var Z=J.substring($,Y);ee&&(Z=ee(Z)),se?(J=pe.substring(0,pe.length-g.length)+Z+ue.substring(C.length),K=-Z.length-g.length,N=Z.length):(J=pe+g+Z+C+ue,K?ne+=(g+C).length:(ne=$,K=g.length,N=Z.length))}k(J),e.nextTick(()=>{le.focus(),K=ne+(K||0),N=(K||0)+(N||0),le.setSelectionRange(K,N)})}const B=()=>x("**","**","bold"),X=()=>x("_","_","italics"),V=()=>x("~~","~~","strikethrough"),z=()=>x("[","](https://)","",{offsetStart:-9,offsetEnd:8}),j=()=>x(`
> `,`
`,"Blockquote",{}),G=()=>x("![](",")");function D(g){const C=P();if(C&&!g.shiftKey)x("`","`","code");else{const O=n.lang||"js";C.indexOf(`
`)===-1?x("\n```"+O+`
`,"\n```\n","// code"):x("```"+O+`
`,"```\n","")}}function R(){if(S()){let{sel:g,selPos:C,beforeSel:O,afterSel:U,prevCRPos:K,beforeCR:N,afterCR:_}=oe();if(g.indexOf(`
`)===-1)x(`
 1. `,`
`);else if(!g.startsWith(" 1. ")){let J=1;x("",""," - ",{selectionAtEnd:!0,filterSelection:ne=>" 1. "+ne.replace(/\n$/,"").replace(/\n/g,$=>`
 ${++J}. `)+`
`})}else x("","","",{filterValue:(J,ne)=>{if(K>=0){let $=_.replace(/^ - /,"");O=N+$,ne.pos-=_.length-$.length}return O+U},filterSelection:J=>J.replace(/^ 1. /g,"").replace(/\n \d+. /g,`
`)})}else x(`
 1. `,`
`,"List Item",{offsetStart:-10,offsetEnd:9})}function H(){if(S()){let{sel:g,selPos:C,beforeSel:O,afterSel:U,prevCRPos:K,beforeCR:N,afterCR:_}=oe();g.indexOf(`
`)===-1?x(`
 - `,`
`):!g.startsWith(" - ")?x("",""," - ",{selectionAtEnd:!0,filterSelection:J=>" - "+J.replace(/\n$/,"").replace(/\n/g,`
 - `)+`
`}):x("","","",{filterValue:(J,ne)=>{if(K>=0){let $=_.replace(/^ - /,"");O=N+$,ne.pos-=_.length-$.length}return O+U},filterSelection:J=>J.replace(/^ - /g,"").replace(/\n - /g,`
`)})}else x(`
 - `,`
`,"List Item",{offsetStart:-10,offsetEnd:9})}function F(){const g=P(),C=g.indexOf(`
`)===-1;g?C?x(`
## `,`
`,""):x("## ","",""):x(`
## `,`
`,"Heading",{offsetStart:-8,offsetEnd:7})}function E(){let{sel:g,selPos:C,beforeSel:O,afterSel:U,prevCRPos:K,beforeCR:N,afterCR:_}=oe();!g.startsWith("//")&&!_.startsWith("//")?g?x("","","//",{selectionAtEnd:!0,filterSelection:le=>"//"+le.replace(/\n$/,"").replace(/\n/g,`
//`)+`
`}):v({value:N+"//"+_+U,selectionStart:C+2}):x("","","",{filterValue:(le,J)=>{if(K>=0){let ne=_.replace(/^\/\//,"");O=N+ne,J.pos-=_.length-ne.length}return O+U},filterSelection:le=>le.replace(/^\/\//g,"").replace(/\n\/\//g,`
`)})}const q=()=>x(`/*
`,`*/
`,"");function y(){if(s.length===0)return!1;const g=f.value,C=s.pop();return i.push({value:g.value,selectionStart:g.selectionStart,selectionEnd:g.selectionEnd}),v(C),!0}function A(){if(i.length===0)return!1;const g=f.value,C=i.pop();return s.push({value:g.value,selectionStart:g.selectionStart,selectionEnd:g.selectionEnd}),v(C),!0}const T=()=>null;return e.onMounted(()=>{s=[],i=[];const g=f.value;g.onkeydown=C=>{if(C.key==="Escape"||C.keyCode===27){a("close");return}const O=String.fromCharCode(C.keyCode).toLowerCase();O==="	"?(!C.shiftKey?x("","","    ",{selectionAtEnd:!0,filterSelection:K=>"    "+K.replace(/\n$/,"").replace(/\n/g,`
    `)+`
`}):x("","","",{filterValue:(K,N)=>{let{selPos:_,beforeSel:ee,afterSel:le,prevCRPos:J,beforeCR:ne,afterCR:$}=oe();if(J>=0){let Y=$.replace(/\t/g,"    ").replace(/^ ? ? ? ?/,"");ee=ne+Y,N.pos-=$.length-Y.length}return ee+le},filterSelection:K=>K.replace(/\t/g,"    ").replace(/^ ? ? ? ?/g,"").replace(/\n    /g,`
`)}),C.preventDefault()):C.ctrlKey?O==="z"?C.shiftKey?A()&&C.preventDefault():y()&&C.preventDefault():O==="b"&&!C.shiftKey?(B(),C.preventDefault()):O==="h"&&!C.shiftKey?(F(),C.preventDefault()):O==="i"&&!C.shiftKey?(X(),C.preventDefault()):O==="q"&&!C.shiftKey?(j(),C.preventDefault()):O==="k"?C.shiftKey?(G(),C.preventDefault()):(z(),C.preventDefault()):O===","||C.key==="<"||C.key===">"||C.keyCode===188?(D(C),C.preventDefault()):O==="/"||C.key==="/"?(E(),C.preventDefault()):(O==="?"||C.key==="?")&&C.shiftKey&&(q(),C.preventDefault()):C.altKey&&(C.key==="1"||C.key==="0"?(R(),C.preventDefault()):C.key==="-"?(H(),C.preventDefault()):C.key==="s"&&(V(),C.preventDefault()))}}),(g,C)=>{var O;return e.openBlock(),e.createElementBlock("div",null,[e.renderSlot(g.$slots,"header",e.mergeProps({inputElement:f.value,id:g.id,modelValue:g.modelValue,status:g.status},g.$attrs)),c.value?(e.openBlock(),e.createElementBlock("label",{key:0,for:g.id,class:e.normalizeClass(`mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300 ${g.labelClass??""}`)},e.toDisplayString(c.value),11,wp)):e.createCommentVNode("",!0),g.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Cp,[e.createElementVNode("div",_p,[u("bold")?(e.openBlock(),e.createElementBlock("svg",{key:0,class:e.normalizeClass(Se),onClick:B,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Vp)):e.createCommentVNode("",!0),u("italics")?(e.openBlock(),e.createElementBlock("svg",{key:1,class:e.normalizeClass(Se),onClick:X,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},$p)):e.createCommentVNode("",!0),u("link")?(e.openBlock(),e.createElementBlock("svg",{key:2,class:e.normalizeClass(Se),onClick:z,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ep)):e.createCommentVNode("",!0),u("blockquote")?(e.openBlock(),e.createElementBlock("svg",{key:3,class:e.normalizeClass(Se),onClick:j,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Bp)):e.createCommentVNode("",!0),u("image")?(e.openBlock(),e.createElementBlock("svg",{key:4,class:e.normalizeClass(Se),onClick:G,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},xp)):e.createCommentVNode("",!0),u("code")?(e.openBlock(),e.createElementBlock("svg",{key:5,class:e.normalizeClass(Se),onClick:D,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Np)):e.createCommentVNode("",!0),u("heading")?(e.openBlock(),e.createElementBlock("svg",{key:6,class:e.normalizeClass(Se),onClick:F,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Sp)):e.createCommentVNode("",!0),u("orderedList")?(e.openBlock(),e.createElementBlock("svg",{key:7,class:e.normalizeClass(Se),icon:"",onClick:R,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},vp)):e.createCommentVNode("",!0),u("unorderedList")?(e.openBlock(),e.createElementBlock("svg",{key:8,class:e.normalizeClass(Se),onClick:H,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Lp)):e.createCommentVNode("",!0),u("strikethrough")?(e.openBlock(),e.createElementBlock("svg",{key:9,class:e.normalizeClass(Se),onClick:V,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Mp)):e.createCommentVNode("",!0),u("undo")?(e.openBlock(),e.createElementBlock("svg",{key:10,class:e.normalizeClass(Se),onClick:y,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Dp)):e.createCommentVNode("",!0),u("redo")?(e.openBlock(),e.createElementBlock("svg",{key:11,class:e.normalizeClass(Se),onClick:A,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Tp)):e.createCommentVNode("",!0),e.renderSlot(g.$slots,"toolbarbuttons",{instance:(O=e.getCurrentInstance())==null?void 0:O.exposed})]),u("help")&&g.helpUrl?(e.openBlock(),e.createElementBlock("div",zp,[e.createElementVNode("a",{title:"formatting help",target:"_blank",href:g.helpUrl,tabindex:"-1"},[(e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass(Se),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Fp))],8,Ap)])):e.createCommentVNode("",!0)])),e.createElementVNode("div",Ip,[e.createElementVNode("textarea",{ref_key:"txt",ref:f,name:g.id,id:g.id,class:e.normalizeClass(h.value),label:g.label,value:g.modelValue,rows:g.rows||6,disabled:g.disabled,onInput:C[0]||(C[0]=U=>{var K;return k(((K=U.target)==null?void 0:K.value)||"")}),onKeydown:e.withKeys(T,["tab"])},null,42,Pp)]),r.value?(e.openBlock(),e.createElementBlock("p",{key:2,class:"mt-2 text-sm text-red-500",id:`${g.id}-error`},e.toDisplayString(r.value),9,jp)):g.help?(e.openBlock(),e.createElementBlock("p",{key:3,class:"mt-2 text-sm text-gray-500",id:`${g.id}-description`},e.toDisplayString(g.help),9,Rp)):e.createCommentVNode("",!0),e.renderSlot(g.$slots,"footer",e.mergeProps({inputElement:f.value,id:g.id,modelValue:g.modelValue,status:g.status},g.$attrs))])}}}),Hp={key:0,class:"relative z-10 lg:hidden",role:"dialog","aria-modal":"true"},Up={class:"fixed inset-0 flex"},qp=[e.createElementVNode("span",{class:"sr-only"},"Close sidebar",-1),e.createElementVNode("svg",{class:"h-6 w-6 text-white dark:text-black",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)],Qp={class:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-black px-6 pb-2"},Gp={class:"hidden lg:fixed lg:inset-y-0 lg:z-10 lg:flex lg:w-72 lg:flex-col"},Kp={class:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-black px-6"},Zp={class:e.normalizeClass(["sticky top-0 flex items-center gap-x-6 bg-white dark:bg-black px-4 py-4 shadow-sm sm:px-6 lg:hidden"])},Wp=[e.createElementVNode("span",{class:"sr-only"},"Open sidebar",-1),e.createElementVNode("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)],No={Alert:en,AlertSuccess:mn,ErrorSummary:gn,InputDescription:kn,Icon:$l,Loading:ma,OutlineButton:fa,PrimaryButton:ya,SecondaryButton:wa,TextLink:_a,Breadcrumbs:Na,Breadcrumb:Da,NavList:Aa,NavListItem:Ga,AutoQueryGrid:Wr,SettingsIcons:ai,FilterViews:Bo,FilterColumn:Eo,QueryPrefs:xo,EnsureAccess:Sl,EnsureAccessDialog:si,TextInput:hi,TextareaInput:_i,SelectInput:Ni,CheckboxInput:Ai,TagInput:od,FileInput:$d,Autocomplete:Fd,Combobox:jd,DynamicInput:Rd,LookupInput:tc,AutoFormFields:oc,AutoForm:Ec,AutoCreateForm:Qc,AutoEditForm:um,ConfirmDelete:hm,FormLoading:wm,DataGrid:Em,CellFormat:Bm,PreviewFormat:Mm,HtmlFormat:Fm,CloseButton:jm,SlideOver:e0,ModalDialog:a0,ModalLookup:U0,Tabs:Y0,DarkModeToggle:op,SignIn:bp,MarkdownInput:Op,SidebarLayout:e.defineComponent({__name:"SidebarLayout",setup(t,{expose:o}){const{transition:l}=Jt(),n=e.ref(!0),a=e.ref(""),s={entering:{cls:"transition-opacity ease-linear duration-300",from:"opacity-0",to:"opacity-100"},leaving:{cls:"transition-opacity ease-linear duration-300",from:"opacity-100",to:"opacity-0"}},i=e.ref(""),d={entering:{cls:"transition ease-in-out duration-300 transform",from:"-translate-x-full",to:"translate-x-0"},leaving:{cls:"transition ease-in-out duration-300 transform",from:"translate-x-0",to:"-translate-x-full"}},r=e.ref(""),c={entering:{cls:"ease-in-out duration-300",from:"opacity-0",to:"opacity-100"},leaving:{cls:"ease-in-out duration-300",from:"opacity-100",to:"opacity-0"}};function p(h){l(s,a,h),l(d,i,h),l(c,r,h),setTimeout(()=>n.value=h,300)}function w(){p(!0)}function u(){p(!1)}return o({show:w,hide:u,toggle:p}),(h,f)=>(e.openBlock(),e.createElementBlock("div",null,[n.value?(e.openBlock(),e.createElementBlock("div",Hp,[e.createElementVNode("div",{class:e.normalizeClass(["fixed inset-0 bg-gray-900/80",a.value])},null,2),e.createElementVNode("div",Up,[e.createElementVNode("div",{class:e.normalizeClass(["relative mr-16 flex w-full max-w-xs flex-1",i.value])},[e.createElementVNode("div",{class:e.normalizeClass(["absolute left-full top-0 flex w-16 justify-center pt-5",r.value])},[e.createElementVNode("button",{type:"button",onClick:u,class:"-m-2.5 p-2.5"},qp)],2),e.createElementVNode("div",Qp,[e.renderSlot(h.$slots,"default")])],2)])])):e.createCommentVNode("",!0),e.createElementVNode("div",Gp,[e.createElementVNode("div",Kp,[e.renderSlot(h.$slots,"default")])]),e.createElementVNode("div",Zp,[e.createElementVNode("button",{type:"button",onClick:w,class:"-m-2.5 p-2.5 text-gray-700 dark:text-gray-200 lg:hidden"},Wp),e.renderSlot(h.$slots,"mobiletitlebar")])]))}})},Jp={install(t){Object.keys(No).forEach(l=>{t.component(l,No[l])});function o(l){const a=Object.keys(l).filter(s=>l[s]).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(l[s])}`).join("&");return a?"?"+a:"./"}t.directive("href",function(l,n){l.href=o(n.value),l.onclick=a=>{a.preventDefault(),history.pushState(n.value,"",o(n.value))}})},component(t,o){return t?o?Q.components[t]=o:Q.components[t]||No[t]||null:null}};be.css=Ca,be.default=Jp,be.useAuth=It,be.useClient=kt,be.useConfig=He,be.useFiles=En,be.useFormatters=ea,be.useMetadata=Le,be.useUtils=Jt,Object.defineProperties(be,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
